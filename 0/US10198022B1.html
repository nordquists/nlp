
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US10198022B1 - Ultra-low power bias current generation and utilization in current and voltage source and regulator devices 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="docdb" mxw-id="PA285401698" source="national office">
<div class="abstract">A bias current topology with embodiments in current source, current reference, (pseudo bandgap) voltage reference, and bandgap voltage reference that operate at ultra low currents and low power supply voltages which may use main stream standard digital Complementary Metal-Oxide-Semiconductor (CMOS) processes. The bias current topology uses chiefly a self cascode (SC), whose active resistor MOSFET is paced in series with the gate input of the MOSFETs that help generate the proportional to absolute temperature (PTAT) voltage that is applied to the active resistor MOSFET to produce a bias current.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES184170638">
<heading id="h-0001">CROSS-REFERENCE TO RELATED PATENT APPLICATIONS</heading>
<div class="description-paragraph" id="p-0002" num="0001">This application claims the priority benefit of Ser. No. 15/375,170, filed on Dec. 12, 2016; which claims the priority benefit of U.S. patent application Ser. No. 14/795,862, filed on Jul. 9, 2015; which claims priority benefit of U.S. Provisional Patent Application Ser. No. 62/022,820, filed Jul. 10, 2014 and entitled “An Ultra Low Power CMOS Current Source”; U.S. Provisional Patent Application Ser. No. 62/060,193 filed Oct. 6, 2014 and entitled “A Very Low Power Resistorless CMOS Bandgap Voltage Reference”; U.S. Provisional Patent Application Ser. No. 62/126,588 filed Feb. 28, 2015 and entitled “A Very Low Power and Stable Current Reference”; and U.S. Provisional Patent Application Ser. No. 62/129,002 filed Mar. 5, 2015 and entitled “A CMOS Bandgap Reference With Improved PSRR and Voltage Coefficient”. Each of the above applications are herein specifically incorporated by reference in their entirety.</div>
<heading id="h-0002">FIELD OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0003" num="0002">This invention relates to improvements in bias current generation for use in analog and mixed signal integrated circuits (ICs), such as current and voltage references and others.</div>
<heading id="h-0003">BACKGROUND</heading>
<div class="description-paragraph" id="p-0004" num="0003">Bias current generation is a core requirement for any integrated circuits (IC), including for higher order functions such as references, regulators, amplifiers, filters, clocks, analog to digital converter (ADC), digital to analog converter (DAC) and other key building blocks in any analog, mixed mode electronic system, or system on a chip (SOC). The bias current should be relatively stable under varying power supply and temperature conditions. Ideally it may further have the capability to operate with low power consumption.</div>
<heading id="h-0004">SUMMARY OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0005" num="0004">Aspects of the embodiments disclosed herein include that they can often be fabricated in standard digital complementary metal-oxide semiconductor (CMOS) (e.g., for low cost and high volume applications); they may be resistor less (for ultra low power battery powered and emerging batteryless applications, and small size applications); their performance is Mostly independent of metal-oxide-semiconductor field effect transistor's (MOSFET's) threshold voltage or V<sub>TH </sub>(e.g., for tight performance despite wide manufacturing variations of V<sub>TH</sub>); and the embodiments typically operate MOSFETs in subthreshold (e.g., for low current and low supply voltage consumption applications). Also, by scaling and operating MOSFET pairs in the subthreshold region a pseudo thermal voltage or V<sub>T </sub>may be generated which has proportional to absolute temperature (PTAT) voltage characteristics.</div>
<div class="description-paragraph" id="p-0006" num="0005">Other aspects of the embodiments disclosed herein may be a ‘current source’ comprising: a self cascode (SC) and an amplification function (in conjunction with PTAT voltage generation) whereby the PTAT signal is generated which is mostly dependent on thermal voltage (V<sub>T</sub>). Also, a complementary to absolute temperature (CTAT) signal is generated which is mostly dependent on MOSFET's mobility (μ) so that a relatively temperature and V<sub>TH </sub>independent bias current (I<sub>BIAS</sub>) source may be produced. This may be done in part by applying the PTAT voltage (V<sub>PTAT</sub>) and supplying the I<sub>BIAS</sub>) at the gate and not the source of the reference current mirror or loop amplifier. In this way, the active MOS resistor (and the generation of the V<sub>PTAT</sub>) is effectively placed in series with the gate terminals (instead of the source terminal) of the current mirror or loop amplifier. This topology provides the option and flexibility for employing differential source followers (or differential voltage followers) in unity gain before the amplification function. This option can help in generating a higher amplitude V<sub>PTAT </sub>so to improve performance and die yield. The temperature coefficient (TC) of the current source can receive adjustments (through program or predetermination by topology with different MOSFET's aspect ratios) to exhibit approximately flat or positive or negative TC depending on electronics system's requirements.</div>
<div class="description-paragraph" id="p-0007" num="0006">Other aspects of the embodiments disclosed herein are a method of creating a ‘current reference’: two bias current sources (with same functional topology as the first disclosure above) I<sub>TCa </sub>and I<sub>TCb </sub>with same polarity TCs that are set by W/L ratios to yield differing slopes, and subsequently be ratioed and subtracted from each other to form a stable TC current reference (I<sub>REF</sub>). Alternatively, depending on an application, the topology has the flexibility to deliver positive TC or negative TC I<sub>REF </sub>that can also receive adjustments by programming or setting different MOSFET W/Ls. In each of the two bias current sources, the amplifier's built-in offsets are forced across MOSFETs contained in self-cascodes (SC) to make the I<sub>TCa </sub>and I<sub>TCb</sub>. The magnitudes of I<sub>TCa </sub>and I<sub>TCb </sub>are set partially independently from their TCs via MOSFET's aspect ratios. To generate an I<sub>REF </sub>with stable TC, a current scalar and subtraction circuit then scales I<sub>TCa </sub>to S<sub>a</sub>.I<sub>TCa </sub>whose value changes by the same amount as S<sub>b</sub>. I<sub>TCb </sub>over an objective temperature span. This resultant S<sub>a</sub>.I<sub>TCa </sub>current is then subtracted from S<sub>b</sub>.I<sub>TCb </sub>to yield an I<sub>REF</sub>. S<sub>a </sub>and S<sub>b </sub>are abbreviated formulaic representations (as a function of MOSFET W/L ratios and CMOS device constants).</div>
<div class="description-paragraph" id="p-0008" num="0007">Other aspects of the embodiments disclosed herein are a ‘voltage reference’ (V<sub>REF</sub>) circuit comprising: resistor free voltage reference with an output voltage V<sub>REF</sub>, which can be a pseudo bandgap voltage, V<sub>BG</sub>. Here, CTAT signal voltage (V<sub>CTAT</sub>) is generated by V<sub>BE </sub>of a parasitic bipolar junction transistor (BJT) in CMOS, and its PTAT signal voltage V<sub>PTAT </sub>is generated by summing K of pseudo thermal voltage, V<sub>T</sub>×ln(g), terms generated via K series (or chain) of scaled p-channel MOSFET (PMOSFET) self-cascodes (SC), whose operating conditions are provided through a bias current generator with substantially similar functional block diagram as the first and second disclosures above. Similarly, the TC of this V<sub>REF </sub>can be set (by programming or predetermination by topology with different MOSFET's aspect ratios) to exhibit approximately flat or positive or negative TC, depending on electronics system's need.</div>
<div class="description-paragraph" id="p-0009" num="0008">Other aspects of the embodiments disclosed herein include a method of generating a bandgap voltage reference, V<sub>BG</sub>. In the general category of conventional bandgaps, a voltage reference is comprised of a V<sub>PTAT </sub>that is gained up by the ratios of two passive resistors and then added to a V<sub>CTAT </sub>(e.g., V<sub>BE</sub>) to produce V<sub>BG</sub>. Passive resistors are generally prohibitive, in size or cost, for ultra low power applications based in standard digital CMOS. This embodiments herein generally eliminate the need for passive resistors. Instead, this disclosure consists of a network of composite active MOS resistors whose operating conditions (e.g., current) are supplied via the substantially similar bias current functional topology. Here, the central bias current generation and the bandgap loop circuitries, independently apply V<sub>PTAT </sub>across functionally similar composite MOS resistors (i.e., R<sub>M802 </sub>and R<sub>M826r</sub>) to generate their respective operating currents (i.e., as a multiple or ratio of I<sub>bias</sub>). The resultant V<sub>PTAT </sub>is subsequently added to a V<sub>CTAT </sub>(e.g., V<sub>EB</sub>) to generate a V<sub>BG</sub>. Again, the TC of this reference can be set (via programming or predetermination by topology with different MOSFET's aspect ratios) to exhibit approximately flat (for V<sub>BG</sub>) or positive or negative TC output V<sub>REF</sub>, depending on electronics system's requirement. Note that operations of: R<sub>BIAS </sub>and I<sub>BIAS </sub>in the SC of the bias generation circuit, the composite active MOS resistor circuit (i.e., R<sub>BS</sub>), the chain or series of the same composite active MOS resistor (i.e., p.R<sub>BG</sub>), and the bandgap's PTAT loop follow substantially similar operating mechanisms over process, temperature, and power supply variations. This embodiment which combines the bias current circuit, active resistor circuit, and bandgap PTAT loop circuit not only may avoid passive resistors (for ultra low current and low cost), but also it can enhance bandgap's overall performance by enabling tracking of operating conditions over process, temperature, and supply voltage variations.</div>
<div class="description-paragraph" id="p-0010" num="0009">Further aspects of the embodiments disclosed herein include: a method of generating a bias current by using a first active resistor metal-oxide-semiconductor field effect transistor (MOSFET) operating in the linear region that is in series with gate input terminals of a proportional to absolute temperature (PTAT) voltage generator.</div>
<div class="description-paragraph" id="p-0011" num="0010">Further aspects of the embodiments disclosed herein include: a system comprising: a means for generating a bias current is in series with gate input terminals of a proportional to absolute temperature (PTAT) voltage generator.</div>
<div class="description-paragraph" id="p-0012" num="0011">Further aspects of the embodiments disclosed herein include: a bias current generator system comprising: a first current generator comprising: a first amplifier having a built in offset voltage tracking a proportional to first absolute temperature (PTAT) voltage (V<sub>PTAT</sub>); a first bias resistor metal-oxide-semiconductor field effect transistor (MOSFET) operating in the linear region and forming a first bias resistor, wherein the gate input terminals of the amplifier carrying the V<sub>PTAT </sub>are in series with source-drain terminals of the first bias resistor MOSFET; and wherein a first bias current is generated as a ratio of the first V<sub>PTAT </sub>over the resistance of the first bias resistor MOSFET and where adjustments can be made to the amplitude and temperature coefficient (TC) of the first bias current.</div>
<div class="description-paragraph" id="p-0013" num="0012">Further aspects of the embodiments disclosed herein include: a bias current generator system comprising: a MOSFET resistor operating in the linear region which is in series with a V<sub>PTAT</sub>; and a means for generating said V<sub>PTAT </sub>voltage and a bias current by feeding back the bias current into the MOSFET resistor. The MOSFET resistor may be part of MOSFET self-cascode or a current mirror.</div>
<div class="description-paragraph" id="p-0014" num="0013">Further aspects of the embodiments disclosed herein include: a bias current generator system comprising: a first current generator comprising: a first amplifier having inputs connected to the output of a first differential voltage follower, wherein the first differential voltage follower has a built in offset voltage tracking a proportional to first absolute temperature (PTAT) voltage (V<sub>PTAT</sub>); a first bias resistor metal-oxide-semiconductor field effect transistor (MOSFET) operating in the linear region and forming a first bias resistor, wherein the gate input terminals of the first differential voltage follower carrying the V<sub>PTAT </sub>are in series with source-drain terminals of the first bias resistor MOSFET; wherein the first amplifier output generates the bias current which flows through the source-drain of the bias resistor MOSFET until the amplifier input voltages are substantially equalized; and wherein a first bias current is generated as a ratio of the first V<sub>PTAT </sub>over the resistance of the first bias resistor MOSFET and where adjustments can be made to the amplitude and temperature coefficient (TC) of the first bias current.</div>
<div class="description-paragraph" id="p-0015" num="0014">Further aspects of the embodiments disclosed herein include: a bias current generator system comprising: a MOSFET resistor operating in the linear region which is in series with a V<sub>PTAT</sub>; a means for generating a V<sub>PTAT</sub>; and a means for generating a bias current by feeding back the bias current into the MOSFET resistor. The MOSFET resistor may be part of MOSFET self-cascode or a current mirror.</div>
<div class="description-paragraph" id="p-0016" num="0015">Further aspects of the embodiments disclosed herein include: a method of generating a reference current comprising: generating first and second bias currents such that the first and second bias currents have the same polarity of temperature coefficient (TC) and different TC slopes; and wherein the first and second bias currents are then scaled and subtracted from one another to yield stable TC reference current over an objective temperature range.</div>
<div class="description-paragraph" id="p-0017" num="0016">Further aspects of the embodiments disclosed herein include: a system of generating a reference current comprising: a MOSFET resistor operating in the linear region; and a means for generating two bias currents with the same temperature coefficients (TC) polarity but different TC slope and different amplitudes which are subsequently subtracted from one another to form the reference current.</div>
<div class="description-paragraph" id="p-0018" num="0017">Further aspects of the embodiments disclosed herein include: a method of using a composite active metal-oxide-semiconductor field effect transistor (MOSFET) resistors in bandgap voltage reference comprising: developing a proportional to absolute temperature voltage (V<sub>PTAT</sub>) across a composite active MOSFET resistors and subsequently adding the V<sub>PTAT </sub>to a complementary to absolute temperature voltage (V<sub>CTAT</sub>) to generate the band gap voltage.</div>
<div class="description-paragraph" id="p-0019" num="0018">Further aspects of the embodiments disclosed herein include: a system comprising: an active MOSFET resistor which has a V<sub>PTAT </sub>placed across it to generate a bias current; and a means for generating a floating resistance.</div>
<description-of-drawings>
<heading id="h-0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<div class="description-paragraph" id="p-0020" num="0019"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a functional block diagram of a system and method of generating ‘bias current’.</div>
<div class="description-paragraph" id="p-0021" num="0020"> <figref idrefs="DRAWINGS">FIG. 2</figref> is an alternative embodiment of <figref idrefs="DRAWINGS">FIG. 1</figref> having a functional block diagram of the system and method of generating ‘bias current’.</div>
<div class="description-paragraph" id="p-0022" num="0021"> <figref idrefs="DRAWINGS">FIG. 3</figref> is another alternative embodiment <figref idrefs="DRAWINGS">FIGS. 1 and 2</figref> having functional block diagrams of the system and method of generating ‘bias current’.</div>
<div class="description-paragraph" id="p-0023" num="0022"> <figref idrefs="DRAWINGS">FIG. 4</figref> is a schematic circuit diagram of the embodiment illustrating a bias current source, or regulator, or generator utilizing <figref idrefs="DRAWINGS">FIG. 1</figref>.</div>
<div class="description-paragraph" id="p-0024" num="0023"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a schematic circuit diagram of the embodiment illustrating a current reference, or source, or regulator, or generator utilizing <figref idrefs="DRAWINGS">FIG. 2</figref>.</div>
<div class="description-paragraph" id="p-0025" num="0024"> <figref idrefs="DRAWINGS">FIG. 6</figref> is a schematic circuit diagram of the embodiment illustrating a voltage reference, or regulator, or bandgap voltage utilizing <figref idrefs="DRAWINGS">FIG. 2</figref>.</div>
<div class="description-paragraph" id="p-0026" num="0025"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a schematic circuit diagram of the embodiment illustrating a bandgap voltage reference or regulator utilizing <figref idrefs="DRAWINGS">FIGS. 3, 8, and 9</figref>.</div>
<div class="description-paragraph" id="p-0027" num="0026"> <figref idrefs="DRAWINGS">FIG. 8</figref> is a schematic circuit diagram of the embodiment illustrating a bias current source, regulator, or generator utilized in embodiment of <figref idrefs="DRAWINGS">FIG. 7</figref>.</div>
<div class="description-paragraph" id="p-0028" num="0027"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a schematic circuit diagram of the embodiment illustrating an active MOS resistor, a composite active MOS resistor or MOS resistor utilized in embodiment of <figref idrefs="DRAWINGS">FIG. 7</figref> in conjunction with embodiment of <figref idrefs="DRAWINGS">FIG. 8</figref>.</div>
<div class="description-paragraph" id="p-0029" num="0028"> <figref idrefs="DRAWINGS">FIG. 10</figref> is a schematic circuit diagram of an embodiment illustrating a prior art bandgap voltage reference.</div>
<div class="description-paragraph" id="p-0030" num="0029"> <figref idrefs="DRAWINGS">FIG. 11</figref> is a schematic circuit diagram of an embodiment illustrating a prior art current source.</div>
<div class="description-paragraph" id="p-0031" num="0030"> <figref idrefs="DRAWINGS">FIG. 12</figref> is a schematic circuit diagram of an embodiment illustrating another prior art current source.</div>
</description-of-drawings>
<heading id="h-0006">DETAILED DESCRIPTION</heading>
<div class="description-paragraph" id="p-0032" num="0031">The following description has been presented for purposes of illustration and description and is not intended to be exhaustive or to limit the embodiments to the precise form disclosed. Many modifications and variations are possible in light of the teachings disclosed herein. The embodiments were chosen and described to explain principles of operation and their practical applications. However, the scope of the invention is to be defined by the claims.</div>
<div class="description-paragraph" id="p-0033" num="0032">Battery operated or batteryless electronic systems benefit from integrated circuits and electronic components that consume minimal power, which can withstand and perform to specifications down to the lowest power supply levels over a wide span of temperatures, as well as ones that can provide stable Alternating Current (AC) and non-jittery transient power up and power down characteristics. For higher order analog functions (e.g., references, regulators, amplifiers, converters, voltage controlled oscillators, phased locked loops, clock chips, etc) and systems (e.g., mixed mode system on a chip (SOC)), higher performance of the bias generation function can facilitate a more rugged system topology and lower cost systems solutions when such functions can be fabricated in standard digital mainstream Complementary Metal-Oxide Semiconductor (CMOS) technologies. While battery operation would benefit from low current consuming electronics, however, for next generation batteryless electronics (e.g., batteryless Internet of Things, energy harvesting, biometrics electronics, etc.), ultra low power consuming electronics is a not a ‘nice to have’ but a ‘must have’.</div>
<div class="description-paragraph" id="p-0034" num="0033">Generally, ultra low power analog and mixed signal electronic systems require large value resistors that may occupy large die sizes. Otherwise, they would require special and additional fabrication layers (which are costly) to deposit high ohm per square resistive material on silicon wafers which makes the use of passive resistors very costly. In order for the new and emerging applications (e.g., energy harvesting, biometrics, consumer medical electronics) to realize their full market size and reach potential expediently, resistor free electronics in small die size are key, and being based in main stream digital CMOS fabrication process manufacturing (that is proven) would be required. Such proven manufacturing platforms help achieve low cost and reduce manufacturing risk so as to facilitate and expedite serving such emerging applications, especially those that require passing regulatory tests (that favor proven manufacturing platforms) such as bio-electronics and consumer bio-metrics applications.</div>
<heading id="h-0007">Definitions, Acronyms and Abbreviations</heading>
<div class="description-paragraph" id="p-0035" num="0034">The following terms, definitions, acronyms, term usages and abbreviations are explained below and used throughout this detailed description:</div>
<div class="description-paragraph" id="p-0036" num="0035">
<tables id="TABLE-US-00001" num="00001">
<patent-tables colsep="0" frame="none" rowsep="0">
<table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td align="center" class="description-td" colspan="2" nameend="2" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">TERMS</td>
<td class="description-td">DESCRIPTION</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="2" nameend="2" namest="1" rowsep="1"> </td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td class="description-td">Bias current, reference current</td>
<td class="description-td">Used interchangeably</td>
</tr>
<tr class="description-tr">
<td class="description-td">circuit, and current source</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">CMOS</td>
<td class="description-td">Complementary Metal Oxide</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">Semiconductor (may be operated in</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">subthreshold or normal regions)</td>
</tr>
<tr class="description-tr">
<td class="description-td">MOSFET</td>
<td class="description-td">Metal Oxide Semiconductor Field Effect</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">Transistors (may be operated in</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">subthreshold or normal regions)</td>
</tr>
<tr class="description-tr">
<td class="description-td">CMOS, PMOS, NMOS and </td>
<td class="description-td">Used interchangeably</td>
</tr>
<tr class="description-tr">
<td class="description-td">CMOSFET, PMOSFET, </td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">NMOSFET</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Gate, source, drain and gate </td>
<td class="description-td">Used interchangeably</td>
</tr>
<tr class="description-tr">
<td class="description-td">terminal, source terminal, </td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">and drain terminal</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">W/L of a MOSFET</td>
<td class="description-td">Width over length ratio (aspect ratio) of</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">MOSFETs</td>
</tr>
<tr class="description-tr">
<td class="description-td">W/L of a MOSFET, scale </td>
<td class="description-td">Used interchangeably</td>
</tr>
<tr class="description-tr">
<td class="description-td">factors, and aspect ratios</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Ohms per square or Ω/square</td>
<td class="description-td">Resistivity of material per square area</td>
</tr>
<tr class="description-tr">
<td class="description-td">Terms applied to the W/L of </td>
<td class="description-td">Used interchangeably</td>
</tr>
<tr class="description-tr">
<td class="description-td">MOSFETs such as </td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">predetermined, or </td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">programmed, or set</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">A</td>
<td class="description-td">Ampere</td>
</tr>
<tr class="description-tr">
<td class="description-td">V</td>
<td class="description-td">Volt</td>
</tr>
<tr class="description-tr">
<td class="description-td">N</td>
<td class="description-td">Nano or 10<sup>−9</sup> (e.g., nA = nano ampere or</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">10<sup>−9</sup> A</td>
</tr>
<tr class="description-tr">
<td class="description-td">BJT</td>
<td class="description-td">Bipolar Junction Transistor</td>
</tr>
<tr class="description-tr">
<td class="description-td">PTAT</td>
<td class="description-td">Proportional to Absolute Temperature</td>
</tr>
<tr class="description-tr">
<td class="description-td">CTAT</td>
<td class="description-td">Complementary to Absolute</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">Temperature</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>PTAT</sub> </td>
<td class="description-td">Proportional to Absolute Temperature</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">Voltage</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>CTAT</sub> </td>
<td class="description-td">Complementary to Absolute</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">Temperature Voltage</td>
</tr>
<tr class="description-tr">
<td class="description-td">PTAT signal, CTAT signal, </td>
<td class="description-td">May be used interchangeably</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>PTAT </sub>signal and V<sub>CTAT </sub>signal</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>REF</sub> </td>
<td class="description-td">Reference voltage</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>BG</sub> </td>
<td class="description-td">Bandgap voltage</td>
</tr>
<tr class="description-tr">
<td class="description-td">I<sub>REF</sub> </td>
<td class="description-td">Reference current</td>
</tr>
<tr class="description-tr">
<td class="description-td">I<sub>BIAS</sub> </td>
<td class="description-td">Bias current</td>
</tr>
<tr class="description-tr">
<td class="description-td">R<sub>BIAS</sub> </td>
<td class="description-td">Bias resistor</td>
</tr>
<tr class="description-tr">
<td class="description-td">R<sub>BG</sub> </td>
<td class="description-td">Bandgap resistor</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>EB </sub>or V<sub>BE</sub> </td>
<td class="description-td">May be used interchangeably as the</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">base emitter voltage of a BJT</td>
</tr>
<tr class="description-tr">
<td class="description-td">M</td>
<td class="description-td">MOSFET carrier mobility</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>T</sub> </td>
<td class="description-td">Thermal voltage</td>
</tr>
<tr class="description-tr">
<td class="description-td">C<sub>OX</sub> </td>
<td class="description-td">Gate oxide capacitance</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>TH</sub> </td>
<td class="description-td">Threshold voltage of a MOSFET</td>
</tr>
<tr class="description-tr">
<td class="description-td">M</td>
<td class="description-td">To show MOSFET mobility exponent</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">factor used in device equations</td>
</tr>
<tr class="description-tr">
<td class="description-td">N</td>
<td class="description-td">To MOSFET gain factor correction used</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">in device equations</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>OFS</sub> </td>
<td class="description-td">Offset voltage between MOSFETs</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>DS</sub> </td>
<td class="description-td">Drain to source voltage of a MOSFET</td>
</tr>
<tr class="description-tr">
<td class="description-td">I<sub>DS</sub>, I<sub>D </sub>or ID<sub>Mxxx</sub> </td>
<td class="description-td">Drain to source current of a MOSFET</td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>GS</sub> </td>
<td class="description-td">Gate to source voltage of a MOSFET</td>
</tr>
<tr class="description-tr">
<td class="description-td">TC</td>
<td class="description-td">Temperature coefficient</td>
</tr>
<tr class="description-tr">
<td class="description-td">VC</td>
<td class="description-td">Voltage coefficient</td>
</tr>
<tr class="description-tr">
<td class="description-td">PSRR</td>
<td class="description-td">Power supply rejection ratio</td>
</tr>
<tr class="description-tr">
<td class="description-td">′a′ through ′z′</td>
<td class="description-td">To show the ratio of MOSFET W/Ls or</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">their aspect ratios used in a circuit</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">design</td>
</tr>
<tr class="description-tr">
<td class="description-td">K<sub>i </sub>(e.g., K<sub>a </sub>or K<sub>b</sub>) or </td>
<td class="description-td">To show formulaic constants as a</td>
</tr>
<tr class="description-tr">
<td class="description-td">S<sub>j </sub>(e.g., S<sub>a </sub>or S<sub>b</sub>)</td>
<td class="description-td">function of either set MOSFET scale</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">factor, or process fabrications constants,</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">or both</td>
</tr>
<tr class="description-tr">
<td class="description-td">SC</td>
<td class="description-td">MOSFET Self-cascode</td>
</tr>
<tr class="description-tr">
<td class="description-td">MOSFET's linear, triode, </td>
<td class="description-td">Used interchangeably</td>
</tr>
<tr class="description-tr">
<td class="description-td">resistive regions of operations</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Subthreshold</td>
<td class="description-td">MOSFET's Subthreshold region of</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">operation</td>
</tr>
<tr class="description-tr">
<td class="description-td">Differential source follower, </td>
<td class="description-td">Used interchangeably</td>
</tr>
<tr class="description-tr">
<td class="description-td">differential voltage follower, </td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">differential DC level shifters, </td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">unity gain buffers, and </td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">differential voltage buffers</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">V<sub>PTAT</sub>, V<sub>BIAS</sub>, built in offset </td>
<td class="description-td">Used interchangeably</td>
</tr>
<tr class="description-tr">
<td class="description-td">voltage</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Resistance and impedance</td>
<td class="description-td">Used interchangeably</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="2" nameend="2" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0037" num="0036">Here is a brief introduction of the bias current generator block diagram functions (<figref idrefs="DRAWINGS">FIGS. 1, 2, and 3</figref>). The proposed bias current generation circuit belongs to a class of circuits that uses thermal voltage (V<sub>T</sub>) as a PTAT signal that work in concert with MOSFET's mobility (μ) as a CTAT signal to generate a current that can be set (predetermined and programmed via MOSFET's W/L ratios, which can be controlled most accurately in fabrication process manufacturing) to be approximately stable with temperature (i.e., have a stable TC) or have a positive or negative TC, depending on the electronics systems need.</div>
<div class="description-paragraph" id="p-0038" num="0037">The majority of circuit implementations (in the prior art in this category of bias current generation) derail in their current regulation at high temperatures. When operating at ultra low currents, amongst other factors, the MOSFET's small leakage currents (e.g., MOSFET source, drain, body junction diode's leakage) may no longer be ignored, when compared to that of the (also very small) circuit's operating currents. Leakage current especially mounts at hot temperatures and as such they can interfere and derail performance. Although, operating at ultra low currents generally narrows the temperature span due, in part, to standard digital CMOS device leakages, but circuits may be more or less sensitive to leakage depending on topology. For example, in the prior art implementations, where the bias resistors are in series with the source of the current mirror or loop amplifier circuit, such implementations are accompanied with asymmetries induced by mismatched MOSFET W/Ls in order to generate the PTAT signal in current mirrors, loop amplifiers, and or self-cascode cells. Therefore, high temperature operation may, in part, be hindered due to MOSFET source drain body junction diode leakage imbalances. For example, in asymmetric junction diode areas in drain or source terminal's leakage currents pile on (which are hard to match and cancel) as they double every 10 degrees Celsius (10 C)—in a thin ice circuit environment so to speak—where each transistor is already operating in ultra low currents (approximately five to tens of nanoamperes (e.g., more than approximately 5 nA and less than approximately 100 nA).</div>
<div class="description-paragraph" id="p-0039" num="0038">In order for the leakage current imbalances present in ‘signal paths’ of current mirror's, or loop amplifier's, or self-cascode's to be contained for a majority of bias current circuit implementations in the prior art, MOSFET aspect ratios need to be somewhat restricted, which limits the magnitude of the V<sub>PTAT </sub>signal that can be generated. In the subthreshold region (for ultra low current operation), MOSFET's mismatches are dominated by V<sub>TH </sub>mismatches. The implementation of most of the prior art systems, generally limits the magnitude of the V<sub>PTAT </sub>signal (to contain leakage), which then makes the topology more sensitive to MOSFET's V<sub>TH </sub>mismatches. As such, the V<sub>TH </sub>mismatches become a large part of the intended V<sub>PTAT </sub>magnitude, which worsens the current source's die yield to specifications. Moreover, in the general cases of the prior art (e.g., when using a self-cascode structure to generate the PTAT signal) the positive TC of V<sub>T </sub>term and negative TC of V<sub>GS </sub>(V<sub>TH</sub>) can push the self-cascode stack off to the edge of the triode-saturation region and derail accuracy of the current reference at min-max temperatures. In the next sections, the proposed embodiments are described along with their benefits.</div>
<div class="description-paragraph" id="p-0040" num="0039">Suitable for ultra low power and high volume applications, the proposed ‘bias current generator’ IC belongs to a resistor-free category of CMOS circuits that combines a proportional to absolute temperature (PTAT) signal dependent mostly on pseudo thermal voltage (V<sub>T</sub>) and a complementary to absolute temperature (CTAT) signal dependent mostly on MOSFET's mobility (μ) to generate a relatively temperature and MOSFET threshold voltage (V<sub>TH</sub>) independent current source, although the embodiments disclosed here can be set to deliver positive or negative TC depending on application need.</div>
<div class="description-paragraph" id="p-0041" num="0040">First, a brief description of the general embodiments are provided where the ‘bias current generator’ block diagrams contain 2 basic functions: amplification function (in combination with some V<sub>PTAT </sub>as a built in offset voltage generation function) and self cascode (SC) function. A subset of variations of the bias current generator's functional block diagrams are depicted in <figref idrefs="DRAWINGS">FIGS. 1 and 2</figref> which demonstrate using either NMOS or PMOS self cascode (SC) with respect to a voltage source V<sub>B </sub>(e.g., negative power supply). Other variations knowable to those skilled in the art, could include, but not limited to, using n-type metal-oxide-semiconductor field effect transistor (NMOSFET) or p-type metal-oxide-semiconductor field effect transistor (PMOSFET) SC with respect to a positive power supply as well.</div>
<div class="description-paragraph" id="p-0042" num="0041">Functional block diagram of <figref idrefs="DRAWINGS">FIG. 1</figref> is utilized in bias current source embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref>. Functional block diagram of <figref idrefs="DRAWINGS">FIG. 2</figref> is utilized in embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref> (current reference), and <figref idrefs="DRAWINGS">FIG. 6</figref> (voltage reference, which can be a pseudo bandgap voltage reference). Functional block diagram of <figref idrefs="DRAWINGS">FIG. 3</figref> is utilized in embodiment of <figref idrefs="DRAWINGS">FIG. 7</figref> (bandgap voltage reference). The specific embodiments of each of the <figref idrefs="DRAWINGS">FIGS. 4, 5, 6, and 7</figref> will be described below in detail.</div>
<div class="description-paragraph" id="p-0043" num="0042">The simplified block diagrams in <figref idrefs="DRAWINGS">FIGS. 1, 2, and 3</figref> could contain elements such as amplifiers. The amplifier is defined herein broadly. For example, it could be a voltage output or current output amplifier, or have voltage output combined with voltage controlled current source or VCCS. Such an amplifier, could also contain differential buffers (e.g., differential source followers, DC level shifters, voltage offset generators in series with its differential inputs). Other elements contained here could be voltage followers, DC level shifters, voltage offset generators, independent Voltage Controlled Current Sources (VCCS), current mirrors, bias current or current generator circuits, self-cascodes, and MOS transistors (e.g., MOS transistors can be configured to function as an active resistor, or VCCS, current mirrors, current sources or active resistors or can be paired in the input of an amplifier or buffer or DC level shifter—with differing scale factors—to generate offset voltage).</div>
<div class="description-paragraph" id="p-0044" num="0043">In <figref idrefs="DRAWINGS">FIGS. 1, 2, and 3</figref>, the amplifiers A<sub>200n</sub>, and A<sub>400p</sub>, and A<sub>800p </sub>(respectively) combined with or embed offset voltage (i.e., multiple of V<sub>T </sub>or V<sub>PTAT</sub>) generation circuits. Note that although V<sub>T </sub>is generally thermal voltage associated with BJTs. However, when operating multiple MOSFETs (which are scaled differently or are operated at different quiescent currents) in a subthreshold region, a pseudo V<sub>T </sub>term may be realized as a function of their gate terminal to source terminals voltage (V<sub>GS</sub>) differences which is what is done here. The described amplifiers, generate and force the I<sub>BIAS </sub>current (i.e., ID<sub>M202n</sub>, ID<sub>M402p</sub>, ID<sub>M802p</sub>) through the self cascode MOSFETs (i.e., M<sub>200n</sub>-M<sub>202n</sub>, M<sub>400p</sub>-M<sub>402p</sub>, M<sub>800p</sub>-M<sub>802p</sub>) until the inputs of said amplifiers are substantially equalized with some amplitude of V<sub>PTAT </sub>that can be set by W/L of input MOSFETs (e.g., combining the V<sub>PTAT </sub>generation and amplification circuits). Note that the I<sub>BIAS </sub>can be set to generate a positive, negative, or stable TC depending on settings of MOSFET's W/L ratios. The PTAT signal is mostly contributed via pseudo thermal voltage, or pseudo V<sub>T</sub>, derived from the built in or programmed offset voltages that can be generated by subthreshold MOSFET of the differential inputs, at their gates (e.g., of either the amplifier or voltage followers or combination thereof). The CTAT signal is mostly contributed via μ of the resistive MOSFET that is contained in the self-cascode.</div>
<div class="description-paragraph" id="p-0045" num="0044">Node description of <figref idrefs="DRAWINGS">FIG. 1</figref> is as follows: node <b>200</b> <i>n </i>is connected to the output of A<sub>200n</sub>, drain and gate of M<sub>200n</sub>, and gate of M<sub>202n</sub>. Node <b>202</b> <i>n </i>is connected to sources and body of M<sub>200n</sub>, drain of M<sub>202n</sub>, and input of A<sub>200n</sub>. Node V<sub>B </sub>is connected to voltage source, the other input of A<sub>200n</sub>, and source and body of M<sub>202n</sub>.</div>
<div class="description-paragraph" id="p-0046" num="0045">Node description of <figref idrefs="DRAWINGS">FIG. 2</figref> is as follows: node <b>400</b> <i>p </i>is connected to the output of A<sub>400p</sub>, drain and gate of M<sub>400p</sub>, and gate of M<sub>402p</sub>. Node <b>402</b> <i>p </i>is connected to sources and body of M<sub>400p</sub>, drain of M<sub>402p</sub>, and input of A<sub>400p</sub>. Node V<sub>B </sub>is connected to voltage source V<sub>B</sub>, the other input of A<sub>400p</sub>, and source and body of M<sub>402p</sub>.</div>
<div class="description-paragraph" id="p-0047" num="0046">Node description of <figref idrefs="DRAWINGS">FIG. 3</figref> is as follows: node <b>800</b> <i>p </i>is connected to the output of A<sub>800p</sub>, drain and gate of M<sub>800p</sub>, and gate of M<sub>802p</sub>. Node <b>802</b> <i>p </i>is connected to sources and body of M<sub>800p</sub>, drain of M<sub>802p</sub>, and input of A<sub>800p</sub>. Node <b>1</b> <i>p </i>is connected to voltage source V<sub>A</sub>, the other input of A<sub>800p</sub>, and source and body of M<sub>802p</sub>.</div>
<div class="description-paragraph" id="p-0048" num="0047">In <figref idrefs="DRAWINGS">FIGS. 1, 2, and 3</figref>, the MOSFET aspect ratios p<sub>1</sub>, p<sub>2</sub>, n<sub>1</sub>, and n<sub>2 </sub>can be predetermined or programmed from approximately 0.1 to approximately 20. Note that there are other variations of this embodiment. For example, self cascodes (SC) can be NMOS or PMOS types with their body terminal shorted to the sources or to voltage sources (e.g., a supply voltage), and the SC's operating current can be supplied with I<sub>BIAS </sub>via a VCCS from the positive or negative supply or other voltage source terminals. The amplifier block (i.e., A<sub>200n</sub>, A<sub>400p</sub>, and A<sub>800p</sub>) can be a voltage output or current output (e.g., trans conductance amplifier) or an amplifier with a built in offset, or series combination of an amplifier with no built offset plus source followers (or DC level shifters) with built in offsets that generates a V<sub>PTAT </sub>signal.</div>
<div class="description-paragraph" id="p-0049" num="0048">In summary, the higher performance of the bias current generator shown in block diagrams of <figref idrefs="DRAWINGS">FIGS. 1, 2, and 3</figref> or their other variations are achieved in part by sensing the V<sub>PTAT </sub>and forcing the I<sub>BIAS </sub>at the ‘gate’ and not the ‘source’ terminal of the reference current mirror or loop amplifier. In effect, the V<sub>PTAT </sub>is generated and applied at the gate of the current mirror or loop amplifier. In such a configuration, the active MOS resistor (R<sub>BIAS</sub>) in series with the gate of the current mirror or loop amplifier, and the I<sub>BIAS </sub>is flowing through the active MOS resistor drain to source terminals. There are additional benefits in this bias current generator, such as more flexibility, enhanced AC and transient response, less leakage, more rugged topology for manufacturability, which will be discussed in more details herein. Moreover, there are extended and combinational benefits when utilizing this bias generator function in combination with other higher level analog functions such as a current reference (i.e., <figref idrefs="DRAWINGS">FIGS. 4 and 5</figref>) and voltage reference (i.e., <figref idrefs="DRAWINGS">FIGS. 6 and 7</figref>), which will be also described in more detail in subsequent sections.</div>
<div class="description-paragraph" id="p-0050" num="0049">Placing the MOSFET of self cascode that establishes the R<sub>BIAS </sub>(i.e., M<sub>202n</sub>, M<sub>402p</sub>, M<sub>802p</sub>) in ‘gate’ and not the ‘source’ terminal of the current mirror or loop amplifier, effectively places the R<sub>BIAS </sub>function into the feedback loop of the current mirror amplifier signal path. One benefit of this feature is that, in effect, the open loop amplification in effect reduces the impedance effect of the R<sub>BIAS </sub>(which is in the mega ohms level for ultra low currents) at output and input nodes of the current mirror or loop amplifier.</div>
<div class="description-paragraph" id="p-0051" num="0050">These implementations allows for the flexibility and having the option of employing differential source followers to generate a larger V<sub>PTAT </sub>(instead of prior art use of either asymmetric current mirror's or loop amplifier's source terminal connected to R<sub>BIAS </sub>or scaled self-cascode, which in part can limit optimal amplitude for the V<sub>PTAT </sub>signal). This method's flexibility allows for larger V<sub>PTAT </sub>which helps desensitize I<sub>BIAS </sub>from offsets (e.g., due to normal manufacturing V<sub>TH </sub>and W/L mismatches associated with transistors in current mirror and loop amplifier). Therefore the I<sub>BIAS </sub>could be more insensitive to standard digital CMOS process fabrication variations and mismatches.</div>
<div class="description-paragraph" id="p-0052" num="0051">Source drain junctions of MOSFETs have leakage current that double with every 10 C rise in temperature. The proposed bias current generator topology allows for reduction of the impact of asymmetric aspect ratios for MOSFETs, and the narrowing their undesirable impact of their associated source drain junction leakages, for example in the cascoded current mirrors, in the I<sub>BIAS </sub>current mirror or current loop amplifier.</div>
<div class="description-paragraph" id="p-0053" num="0052">This bias current generation scheme provides the option of utilizing NMOSFET or PMOSFET self cascodes where with respect to either the positive and negative power supply. For example, this is demonstrated in <figref idrefs="DRAWINGS">FIG. 1</figref> with NMOSFET SC and <figref idrefs="DRAWINGS">FIG. 2</figref> with PMOSFET SC, where both implementations are with respect to V<sub>B </sub>which can be a negative power supply. However, in <figref idrefs="DRAWINGS">FIG. 3</figref>, a PMOSFET SC is implemented with respect to V<sub>A</sub>, which can be a positive power supply. This feature can have several benefits, including but not limited to, more power supply head room, higher PSRR, and more system topology flexibility in setting the bias current with respect to either positive or negative power supplies.</div>
<div class="description-paragraph" id="p-0054" num="0053">Another benefit of this bias current generation scheme is that it allows for negative power or V<sub>SS </sub>and ground potential (GND) to be same, as well as allowing for decoupling of negative power or V<sub>SS </sub>from ground (GND), where technically V<sub>SS </sub>can run at a lower voltage than the ground potential. As a result, the bias current value may be set relative to either GND or V<sub>SS </sub>depending on electronics system requirement, which provides for more system topology flexibility.</div>
<div class="description-paragraph" id="p-0055" num="0054">In summary, the benefits of the bias current generation circuit may include: the proposed topology can deliver current consumption in the tens of nanoamperes (nA) range (i.e., more than approximately 10 nA and less than approximately 100 nA) operate with sub 1 volt supply voltage in a small die size that is 4 to 50 times smaller in size, compared to prior art current references in its category. Benefits of this current reference may include: low cost, higher temperature span, low voltage coefficient (VC), wider TC and V<sub>DD </sub>span. The impact of source-drain junction leakages is reduced and hot temperature span of the bias current generator is extended. Low power supply operation at ultra low current can be achieved in part because of the flexibility of the bias current generation scheme. Power supply rejection ratio (PSRR) and other AC performance are enhanced. The overall benefit of this class of bias current generators is retained, including for example, that it can operate in sub-threshold, which keeps current consumption low and enables lower V<sub>DD </sub>operation. Moreover, the impact of process fabrication variation on performance is contained and controlled given the significantly less sensitivity of the bias current generation to V<sub>TH </sub>and dependence on μ, which is more tightly controlled in fabrication process. Moreover, low cost is also achieved because in part the proposed topology does not require any passive resistors. Low cost is also achieved by proposed topology's small die size that may be based in standard digital CMOS, making the topology portable to multiple digital standard CMOS fabrication facilities. Also, basing the topology on standard digital CMOS fabrication process (without any custom or special devices) facilitates process portability which should help speeding up regulatory bodies qualification of new products (i.e., biometric ICs) who view standard manufacturing ICs much more favorably.</div>
<heading id="h-0008">Description of the FIG. <b>4</b> Embodiment in a ‘Bias Current Source’</heading>
<div class="description-paragraph" id="p-0056" num="0055">The first utilization of the functional block diagram of <figref idrefs="DRAWINGS">FIG. 1</figref> (bias current generation) is embodied in the ‘bias current source’ that is depicted in <figref idrefs="DRAWINGS">FIG. 4</figref> which can contain elements such as amplifiers. The amplifier is defined here broadly, which could be a voltage output or current output, or have voltage output combined with voltage controlled current source or VCCS. Such an amplifier could also contain differential buffers (e.g., differential source followers, DC level shifters, voltage offset generators in series with its differential inputs). Other elements contained here could be independent voltage followers, DC level shifters, voltage offset generators, voltage controlled current source (VCCS), current mirrors, bias current or current generator circuits, self-cascodes, and MOS transistors (e.g., MOS transistors can be configured to function as an active resistor, or VCCS, current mirrors, current sources or active resistors or can be paired in the input of an amplifier or buffer or DC level shifter—with differing scale factors—to generate offset voltages).</div>
<div class="description-paragraph" id="p-0057" num="0056">Here is a brief summary of the description and benefits of the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref>, which flow from functional block diagram of the embodiment shown in Figure (and its various benefits that were just summarized in the previous section).</div>
<div class="description-paragraph" id="p-0058" num="0057">Suitable for ultra low power applications, including energy harvesting, the proposed ‘bias current source’ embodiment belongs to a resistor-free category of CMOS circuits that combines a PTAT signal dependent mostly on V<sub>T </sub>and CTAT signal dependent mostly on MOSFET's μ to generate a relatively temperature and V<sub>TH </sub>independent current source. The proposed topology consumes ultra lower currents (e.g., 50 nA to 500 nA) and can operate with sub-1V V<sub>DD</sub>. The simplicity of the topology, in part, enables its small size, compared to prior art current references in its category. It has the potential for wider temperature compared to its alternatives. Higher temperature span may be achieved by the following. First, sensing the PTAT voltage and forcing the I<sub>BIAS </sub>at the gate and not the source of the reference current mirror or loop amplifier. In effect this topology, places the R<sub>BIAS </sub>(and the development of V<sub>BIAS</sub>) in series with the gate as opposed to in series with the source of the current mirror or loop amplifier. Second, having the option of using differential source followers to generate a larger PTAT voltage instead of prior art use of either asymmetric MOSFETs in the current mirror or current loop amplifier and or scaled self-cascode. Third, using donut shaped equal W/L transistors in a circuit layout to minimize the drain size for less leakage current.</div>
<div class="description-paragraph" id="p-0059" num="0058">This embodiment allows for larger PTAT voltage, which helps desensitize I<sub>BIAS </sub>from error contributions of normal mismatches and offset and fabrication process variations (e.g., V<sub>TH </sub>and W/L mismatches associated with transistors in current mirror and loop amplifier). The proposed topology allows for minimization or elimination of the impact of asymmetric transistors and cascoded current mirrors in the current reference (I<sub>REF </sub>or I<sub>R </sub>or I<sub>r</sub>) loop. As a result, compact die size is realized, the impact of source-drain junction leakages is reduced substantially, and hot temperature span is extended.</div>
<div class="description-paragraph" id="p-0060" num="0059">In <figref idrefs="DRAWINGS">FIG. 4</figref>, the signal loop that generates the operating current, or I<sub>BIAS</sub>, of the circuit consist of M<sub>202 </sub>(which makes the active CMOS resistor, R<sub>BIAS </sub>or R<sub>M202</sub>), source followers M<sub>204 </sub>and M<sub>206</sub>, voltage amplifier A<sub>200</sub>, and PMOS transistors M<sub>210</sub>-M<sub>216</sub>. Note that all transistors used in this embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref> circuitry operate in the subthreshold region to keep the power supply headroom and current consumption low, but this topology is not limited to subthreshold operation. The active resistor MOSFET, M<sub>200</sub>, operating in triode, takes a small die size but can generate high value resistor (R<sub>M202</sub>) needed for ultra low power applications. As noted earlier, this would otherwise be impractical (due to large size or high cost of additional thin film resistor layer) with the available passive resistor in standard digital CMOS fabrication. Transistors M<sub>214 </sub>and M<sub>216 </sub>(where aspect ratio or W/L<sub>M216 </sub>over W/L<sub>M214 </sub>is ‘d’) function as current sources for the source follower differential pairs composed of M<sub>204 </sub>(biased by ID<sub>M214</sub>) and M<sub>206 </sub>(biased by ID<sub>M216</sub>) that have a built in offset voltage (set by aspect ratios of M<sub>204 </sub>over M<sub>206 </sub>that is ‘b’) which help generate the PTAT term V<sub>T</sub>.ln (bxd) or V<sub>BIAS </sub>or V<sub>PTAT</sub>. Note that the active MOS resistor, M<sub>202</sub>, which is the R<sub>BIAS</sub>, is in series with the gates of source followers, M<sub>204 </sub>and M<sub>206</sub>, that feed the inputs of the current loop amplifier, A<sub>200</sub>. This in effect, places the R<sub>BIAS </sub>and generation of the V<sub>BIAS </sub>(or V<sub>PTAT</sub>) applied to the gate of loop amplifier, A<sub>200</sub>. The amplifier A<sub>200 </sub>substantially equalizes its inputs which are the source terminals voltages of M<sub>204 </sub>and M<sub>206 </sub>by forcing the gate voltages of transistors M<sub>210 </sub>and M<sub>212 </sub>(which operate as a voltage controlled current source (VCCS)). Accordingly, operating currents ID<sub>M210 </sub>and ID<sub>M212 </sub>flow through R<sub>M202 </sub>whose operating current scales in proportion with I<sub>BIAS</sub>. The value of R<sub>M202 </sub>or R<sub>BIAS </sub>is a function of I<sub>BIAS </sub>as well as being set in part by the SC<sub>200 </sub>(composed of M<sub>200 </sub>and M<sub>202</sub>) W/Ls and MOSFETs mobility (μ), which helps generate the CTAT term. Note that in <figref idrefs="DRAWINGS">FIG. 4</figref> the scale factors a, b, c, and d are the ratios of transistor's width over length (W/L or scale factors or aspect ratios) that may be programmed or predetermined from approximately 0.1 to approximately 50 (but for that can be zero that is eliminating M<sub>212</sub>) depending on such considerations as die size and various operating specifications, including but not limited to current consumption, temperature coefficients, and power supply range objectives.</div>
<div class="description-paragraph" id="p-0061" num="0060">The connections of the elements in <figref idrefs="DRAWINGS">FIG. 4</figref> are described as follows. Node <b>1</b> is the positive supply voltage terminal or V<sub>DD</sub>. Node <b>2</b> is the negative supply voltage terminal or V<sub>SS </sub>(which can also be set as the zero voltage terminal or ground). The source and body terminals of transistors M<sub>210</sub>, M<sub>212</sub>, M<sub>214</sub>, and M<sub>216 </sub>are connected to node <b>1</b>. Node <b>2</b> is connected to source and bodies of M<sub>202</sub>, M<sub>204</sub>, and M<sub>206</sub>, as well as the body of M<sub>200</sub>. Transistors M<sub>200 </sub>and M<sub>202 </sub>form the self cascode, where the diode connected M<sub>200 </sub>is cascoded with M<sub>202</sub>. Node <b>200</b> is connected to the gate and drain terminals of M<sub>200 </sub>as well as to the gate of M<sub>202 </sub>plus drain of M<sub>210</sub>. Node <b>202</b> is connected to the source terminal of M<sub>200</sub>, and drain terminal of M<sub>202</sub>, and gate of M<sub>204</sub>, and drain of M<sub>212</sub>. Note that the body terminal of M<sub>200 </sub>can be connected to either its source at node <b>202</b> or to node <b>2</b>, depending on the process fabrication. In this embodiment, the body terminals of M<sub>200 </sub>and M<sub>202 </sub>are connected to node <b>2</b>. Moreover, here the PTAT voltage is generated by using two source followers with a built in offset voltage, which is formed by transistors M<sub>204 </sub>and M<sub>206 </sub>combined with current sources supplied by M<sub>214 </sub>and M<sub>216</sub>. Node <b>204</b> is connected to the source and body of M<sub>204</sub>, drain of M<sub>214 </sub>and positive input of A<sub>200</sub>. Node <b>206</b> is connected to body and source of M<sub>206</sub>, drain of M<sub>216</sub>, and negative input of A<sub>200</sub>. Note that M<sub>210</sub>, M<sub>212</sub>, M<sub>214</sub>, and M<sub>216 </sub>function as current mirrors. Node <b>208</b> is connected to the output terminal of amplifier A<sub>200</sub>, and it is connected to the gates of transistors M<sub>210</sub>, M<sub>212</sub>, M<sub>214</sub>, and M<sub>216</sub>. The drain current or I<sub>D </sub>of M<sub>208 </sub>constitutes the bias current of the circuit or reference current, I<sub>BIAS</sub>.</div>
<div class="description-paragraph" id="p-0062" num="0061">In <figref idrefs="DRAWINGS">FIG. 4</figref> there is the first voltage loop consisting of M<sub>202</sub>, M<sub>204</sub>, A<sub>200</sub>, and M<sub>206 </sub>produce a PTAT signal as a function of V<sub>T </sub>which is forced upon the V<sub>DS </sub>of M<sub>202 </sub>by the operation of the M<sub>204 </sub>and M<sub>206 </sub>source followers (which carry the built in offset as a function of PTAT signal), the current source's loop amplifier A<sub>200</sub>, and current mirrors M<sub>216</sub>, M<sub>214</sub>, M<sub>212</sub>, and M<sub>210 </sub>on the self cascode SC<sub>200</sub>. There is also a second voltage loop consisting of M<sub>200 </sub>and M<sub>202 </sub>where M<sub>200 </sub>operates in saturation and M<sub>202 </sub>operates in the triode region (i.e., that is acting as an active MOS resistor of R<sub>M202</sub>=R<sub>BIAS </sub>for this current source). The active MOS resistor; while functioning as the current source's resistor, contributes to a CTAT signal being mostly a function of μ. Application of PTAT signal via V<sub>T </sub>while interacting with CTAT signal via μ whose combination (using different MOSFET aspect ratios) can facilitate making a positive TC, or negative TC, as well as a stable TC for the I<sub>BIAS</sub>. Note that for demonstrative clarity of the proceeding formulations, second order effects—including but not limited to—early voltage, body effect, and subthreshold slope factor TC are ignored:
<br/>
<i>VGS</i> <sub>M202</sub> <i>−VGS</i> <sub>M200</sub> <i>=VDS</i> <sub>M202</sub>;
<br/>
<i>R</i> <sub>BIAS</sub> <i>=R</i> <sub>M202</sub>≈[μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M202</sub>(<i>VGS</i> <sub>M202</sub> <i>−V</i> <sub>THn</sub> <i>−VDS</i> <sub>M202</sub>/2)]<sup>−1</sup>;
<br/>
<i>VGS</i> <sub>M202</sub>≈[2<i>I</i> <sub>BIAS</sub> <i>/μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M200</sub>]<sup>1/2</sup> <i>+V</i> <sub>THn</sub>;
<br/>
<i>VGS</i> <sub>M206</sub> <i>−VGS</i> <sub>M204</sub>=[<i>V</i> <sub>T</sub>.ln(<i>d×b</i>)]=<i>VDS</i> <sub>M202</sub>;
<br/>
<i>VDS</i> <sub>M202</sub> <i>≈I</i> <sub>BIAS</sub>(<i>c+</i>1)×<i>R</i> <sub>M202</sub>≈[<i>V</i> <sub>T</sub>.ln(<i>d×b</i>)];
<br/>
μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M202</sub>×[<i>I</i> <sub>BIAS</sub> <i>/μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M200</sub>]<sup>1/2</sup> <i>≈I</i> <sub>BIAS</sub>(<i>c+</i>1)×[<i>V</i> <sub>T</sub>.ln(<i>d×b</i>)]<sup>−1</sup>; and
<br/>
<i>I</i> <sub>BIAS</sub> <i>≈f</i>(<i>S</i> <sub>202</sub> <i>,μ,V</i> <sub>T</sub>).
</div>
<div class="description-paragraph" id="p-0063" num="0062">It can be noticed that V<sub>TH </sub>term is canceled out in both the first loop (M<sub>204</sub>, A<sub>200</sub>, M<sub>206</sub>) and the second loop (M<sub>200</sub>, M<sub>202</sub>). This trait can significantly reduce I<sub>BIAS</sub>'S sensitivity to V<sub>TH</sub>, where V<sub>TH </sub>has substantial variations in process fabrication and manufacturing (e.g., V<sub>TH </sub>nominal at 0.4V with +/−50% variation). As it is the case with this class of current sources, I<sub>BIAS </sub>is primarily a function of C<sub>OX</sub>, V<sub>T</sub>, and u. Here C<sub>OX </sub>is a function of gate oxide thickness which has a very low temperature coefficient, V<sub>T </sub>has a positive TC (PTAT like) and μ has a negative TC (CTAT like). Therefore, the TC of I<sub>BIAS </sub>can be positive or negative or approximately flat depending on the abbreviated formulaic constant (scalar), S<sub>202</sub>, which is function of MOSFET's aspect ratios a, b, and d as well as MOSFET device constants.</div>
<div class="description-paragraph" id="p-0064" num="0063">In this section some of the benefits of the utilization of the embodiment of <figref idrefs="DRAWINGS">FIG. 1</figref> that is embodied in <figref idrefs="DRAWINGS">FIG. 4</figref> are described. As noted earlier, the PTAT voltage or V<sub>PTAT </sub>or V<sub>BIAS </sub>of the current source is applied across an active resistor, R<sub>BIAS</sub>, at the gate terminal compared to the prior art (see <figref idrefs="DRAWINGS">FIG. 11</figref> and <figref idrefs="DRAWINGS">FIG. 12</figref>) that does it at MOSFET's source terminal of the PTAT voltage generation circuit.</div>
<div class="description-paragraph" id="p-0065" num="0064">In both prior art examples depicted in <figref idrefs="DRAWINGS">FIG. 11</figref> and <figref idrefs="DRAWINGS">FIG. 12</figref>, M<sub>802sc </sub>or M<sub>802cm </sub>which are the active MOSFET resistor (forming the R<sub>BIAS</sub>) are placed in series with the source terminal of M<sub>804sc </sub>or M<sub>804cm</sub>, that are part of the M<sub>804sc</sub>-M<sub>806sc </sub>or M<sub>804cm</sub>-M<sub>806cm </sub>which is part of the circuit that generates the PTAT voltage (or V<sub>BIAS </sub>or V<sub>PTAT</sub>) that is applied across R<sub>BIAS </sub>to make the I<sub>BIAS </sub>(=V<sub>BIAS</sub>/R<sub>BIAS</sub>).</div>
<div class="description-paragraph" id="p-0066" num="0065">However, in this invention shown in <figref idrefs="DRAWINGS">FIG. 1</figref> (or its equivalent variations <figref idrefs="DRAWINGS">FIG. 2</figref> and <figref idrefs="DRAWINGS">FIG. 3</figref>) embodied in <figref idrefs="DRAWINGS">FIG. 4</figref>, the active MOSFET resistor M<sub>202 </sub>which forms the R<sub>BIAS </sub>(where the V<sub>PTAT </sub>or V<sub>BIAS </sub>or V<sub>PTAT </sub>signal is applied) is placed in series with the gate of M<sub>204 </sub>that is part of the M<sub>204</sub>-M<sub>206</sub>, which is part of the circuit that generates the V<sub>PTAT </sub>or V<sub>BIAS</sub>, which makes the I<sub>BIAS </sub>(=V<sub>BIAS</sub>/R<sub>BIAS</sub>). Placing the R<sub>BIAS </sub>with the gate terminal of the PTAT signal generation circuit has many benefits, some of which are explained below.</div>
<div class="description-paragraph" id="p-0067" num="0066">In the <figref idrefs="DRAWINGS">FIG. 4</figref> embodiment, a larger V<sub>PTAT </sub>can be generated via M<sub>204 </sub>and M<sub>206 </sub>differential source followers with larger asymmetric W/L ratios to make a larger built in offset voltage. The drains of the followers M<sub>204 </sub>and M<sub>206 </sub>are shorted to ground, which shorts their junction leakages also to ground. Donut shaped (in layout) M<b>204</b> and M<b>206</b> also help reduce the junction areas and their associated leakages. In this manner the V<sub>PTAT </sub>generation function (i.e., the built in offset of the differential source followers) is separated from the function of current mirror or loop amplifier. As such, a current mirror or current loop amplifier can be constructed with complete symmetry (i.e., equal W/L ratios). Therefore, the bias current's high temperature regulation span is widened via minimizing current leakage in key signal paths because asymmetries in the current mirror or loop amplifiers associated with prior art implementations can be eliminated or reduced, and more of the drain or source junctions areas and their associated leakage currents are shorted to power supplies. As noted earlier, most prior art implementations, employ asymmetries by scaling-in offsets in current mirrors, loop amplifiers, and or self-cascade cells for V<sub>T </sub>generation. As such, high temperature operation is in part hindered due to imbalances in asymmetric junction diode areas in drain or source terminals (which are hard to match and cancel out) and whose leakage currents pile on and double every 10 C—in a thin ice circuit environment so to speak—where each transistor is already operating in ultra low currents (five to tens of nano amperes).</div>
<div class="description-paragraph" id="p-0068" num="0067">For some of prior art implementations, it could be that in order for current mirror's, or loop amplifier's, or self-cascode's leakages to be contained (and ultimately its hot temperature performance less hindered), the W/L (or area) of pertinent MOSFETs had to be somewhat restricted, which limits the allowed amplitude of V<sub>PTAT </sub>that can be generated (e.g., approximately 50 mV versus 150 mV). Note again that Voltage Proportional to Absolute Temperature (V<sub>PTAT</sub>) is generally generated via the difference in V<sub>GS </sub>of two MOSFETs that operate in subthreshold, but whose W/L and or quiescent currents are scaled differently. A circuit topology for reliable manufacturing would benefit from a V<sub>PTAT </sub>whose amount is set by W/L ratios and V<sub>T </sub>(which are accurately controlled) as opposed to being dominated from example by V<sub>TH </sub>mismatch between the two pair of MOSFETS. The prior art is restricted to smaller amount of V<sub>PTAT </sub>(e.g., 50 mV) which is a disadvantage because it would increase the impact of normal process fabrication mismatches and offsets on controlling the value of I<sub>BIAS </sub>to specifications in manufacturing, and ultimately the yield of I<sub>BIAS </sub>to the target specifications. For example, a contribution of 5 mV of V<sub>OFS </sub>(mismatch between two MOSFETs) to a 50 mV of V<sub>PTAT </sub>is 10% offset error contribution to V<sub>PTAT </sub>which is the case with some of the prior art. However, 5 mV of V<sub>OFS </sub>over 150 mV V<sub>PTAT </sub>is 3% offset error contribution to V<sub>PTAT </sub>which can be the case with this embodiment's topology. In the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref>, by having the option of using source followers to generate the PTAT terms, the drain junction and their associated leakage are shorted to the negative supply which helps higher temperature span. An additional benefit of this embodiment besides the (some relief) greater freedom from derailment of hot performance due to drain or source junction current leakages, the differential source follower in <figref idrefs="DRAWINGS">FIG. 4</figref> can be constructed for higher value V<sub>PTAT </sub>(e.g., M<sub>204 </sub>and M<sub>206 </sub>aspect ratios &gt;approximately 16× vs. prior art equivalent PTAT generator aspect ratio˜4-6×). As such, V<sub>TH </sub>mismatch (of the loop amplifier or current mirror) within the current loop equation becomes a smaller percent contributor to I<sub>BIAS </sub>overall (in)accuracy. This in turn allows for using smaller transistors that would leak less and hence help extend the temperature span.</div>
<div class="description-paragraph" id="p-0069" num="0068">Note also that in the general cases of prior art (where a self-cascode structure is employed to generate the PTAT term) the positive TC of V<sub>T</sub>.ln (bxd) and negative TC of V<sub>GS </sub>(or V<sub>TH</sub>) can push the self-cascode stack off to the edge of triode-saturation region and derail accuracy of current reference at min-max temperatures. Also, in the <figref idrefs="DRAWINGS">FIG. 4</figref> embodiment, employing source follower (that also function as voltage buffers) to drive the input terminals of the loop amplifier, A<sub>200</sub>, would help loop stability and enhance AC and transient response of this current source topology. This topology places the R<sub>BIAS </sub>in the input-output feedback loop of the current mirror amplification function, which helps its DC and AC performance (e.g., the impact of the ultra high resistance value of R<sub>BIAS</sub>, needed for ultra low current operation, can be attenuated by the gain of the current mirror loop amplifier). Another benefit of the <figref idrefs="DRAWINGS">FIG. 4</figref> embodiment is that by establishing the I<sub>BIAS </sub>via R<sub>BIAS </sub>in the gate of current mirror loop (via amplifier A<sub>200</sub>), it provides more flexibility for scaling (via scale factor c) M<sub>210 </sub>and M<sub>212 </sub>to set the value VDS<sub>M202 </sub>and hence the value of I<sub>BIAS</sub>. Moreover, this move also helps with balancing V<sub>DS </sub>across PMOSFETs non-cascade current source M<sub>210</sub>, M<sub>212</sub>, M<sub>214</sub>, and M<sub>216 </sub>pairs, which eliminates the need to use cascoded current mirrors (otherwise needed to avoid MOSFET's early voltage induced current mismatch). Moreover, another advantage of <figref idrefs="DRAWINGS">FIG. 4</figref> embodiment is that, in part, due to balanced V<sub>DS </sub>across M<sub>210</sub>, M<sub>212</sub>, M<sub>214</sub>, and M<sub>216</sub>, the VC, PSRR, and TC performance is not compromised despite smaller but equal sized W/L transistors (e.g., L=1 micron for all NMOS and PMOS). Additionally, another advantage of the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref> is that the prior art's use of cascoded current mirrors with unequal source-drain junction areas (and their respective junction leakages which double with every 100 increase in temperature) are avoided, which in turn helps with higher temperature span of this embodiment. Retaining the benefits of the class of bias current sources to which it belong, an advantage of the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref> is it allows operation of MOS transistors in subthreshold, which enables low power supply and ultra low power consumption. Also, as noted earlier, the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref> is substantially independent of V<sub>TH </sub>and mostly depended on μ, which is better controlled in process fabrication, hence the overall power consumption of the bias current source is more tightly controlled over process variations. Having the flexibility of using NMOS or PMOS SC (self cascade) with respect to either of positive or negative power suppliers, another benefit of the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref> is using such flexibility for the bias current source to operate with sub 1V power supply (i.e., minimum V<sub>DD </sub>is limited to only subthreshold V<sub>GS</sub>+2V<sub>DS</sub>). Another benefit of the <figref idrefs="DRAWINGS">FIG. 4</figref> embodiment is that V<sub>SS </sub>(negative power supply) and the ground connection (GND) may be the same of separated, depending on system requirements, which allows I<sub>BIAS </sub>to be set in value independent of the ground potential.</div>
<heading id="h-0009">Description of the FIG. <b>5</b> Embodiment in a ‘Current Reference’</heading>
<div class="description-paragraph" id="p-0070" num="0069">Employing the functional block diagram of <figref idrefs="DRAWINGS">FIG. 2</figref> (which is a variation of that of <figref idrefs="DRAWINGS">FIG. 1</figref>) is utilized in the embodiment of a current reference that is depicted in <figref idrefs="DRAWINGS">FIG. 5</figref>. The embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref> includes current generator I<sub>TCa</sub>, current generator I<sub>TCb</sub>, and current scalar and subtractor which outputs the ‘current reference’, I<sub>REF</sub>. One of the goals of utilizing the embodiment of <figref idrefs="DRAWINGS">FIG. 2</figref> in the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref> is to make current reference that is ultra low power, resistor free, whose operating condition are mostly independent of V<sub>TH</sub>, based in CMOS process fabrication, where there is greater level of flexibility in programming or predetermining MOSFET's W/L sizes or ratios, to make a high performance I<sub>REF </sub>with positive, negative, or stable TC.</div>
<div class="description-paragraph" id="p-0071" num="0070">The following is a description of the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref>. Typical reference topologies add two currents with opposing temperature coefficient (TC) polarities to generate a stable TC current, whereas this reference generates two currents (I<sub>TCa </sub>and I<sub>TCb</sub>) with same polarity TCs that are scaled with differing slopes, and subsequently scaled and subtracted from each other to form a positive or negative TC as well as a stable TC I<sub>REF</sub>. Here is how: in <figref idrefs="DRAWINGS">FIG. 5</figref>, the two currents, I<sub>TCa </sub>and I<sub>TCb </sub>are generated across two PMOSFETs, M<sub>402a </sub>and M<sub>402b</sub>, as part of a pair of self-cascodes, SC<sub>400a </sub>and SC<sub>400b</sub>. Loop amplifiers A<sub>400a </sub>and A<sub>400b </sub>operating in conjunction with the SCs force VDS<sub>M402a </sub>and VDS<sub>M402b </sub>to equal V<sub>T</sub>.ln(cxd) and V<sub>T</sub>.ln(fxg), respectively, which are the built-in offset voltages of A<sub>400a </sub>and A<sub>400b</sub>, respectively. Note here that the V<sub>PTAT </sub>signal is not generated via the source followers or DC level shifters (which was the case with the functional block diagram of <figref idrefs="DRAWINGS">FIG. 1</figref> when utilized in the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref>). Instead, the V<sub>PTAT </sub>signal is initiated via a built in offset voltages that is generated by scaling (and or operating their quiescent current) differently the amplifier's input MOSFETs, which operate in the subthreshold region. The TC and magnitude of I<sub>TCa</sub>=VDS<sub>M402a</sub>/R<sub>M402a </sub>and I<sub>TCb</sub>=VDS<sub>M402b</sub>/R<sub>M402b </sub>can be sloped differently via (mostly by) adjustments in setting the ratio of W/Ls of M<sub>400a</sub>-M<sub>402a </sub>(i.e., mostly set by ‘a’) different from M<sub>400b</sub>-M<sub>402b </sub>(i.e., mostly set by ‘b’) while adhering to matching considerations by using the same narrow W and long L (i.e., Y) for M<sub>400a</sub>-M<sub>402a </sub>and M<sub>400b</sub>-M<sub>402b</sub>. Here the TC<sub>a </sub>of R<sub>402a </sub>in the denominator of I<sub>TCa </sub>(with equally sized M<sub>400a</sub>-M<sub>402a </sub>in SC<sub>400a</sub>) is sloped differently from TC<sub>b </sub>of R<sub>402b </sub>in the denominator of I<sub>TCb </sub>(with differently sized M<sub>400b</sub>-M<sub>402b </sub>in SC<sub>400b</sub>) by sizing b&gt;a. Hence, apples-to-apples, there is less R<sub>M402a </sub>contraction in resistance via increasing VGS<sub>M400a </sub>at higher temperatures, since VGS<sub>M402a</sub>−VGS<sub>M400a</sub>=VDS<sub>M402a</sub>=VT.ln(cxd).</div>
<div class="description-paragraph" id="p-0072" num="0071">As noted earlier, the proposed topology allows for magnitude and TC of I<sub>TCa </sub>and I<sub>TCb </sub>be set with some independence from one another using device aspect ratios, while it employs substantially identical topology mechanisms to generate I<sub>TCa </sub>and I<sub>TCb</sub>—which improves performance over power supply, temperature, and fabrication process variations. Concurrently, I<sub>TCa </sub>and I<sub>TCb </sub>(whose TCs and amplitudes are set partially independently from one another by adjustments to their MOSFET's aspect ratios) are fed into a current scalar and subtraction circuit, which scales (K<sub>400a</sub>.I<sub>TCa</sub>) to S<sub>400</sub>. (K<sub>400a</sub>.I<sub>TCa</sub>) whose value changes by the same amount as K<sub>400b</sub>.I<sub>TCb </sub>over an objective temperature span. This resultant current or S<sub>400</sub>.(K<sub>400a</sub>.I<sub>TCa</sub>) and K<sub>400b</sub>.I<sub>TCb </sub>are subtracted from each other to yield an I<sub>REF</sub>. All generated currents are mostly independent of V<sub>TH </sub>and primarily a function of MOSFET's μ and V<sub>T</sub>, thus helping stable specifications of I<sub>REF </sub>over fabrication process variations. Note that I<sub>REF </sub>can also be programmed to have a negative or positive TC via wider flexibility in choosing different MOSFET's W/L ratios in the generation of I<sub>TCa</sub>, I<sub>TCb</sub>, and the scalar factor (e.g., S<sub>400</sub>, K<sub>400a </sub>and K<sub>400b</sub>, which is a formulaic representation of MOSFET W/L ratios as well as MOSFET's device parameter constants) in the current scalar subtraction circuit.</div>
<div class="description-paragraph" id="p-0073" num="0072">This second utilization of the embodiment of <figref idrefs="DRAWINGS">FIG. 2</figref> in the embodiment depicted in <figref idrefs="DRAWINGS">FIG. 5</figref> includes elements such as amplifiers. The amplifier could be a voltage output or current output or have voltage output combined with voltage controlled current source or VCCS. Such amplifier, could also contain differential buffers (e.g., differential source followers, DC level shifters, voltage offset generators in series with its differential inputs). Other elements contained here could be voltage followers, DC level shifters, voltage offset generators, current mirrors, voltage controlled current source (VCCS), bias current or current generator circuits with differing TC, self-cascodes, current scale and subtractor circuit, and MOS transistors (e.g., MOS transistors can be configured to function as a VCCS, current mirror, current sources or active resistors or can be paired in the input of an amplifier or buffer or DC level shifter—with differing scale factors—to generate offset voltage).</div>
<div class="description-paragraph" id="p-0074" num="0073">As noted earlier, the same principles of this embodiments of the functional block diagram of <figref idrefs="DRAWINGS">FIG. 1</figref> or its variation <figref idrefs="DRAWINGS">FIG. 2</figref> can be utilized in the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref>. Here two independent bias current generators are utilized. For each of bias current generator, the R<sub>BIASa,b </sub>(R<sub>M402a,b</sub>) remains in the feedback loop of the current loop amplifier, and it is connected to the gate and not the source of the loop amplifier (V<sub>BIAS </sub>which is the V<sub>PTAT </sub>signal is not applied in series with the source terminal of the current mirror loop or loop amplifier). Note that other variations where a bias current generator (of <figref idrefs="DRAWINGS">FIG. 1</figref> or <figref idrefs="DRAWINGS">FIG. 2</figref>) with R<sub>BIASa </sub>is connected to the gate, and can be combined with a bias current generators where R<sub>BIASb </sub>is connected to the source, which can offer a different cost performance characteristic. Another variation can be to have R<sub>BIASa </sub>be based on an NMOS active resistor (as in <figref idrefs="DRAWINGS">FIG. 1</figref>), and the other R<sub>BIASb </sub>be based on a PMOS active resistor (as in <figref idrefs="DRAWINGS">FIG. 2</figref>), where the process variations and relations between NMOS and PMOS can offer other cost performance traits. The embodiments shown in <figref idrefs="DRAWINGS">FIGS. 1 and 2</figref> provide the flexibility to generate currents of I<sub>TCa </sub>and I<sub>TCb </sub>with two different TCs before they are scaled and subtracted from one another to generate the I<sub>REF </sub>of interest. Also, note that all transistors used in this embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref> circuitry operate in the subthreshold region, but this topology is not limited to subthreshold operation.</div>
<div class="description-paragraph" id="p-0075" num="0074">Firstly, here are more details describing how current generator I<sub>TCa </sub>yields a current with TC<sub>a</sub>. The signal loop that generates I<sub>TCa </sub>includes M<sub>402a</sub>, which makes the active CMOS resistor, R<sub>M402a </sub>(i.e. R<sub>BIASa</sub>). The active transistor M<sub>402a</sub>, operating in deep triode, makes the small size but high value resistor, R<sub>M402a</sub>, which helps in keeping the die size small while current at ultra low levels. The signal loop is also composed of amplifier A<sub>400a </sub>(consisting of M<sub>404b</sub>-M<sub>416a</sub>) with a built in offset determined by W/L ratios of M<sub>404a </sub>to M<sub>406a </sub>and M<sub>410a </sub>to M<sub>408a</sub>, which are c and d, respectively. Input stage of A<sub>400a </sub>helps generate the PTAT term of about V<sub>T</sub>.ln (cxd). The amplifier A<sub>400a</sub>, substantially equalizes the V<sub>DS </sub>of M<sub>402a </sub>to the PTAT term of about V<sub>T</sub>.ln (cxd). This is accomplished in part via forcing the gate voltages of transistors M<sub>418a</sub>, which operate as a voltage controlled current source (VCCS) to bias M<sub>402a </sub>and M<sub>400a </sub>which set R<sub>M402a </sub>and whose operating current scales in proportion with I<sub>TCa</sub>. The value of R<sub>M402a </sub>or R<sub>BIAS-400a </sub>is set in part by the SC<sub>400a </sub>composed of M<sub>400a </sub>and M<sub>402a </sub>scale factors and MOSFET's mobility which helps generate the CTAT term. The I<sub>TCa </sub>is made of V<sub>T</sub>.ln (cxd) divided by R<sub>M402a</sub>. Note that in <figref idrefs="DRAWINGS">FIG. 5</figref>, the scale factors ‘a’ through ‘j’ are the ratios of transistor's width over length (W/L or scale factors or aspect ratios) that may be set depending on such considerations as die size and various operating specifications, including but not limited to current consumption, temperature coefficients, and power supply range objectives. The scale factors ‘a’ through ‘j’ shown in <figref idrefs="DRAWINGS">FIG. 5</figref> can be between approximately 0.1 and 50.</div>
<div class="description-paragraph" id="p-0076" num="0075">Secondly, and similar to the above description to I<sub>TCb </sub>generation, applying the same principle to the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref>, this is how current generator I<sub>TCb </sub>outputs a current with TC<sub>b</sub>. The signal loop that generates I<sub>TCb </sub>includes M<sub>402b</sub>, which makes the active CMOS resistor, R<sub>M402b </sub>(i.e., R<sub>BIASb</sub>). The active transistor M<sub>402b</sub>, operating in deep triode, makes the small size but high value resistor, R<sub>M402b</sub>, which helps in keeping the die size small while current at ultra low levels. The signal loop is also composed of amplifier A<sub>400b </sub>(consisting of M<sub>404b</sub>-M<sub>416b</sub>) with a built in offset determined by W/L ratios of M<sub>404b </sub>to M<sub>406b </sub>and M<sub>410b </sub>to M<sub>408b</sub>, which are f and g, respectively. Input stage of A<sub>400b </sub>helps generate the PTAT term of about V<sub>T</sub>.ln (fxg). The amplifier A<sub>400b</sub>, substantially equalizes the V<sub>DS </sub>of M<sub>402b </sub>to the PTAT term of about V<sub>T</sub>.ln (fxg). This is accomplished in part via forcing the gate voltages of transistors M<sub>418b</sub>, which operate as a voltage controlled current source (VCCS) to bias M<sub>402b </sub>and M<sub>400b </sub>which set R<sub>M402b </sub>and whose operating current scales in proportion with I<sub>TCb</sub>. The value of R<sub>M402b </sub>or R<sub>BIAS-400b </sub>is set in part by the SC<sub>400b </sub>composed of M<sub>400b </sub>and M<sub>402b </sub>scale factors and MOSFET's mobility which helps generate the CTAT term. The I<sub>TCb </sub>is made of V<sub>T</sub>.ln (fxg) divided by R<sub>M402b</sub>.</div>
<div class="description-paragraph" id="p-0077" num="0076">Thirdly and lastly, the current I<sub>TCb </sub>is scaled and mirrored via M<sub>418b </sub>and M<sub>420b </sub>(by 1/h.X) and fed into M<sub>422b </sub>which is scaled (by j.X) and mirrored onto M<sub>422a</sub>. Concurrently, the current I<sub>TCa </sub>is scaled and mirrored via M<sub>418a </sub>and M<sub>420a </sub>(by 1/e.X) and fed into drain of M<sub>422a</sub>. Here the final I<sub>REF </sub>is generated which is a function of K<sub>400b</sub>. I<sub>TCb</sub>-S<sub>400</sub>. (K<sub>400a</sub>. I<sub>TCa</sub>), where K<sub>400a</sub>, K<sub>400b</sub>, S<sub>400 </sub>are formulaic representations and approximately a function of MOSFET's W/L ratios and MOSFET's (device) fabrication process constants. Also note that other variations of this circuit topology knowable by those skilled in the art can include, but not limited to, for example generating I<sub>TCb </sub>using the prior art circuits such as the ones shown in <figref idrefs="DRAWINGS">FIG. 11</figref> and <figref idrefs="DRAWINGS">FIG. 12</figref>, which is then scaled and subtracted from I<sub>TCa </sub>generated by this invention topologies (e.g., <figref idrefs="DRAWINGS">FIG. 1</figref>, or <b>2</b>, or <b>3</b>) to yield an I<sub>REF</sub>.</div>
<div class="description-paragraph" id="p-0078" num="0077">The connections of the elements in <figref idrefs="DRAWINGS">FIG. 5</figref> are described as follows. As noted earlier, node <b>1</b> is the positive supply voltage terminal or V<sub>00</sub>. Similarly, node <b>2</b> is the negative supply voltage terminal or V<sub>SS </sub>(which can also be set as the zero voltage terminal or ground). The source and body terminals of M<sub>414a</sub>, M<sub>416a</sub>, M<sub>418a</sub>, M<sub>420b</sub>, and M<sub>414b</sub>, M<sub>416b</sub>, M<sub>418b</sub>, M<sub>420b </sub>are connected to node <b>1</b>, which is the positive power supply terminal. Note that M<sub>414a </sub>and M<sub>414b </sub>sets the bias voltage for the MOSFETs and M<sub>416a</sub>, M<sub>418a</sub>, M<sub>420b</sub>, and M<sub>416b</sub>, M<sub>418b</sub>, M<sub>420b</sub>, respectively. Here, M<sub>414a</sub>, M<sub>416a</sub>, M<sub>418a</sub>, and M<sub>420b </sub>are current mirrors, as well as M<sub>414b</sub>, M<sub>416b</sub>, M<sub>418b</sub>, and M<sub>420b </sub>all of which also function as current sources to set bias currents for I<sub>TCa </sub>and I<sub>TCb </sub>circuitries. The source and body terminals of M<sub>408a</sub>, M<sub>410a</sub>, M<sub>412a</sub>, M<sub>422a</sub>, and M<sub>408b</sub>, M<sub>410b</sub>, M<sub>412b</sub>, M<sub>422b </sub>are connected to node <b>2</b>, which is the negative or ground power supply terminal. Gates and drains of M<sub>400a </sub>and M<sub>400b </sub>(both of which is part of the self cascade circuits together with M<sub>402a </sub>and M<sub>402b</sub>) are shorted to each other and connected to the node <b>2</b>. Source and body of M<sub>400b </sub>are connected to drain of M<sub>402b </sub>and connected to node <b>402</b> <i>b</i>, which is also connected to gate of M<sub>406b</sub>. Source and body of M<sub>402b </sub>are connected to drain of M<sub>418b </sub>and gate of M<sub>404b </sub>and connected to node <b>400</b> <i>b</i>. Source and body of M<sub>404b</sub>, and source and body of M<sub>406b </sub>and drain of M<sub>416b </sub>are connected to node <b>406</b> <i>b</i>. Drain of M<sub>404b </sub>and drain of M<sub>408b </sub>and gate of M<sub>412b </sub>are connected to node <b>408</b> <i>b</i>. Gate and drain of M<sub>410b </sub>and drain of M<sub>406b </sub>are connected to node <b>410</b> <i>b</i>. Drain of M<sub>412b </sub>and gate and drain of M<sub>414b </sub>are connected to node <b>404</b> <i>b</i>. Gate terminals of M<sub>416b</sub>, M<sub>418b</sub>, and M<sub>420b </sub>are connected to node <b>404</b> <i>b</i>. Drain of M<sub>420b </sub>and gate and drain terminals of M<sub>422b </sub>are connected to node <b>412</b> <i>b</i>. Note that M<sub>404b</sub>, M<sub>406b</sub>, M<sub>408b</sub>, M<sub>410b</sub>, M<sub>412b</sub>, and M<sub>414b </sub>form an amplifier (A<sub>400b</sub>) with M<sub>404b </sub>and M<sub>406b </sub>gates at nodes <b>400</b> <i>b </i>and <b>402</b> <i>b </i>as A<sub>400b</sub>'s input terminal and gate and drain of M<sub>414b </sub>as its output terminal. Also, as is the case with the <figref idrefs="DRAWINGS">FIG. 5</figref> embodiment, note that offset voltage generation and amplifier function can be accomplished in one shot by scaling differing the sizes of M<sub>404b</sub>, M<sub>406b </sub>and scaling differing currents through them via scaling differing the sizes M<sub>408b </sub>and M<sub>410b</sub>.</div>
<div class="description-paragraph" id="p-0079" num="0078">Source and body of M<sub>400a </sub>are connected to drain of M<sub>402a </sub>and connected to node <b>402</b> <i>a</i>, which is also connected to gate of M<sub>406a</sub>. Source and body of M<sub>402a </sub>are connected to drain of M<sub>418a </sub>and gate of M<sub>404a </sub>and connected to node <b>400</b> <i>a</i>. Source and body of M<sub>404a</sub>, and source and body of M<sub>406a </sub>and drain of M<sub>416a </sub>are connected to node <b>406</b> <i>a</i>. Drain of M<sub>404a </sub>and drain of M<sub>408a </sub>and gate of M<sub>412a </sub>are connected to node <b>408</b> <i>a</i>. gate and drain of M<sub>410a </sub>and drain of M<sub>406a </sub>are connected to node <b>410</b> <i>a</i>. Drain of M<sub>412a </sub>and gate and drain of M<sub>414a </sub>are connected to node <b>404</b> <i>a</i>. Gate terminals of M<sub>416a</sub>, M<sub>418a</sub>, and M<sub>420a </sub>are connected to node <b>404</b> <i>a</i>. Drain of M<sub>420a </sub>and gate and drain terminals of M<sub>422a </sub>are connected to node <b>412</b> <i>a</i>, which is the I<sub>REF </sub>terminal. Note that M<sub>404a</sub>, M<sub>406a</sub>, M<sub>408a</sub>, M<sub>410a</sub>, M<sub>412a</sub>, and M<sub>414a </sub>form an amplifier (A<sub>400a</sub>) with M<sub>404a </sub>and M<sub>406a </sub>gates at nodes <b>400</b> <i>a </i>and <b>402</b> <i>a </i>as A<sub>400a</sub>'s input terminal and gate and drain of M<sub>414a </sub>as its output terminal. Also, as is the case with the <figref idrefs="DRAWINGS">FIG. 5</figref> embodiment, note that offset voltage generation and amplifier function can be accomplished in the amplifiers A<sub>400a </sub>(and A<sub>400b</sub>) by scaling differing the sizes of M<sub>404a</sub>, M<sub>406a </sub>and scaling differing currents through them via scaling differing the sizes M<sub>408a </sub>and M<sub>410a </sub>(as well as M<sub>404b</sub>, M<sub>406b </sub>and scaling differing currents through them via scaling differing the sizes M<sub>408b </sub>and M<sub>410b</sub>). Note also that transistor pairs M<sub>402b</sub>-M<sub>400b </sub>and M<sub>402b</sub>-M<sub>400b </sub>form the self cascades, SC<sub>400a </sub>and SC<sub>400b</sub>, respectively where R<sub>M402b </sub>(or R<sub>BIAS-400b</sub>) and R<sub>M402a </sub>(or R<sub>BIAS-400a</sub>), play into the equation that sets the value of I<sub>TCb </sub>and I<sub>TCa </sub>currents.</div>
<div class="description-paragraph" id="p-0080" num="0079">Drain of M<sub>420a </sub>is connected to gate and drain of M<sub>422b </sub>as well as gate of M<sub>422a </sub>at node <b>412</b> <i>b</i>. Drain of M<sub>422a </sub>and drain of M<sub>420a </sub>are connected to node <b>412</b> <i>a</i>, as well as the I<sub>REF </sub>output terminal. Note that M<sub>420a</sub>, M<sub>422a</sub>, and M<sub>420b</sub>, M<sub>422b </sub>constitute one of many possible embodiments (a simple one used here for descriptive simplicity and clarity) for the current scalar and subtractor function, but there are other higher performance variations of current scalar and subtractor function available and covered in prior art (e.g., Ledesma, F. et al, “Comparison of new and conventional low voltage current mirrors,” Circuits and Systems, 2002. MWSCAS-2002, which is hereby incorporated by reference in its entirety).</div>
<div class="description-paragraph" id="p-0081" num="0080">In summary, current generator I<sub>TCa </sub>includes M<sub>400a</sub>-M<sub>418a</sub>, and current generator I<sub>TCb </sub>includes M<sub>400b</sub>-M<sub>418b</sub>, where I<sub>TCa </sub>and I<sub>TCb </sub>have differing TCs which are set by the circuit's MOSFET's scale factors (as well as a factor of MOSFET device parameter constants) so to generate an I<sub>REF </sub>with positive TC, or negative TC, or a near zero TC, which will be explained below.</div>
<div class="description-paragraph" id="p-0082" num="0081">Here is a more detailed explanation of the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref>. The circuit is composed of two current generator making I<sub>TCa </sub>and I<sub>TCb </sub>whose respective magnitude and TC can be set partially independently from one another so to be scaled and subtracted from each other to generate an I<sub>REF </sub>with near zero TC. Each current generator is composed of a CMOS amplifier (A<sub>400a </sub>and A<sub>400b</sub>) and self-cascode (SC<sub>400a </sub>and SC<sub>400b</sub>). Amplifier A<sub>400a</sub>'s input includes M<sub>404a</sub>, M<sub>406a</sub>, M<sub>408a</sub>, and M<sub>410a </sub>and has a built-in offset voltage roughly equal to V<sub>T</sub>.ln(cxd) which is forced across M<sub>402a </sub>of SC<sub>400a </sub>(with its diode connected counterpart M<sub>400a</sub>) so to generate a current I<sub>TCa </sub>via M<sub>418a </sub>that has a temperature coefficient of TC<sub>a</sub>:
<br/>
<i>I</i> <sub>TCa</sub> <i>=IDS</i> <sub>M418a</sub> <i>=IDS</i> <sub>M402a</sub> <i>=IDS</i> <sub>M400a</sub> <i>=VDS</i> <sub>M402a</sub> <i>/R</i> <sub>M402a</sub>;
<br/>
<i>VGS</i> <sub>M406a</sub> <i>−VGS</i> <sub>M404a</sub> <i>≈V</i> <sub>T</sub>.ln(<i>cxd</i>)=<i>VDS</i> <sub>M402a</sub>;
<br/>
<i>R</i> <sub>M402a</sub>≈[μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M402a</sub>(<i>VGS</i> <sub>M402a</sub>-<i>V</i> <sub>THp</sub>-<i>VDS</i> <sub>M402a</sub>/2)]<sup>−1</sup>;
<br/>
<i>VGS</i> <sub>M402a</sub>≈[2<i>I</i> <sub>TCa</sub> <i>/μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M400a</sub>]<sup>1/2</sup> <i>+V</i> <sub>THp</sub>,
<br/>
μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M402a</sub>×[<i>I</i> <sub>TCa</sub> <i>/μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M400a</sub>]<sup>1/2</sup> <i>≈I</i> <sub>TCa</sub>.[<i>V</i> <sub>T</sub>.ln(<i>dxc</i>)]<sup>−1</sup>.
<br/>
I<sub>TCa</sub>≈f(K<sub>400a</sub>, μ, V<sub>T</sub>), where K<sub>400a </sub>is set approximately by MOSFET's device parameter constants and the W/L sizes of MOSFETs in the I<sub>TCa</sub>'s current generator circuitry.
</div>
<div class="description-paragraph" id="p-0083" num="0082">Similar operations hold for the A<sub>400b </sub>and SC<sub>400b </sub>loops that generate the I<sub>TCb</sub>. Amplifier A<sub>400b</sub>'s input includes M<sub>404b</sub>, M<sub>406b</sub>, M<sub>408b</sub>, M<sub>410b </sub>that has a built-in offset voltage roughly equal to V<sub>T</sub>.ln(fxg) which is forced across M<sub>402b </sub>of SC<sub>400b </sub>(with its diode connected counterpart M<sub>400b</sub>) so to generate a current I<sub>TCa </sub>via M<sub>418a </sub>that has a temperature coefficient of TC<sub>b</sub>:
<br/>
<i>I</i> <sub>TCb</sub> <i>=IDS</i> <sub>M418b</sub> <i>=IDS</i> <sub>M402b</sub> <i>=IDS</i> <sub>M400b</sub> <i>=VDS</i> <sub>M402b</sub> <i>/R</i> <sub>M402b</sub>;
<br/>
<i>VGS</i> <sub>M406b</sub> <i>−VGS</i> <sub>M404b</sub> <i>≈V</i> <sub>T</sub>.ln(<i>g×f</i>)=<i>VDS</i> <sub>M402b</sub>;
<br/>
<i>R</i> <sub>M402b</sub>≈[μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M402b</sub>(<i>VGS</i> <sub>M402b</sub> <i>−V</i> <sub>THp</sub> <i>−VDS</i> <sub>M402b</sub>/2)]<sup>−1</sup>;
<br/>
<i>VGS</i> <sub>M402b</sub>≈[2<i>I</i> <sub>TCb</sub> <i>μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M400b</sub>]<sup>1/2</sup> <i>+V</i> <sub>THp</sub>;
<br/>
μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M402b</sub>×[<i>I</i> <sub>TCb</sub> <i>/μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M400b</sub>]<sup>1/2</sup> <i>≈I</i> <sub>TCb</sub>.[<i>V</i> <sub>T</sub>.ln(<i>g×f</i>)]<sup>−1</sup>;
<br/>
<i>I</i> <sub>TCb</sub> <i>≈f</i>(<i>K</i> <sub>400b</sub> <i>,μ,V</i> <sub>T</sub>),
<br/>
where K<sub>400b </sub>is set approximately by the W/L sizes of MOSFETs in the I<sub>TCb</sub>'s current generator circuitry;
</div>
<div class="description-paragraph" id="p-0084" num="0083">In the current scalar and subtractor circuit there is: I<sub>REF</sub>=K<sub>400b</sub>. I<sub>TCb</sub>−S<sub>400</sub>. (K<sub>400a </sub>I<sub>TCa</sub>). As noted earlier, If a near zero TC current reference (I<sub>REF</sub>), then magnitude of I<sub>TCa </sub>can be scaled with MOSFET's W/L ratios such that a current S<sub>400</sub>. (K<sub>400a</sub>. I<sub>TCa</sub>) whose value changes near equally to that of K<sub>400b </sub>I<sub>TCb </sub>over an objective temperature range.</div>
<div class="description-paragraph" id="p-0085" num="0084">In the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref>, similar to the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref>, it can be noticed in the I<sub>TCa </sub>and I<sub>TCb </sub>equations that V<sub>TH </sub>term is canceled out in both the first loop (M<sub>404a</sub>, M<sub>406a </sub>as well as M<sub>404b</sub>, M<sub>406b</sub>) and the second loop (M<sub>400a</sub>, M<sub>402a </sub>as well as M<sub>400b</sub>, M<sub>402b</sub>) which desensitizes I<sub>TCa </sub>and I<sub>TCb </sub>value from V<sub>TH </sub>variations in process fabrication. As it is the case with this class of current sources, I<sub>TCa </sub>and I<sub>TCb</sub>, and thereby I<sub>REF </sub>which is a byproduct of them to be primarily a function of C<sub>OX</sub>, V<sub>T</sub>, and μ. Here C<sub>OX </sub>is a function of gate oxide thickness which has a very low TC, V<sub>T </sub>has a positive TC (PTAT like) and u has a negative TC (CTAT like). Therefore, the TC of I<sub>TCA </sub>and I<sub>TCB </sub>(and hence TC of I<sub>REF </sub>which is a function I<sub>TCA </sub>and I<sub>TCB</sub>) can be positive or negative or approximately flat depending on S<sub>400</sub>, K<sub>400a</sub>, and K<sub>400b </sub>which are predetermined or programmed (depending on circuit need) by the MOSFET device constants, and W/L sizes by setting scale factors ‘a’ through ‘j’, in <figref idrefs="DRAWINGS">FIG. 5</figref>. Note also that other variations of the proposed topology could include, but not be limited to, operating MOSFETs in SC<sub>400a </sub>and SC<sub>400b </sub>at different scaled currents (instead of PMOS), utilizing NMOS self-cascode or conventional current mirrors (triode MOS plus saturation diode connected MOS), or using source followers or diode level shifters or NMOS input (instead of PMOS) A<sub>400a </sub>and A<sub>400b </sub>with built-in offset voltages in order to achieve different specifications trades-offs (e.g., sub-1V operations).</div>
<div class="description-paragraph" id="p-0086" num="0085">In this section some of the benefits of the embodiment depicted in <figref idrefs="DRAWINGS">FIG. 5</figref> are described: as noted earlier, typical reference topologies add two currents with opposing TC polarities to generate a stable TC current reference, whereas this reference generates two currents (I<sub>TCa </sub>and I<sub>TCb</sub>) with same polarity TCs that are scaled with differing slopes, and subsequently scaled and subtracted from each other to form a very stable TC I<sub>REF </sub>which provides a the benefit of more flexibility in generating I<sub>REF </sub>with different amplitude and TC. One of these flexibilities includes, but not limited to, programming an I<sub>REF </sub>with wider range of positive, negative, or very stable TC.</div>
<div class="description-paragraph" id="p-0087" num="0086">Also, while adhering to matching considerations by using the same exact narrow W and long L in the two independent self cascades (SC<sub>400a </sub>and SC<sub>400b</sub>), the TC and magnitude of I<sub>TCa </sub>and I<sub>TCb </sub>can be programmed differently via (mostly by) setting the ratio of W/Ls of MOSFETs aspect ratios, which can be made accurate with respect to topology targets because they are most independent of fabrication process variation.</div>
<div class="description-paragraph" id="p-0088" num="0087">In effect, the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref> uses substantially similar functional blocks of the embodiment of <figref idrefs="DRAWINGS">FIG. 2</figref> two times. Using different MOSFET aspect ratios (which are tightly controllable in process), the first instance of bias current generation (i.e., I<sub>TCa</sub>) produces certain amplitude and TC that is different from that of the one produced in the second instance of bias current generation (i.e., I<sub>TCb</sub>), while both I<sub>TCa </sub>and I<sub>TCb </sub>are subject to the same process fabrication, power supply, and temperature variations. As such, an advantage of the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref> is to generate I<sub>TCa </sub>and I<sub>TCb </sub>by using the same configuration and same CMOS W/Ls in amplifiers (A<sub>400a </sub>and A<sub>400b</sub>), same CMOS W/Ls in self cascades (SC<sub>400</sub>, and SC<sub>400b</sub>), and same CMOS W/Ls in current mirrors (VCCS<sub>400a </sub>and VCCS<sub>400b</sub>). And because of this, the second order errors due to process, temperature, and power supply variations track each other and some of them are cancelled out, which helps both DC and AC performance of the current reference.</div>
<div class="description-paragraph" id="p-0089" num="0088">Similar to the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref>, for this embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref>, the V<sub>PTAT </sub>is sensed and current is forced across an active resistor, R<sub>M4002a </sub>and R<sub>M402b</sub>, at the gate terminal instead of the prior art that does it at the source terminal of the current mirror loop amplifier. However, the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref> used an NMOS resistor, an independent PMOS source follower (i.e., unity gain buffer with a built in offset voltage as a function of pseudo V<sub>T</sub>) function for built offset voltage (or V<sub>PTAT</sub>) generation, and a separate loop amplifier function for amplification. Instead, here in <figref idrefs="DRAWINGS">FIG. 5</figref>, the function of built in offset voltage (or V<sub>PTAT</sub>) generation and amplification are both preformed in MOS amplifiers which save some area and current, where additionally both active MOSFET resistors and MOSFET amplifier inputs are of the same type (i.e., PMOS) enabling better fabrication process tracking and lower noise (since PMOS has lower noise than NMOS).</div>
<div class="description-paragraph" id="p-0090" num="0089">As just noted for the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref>, the sensing and forcing of signal takes place at the gate terminal instead of the prior art that does it at the source terminal. As a result, another benefit of this embodiment is that one input of the loop amplifier is biased via an MOS that is diode connected (gate and source shorted) in SC and the other input of the loop amplifier is biased via the other MOS in SC that (is the resistor and sets the operating current) is in the feedback loop of the amplifier. As a consequence, the active MOS impedance (e.g., R<sub>BIASa,b</sub>) is lowered by the gain of the current mirror loop or current loop amplifier. Also, beside improvements in AC performance due to lower impedance here, the junction leakage asymmetries associated with generation of V<sub>T </sub>(in prior art implementations) are also separated from the SC operation, which helps wider temperature span (e.g., improving 0-70 C temperature span to 0-100 C) of this embodiment.</div>
<div class="description-paragraph" id="p-0091" num="0090">Moreover, embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref> is benefited for less dependence on process parameter variation because it eliminates some of the second order device's second order effects, including but not limited to, for example the elimination of NMOS body effect in M<sub>200 </sub>that was present in the embodiment of <figref idrefs="DRAWINGS">FIG. 4</figref>. Also, keeping the benefits of the category of circuits to which it belongs, the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref> is substantially independent of V<sub>TH </sub>and mostly depended on μ, which is better controlled in process fabrication, hence the overall power consumption of the current reference is more tightly controlled over process variations. Also, the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref> can operate MOSFET in the subthreshold region, which enables low power supply and ultra low power consumption. Another benefit of the <figref idrefs="DRAWINGS">FIG. 5</figref> embodiment is that V<sub>SS </sub>(negative power supply) and the ground potential (GND) may be the same of separated, providing flexibility to system topology, which allows I<sub>TCa</sub>, I<sub>TCb </sub>and I<sub>REF </sub>to be set in value independent of the ground potential.</div>
<heading id="h-0010">Description of the FIG. <b>6</b> Embodiment in a ‘Voltage Reference’</heading>
<div class="description-paragraph" id="p-0092" num="0091">The embodiment shown in <figref idrefs="DRAWINGS">FIG. 5</figref> is utilized in the embodiment depicted in <figref idrefs="DRAWINGS">FIG. 6</figref>, which is a ‘voltage reference’ that can also generate a pseudo bandgap reference voltage. This third embodiment in <figref idrefs="DRAWINGS">FIG. 6</figref> includes elements such as amplifiers. The amplifier is defined here broadly, which could be a voltage output or current output, or have voltage output combined with voltage controlled current source or VCCS. Such an amplifier, could also contain differential buffers (e.g., differential source followers, DC level shifters, voltage offset generators in series with its differential inputs). Other elements contained here could be a voltage buffer or followers or DC level shifters, voltage offset generators, current mirrors, voltage controlled current source (VCCS), self-cascodes, and MOSFETs (e.g., MOS transistors can be configured to function as a VCCS, current mirror, current sources or an active resistors or MOSFETs that can be paired in the input of an amplifier or buffer or DC level shifter—with differing scale factors—to generate offset voltage).</div>
<div class="description-paragraph" id="p-0093" num="0092">The embodiment in <figref idrefs="DRAWINGS">FIG. 6</figref> is a voltage reference, which includes current bias generator section or I<sub>BIAS </sub>section, MOS self cascode (SC) series section (that sums a number V<sub>PTAT</sub>s to establish the PTAT term of the voltage reference), and V<sub>BE </sub>generator (that establishes the CTAT term) combined with an output voltage amplifier section, yielding the voltage reference output, V<sub>REF</sub>. The embodiment of <figref idrefs="DRAWINGS">FIG. 6</figref> may be used to make a low cost (small die size), ultra low power, resistor free, CMOS pseudo bandgap voltage reference, where by programming or predetermining MOSFET's W/L sizes or ratios, an V<sub>REF </sub>equal to bandgap voltage (about 1.2V) of V<sub>BG </sub>with a stable TC may be realized. Different adjustments in MOSFET aspect ratios in this topology also allows for the option of generating a V<sub>REF </sub>that exhibits positive or negative TC.</div>
<div class="description-paragraph" id="p-0094" num="0093">Here is a description of the embodiment of <figref idrefs="DRAWINGS">FIG. 6</figref> and some of its benefits. The proposed circuit belongs to a class of resistor free bandgap voltage references (V<sub>REF </sub>or V<sub>BG</sub>) whose CTAT voltage (V<sub>CTAT</sub>) is generated by V<sub>EB </sub>of a parasitic BJT available in standard CMOS fabrication process. This reference's PTAT voltage V<sub>PTAT </sub>is generated via summation, where the PTAT term is generated by adding K of the V<sub>T</sub>.ln (g) terms that are generated via K plurality of scaled MOS self-cascodes (SC) whose each of resistive MOSFET's source-drain terminals are in series with one another while they all operate in subthreshold. All the SCs are concurrently biased by the bias current circuit of that is the embodiment of functional block diagram depicted in <figref idrefs="DRAWINGS">FIG. 2</figref>. Here K is the number of SC put in series with one another in the PTAT segment of the circuit. The embodiment of <figref idrefs="DRAWINGS">FIG. 6</figref> shows K=4, but K can be a number as low as 2 or as high as 20. This circuit's contributions may include the following. The topology employs SCs in a manner to generate both the bandgap's I<sub>BIAS </sub>and V<sub>PTAT </sub>segments of the circuitry so that their operating conditions track over power supply, temperature, and supply variations, thereby aiding V<sub>REF</sub>'s specifications. AC, transient performances are benefited because V<sub>PTAT </sub>and V<sub>CTAT </sub>signal paths are made in independent signal paths from one another, avoiding the simultaneous positive and negative V<sub>PTAT </sub>loops inherent in conventional bandgaps. Also, the die yield, attributed to impact of random non-ideal terms in the V<sub>PTAT</sub>'s signal path, is comparatively attenuated since V<sub>PTAT </sub>is generated via summation instead of the multiplication that is operant in conventional bandgaps.</div>
<div class="description-paragraph" id="p-0095" num="0094">Operating in subthreshold, the MOS bias current generator segment includes the SC's M<sub>602 </sub>and M<sub>600</sub>. In the bias current generator segment of <figref idrefs="DRAWINGS">FIG. 6</figref>, by utilizing the built in offset voltage of V<sub>PTAT</sub>˜V<sub>T</sub>.ln (bxc) that is set by scaling M<sub>604</sub>-M<sub>606 </sub>and M<sub>608</sub>-M<sub>610 </sub>within the bias amplifier A<sub>602 </sub>(composed of M<sub>604</sub>, M<sub>606</sub>, M<sub>608</sub>, M<sub>610</sub>, M<sub>612</sub>, M<sub>614</sub>, and M<sub>616</sub>), a V<sub>PTAT </sub>is forced across VDS<sub>M602</sub>. Note that I<sub>BIAS </sub>flowing through the bias current generator's SC (M<sub>600</sub>-M<sub>602</sub>) is also fed into the SC series of the PTAT segment of the V<sub>REF </sub>circuit (M<sub>i</sub>-M<sub>it </sub>where ‘i’ is even numbers <b>624</b> to <b>630</b>, such as M<sub>626</sub>-M<sub>626t </sub>or M<sub>624</sub>-M<sub>624t</sub>). It is of note that I<sub>BIAS </sub>can be configured such that its operating currents can be set to have a positive, negative, or near zero TC, depending on V<sub>REF </sub>circuit performance requirements and process parameters. Similar to I<sub>BIAS </sub>generation of <figref idrefs="DRAWINGS">FIG. 4</figref> and that of <figref idrefs="DRAWINGS">FIG. 5</figref>, here in embodiment of <figref idrefs="DRAWINGS">FIG. 6</figref> the I<sub>BIAS </sub>value over fabrication process variations is primarily a function of V<sub>T </sub>and μ (mobility of MOSFETs) and not V<sub>TH</sub>. Here the TC of I<sub>BIAS </sub>operating conditions which employs SC, mimics a similar mechanisms in the chain of SCs (M<sub>i</sub>-M<sub>it </sub>SCs) used in the PTAT section. The W/L of MOSFETs in the chain of SCs of the V<sub>PTAT </sub>section and in the SC of the I<sub>BIAS </sub>section may be made identical. Since I<sub>BIAS </sub>that is fed to SCs of the V<sub>PTAT </sub>section (M<sub>624</sub>, M<sub>626</sub>, M<sub>628</sub>, and M<sub>630</sub>) is mirrored from the I<sub>BIAS </sub>that resulted from forcing a PTAT voltage or ˜V<sub>T</sub>.ln (bxc) across SC in the bias circuit (V<sub>DS </sub>of M<sub>602</sub>), therefore a (multiple or fraction of) PTAT voltage can be developed across the drain to source terminals of each of the resistive MOSFETs M<sub>624</sub>, M<sub>626</sub>, M<sub>628</sub>, and M<sub>630 </sub>of SCs of the cumulative V<sub>PTAT </sub>section. A voltage reference output or V<sub>REF</sub>, with respect to V<sub>DD </sub>is hence generated via the summation (series combination or accumulation) of each of such PTAT voltages developed across drain to source terminals of each of the resistive MOSFETs of series of SCs, whose cumulative voltage (e.g., K×V<sub>PTAT</sub>) is subsequently added to a V<sub>CTAT</sub>, generated via the BJT Q<sub>622</sub>, which is configured in unity gain with a DC shift of V<sub>BE</sub>.</div>
<div class="description-paragraph" id="p-0096" num="0095">Note that in <figref idrefs="DRAWINGS">FIG. 6</figref>, the scale factors ‘a’ through ‘h’ are the ratios of transistor's width over length (W/L or scale factors or aspect ratios) that may be set depending on such considerations as die size and various operating specifications, including but not limited to current consumption, temperature coefficients, and power supply range objectives. The scale factors ‘a’ through ‘h’ can be in the range of approximately 0.1 to approximately 50.</div>
<div class="description-paragraph" id="p-0097" num="0096">The connections of the elements in <figref idrefs="DRAWINGS">FIG. 6</figref> are described as follows. Similar to the bias current generators utilized in <figref idrefs="DRAWINGS">FIGS. 5 and 6</figref>, the embodiment in <figref idrefs="DRAWINGS">FIG. 6</figref> also employs a bias current generator. Node <b>1</b> is the positive power supply, V<sub>DD</sub>, which is connected to the following terminals: source and body of M<sub>618</sub>, source and body of M<sub>616</sub>, source and body of M<sub>614</sub>, source and body of M<sub>630</sub>, and source and body of M<sub>620</sub>. Node <b>2</b> is the negative power supply, V<sub>SS</sub>, which can also be the ground potential depending on system requirements. Node <b>2</b> is connected to the following terminals: gate of M<sub>602</sub>, gate and drain of M<sub>600</sub>, body and source of M<sub>610</sub>, body and source of M<sub>608</sub>, body and source of M<sub>612</sub>, body and source of M<sub>630i</sub>, body and source of M<sub>628i</sub>, body and source of M<sub>626i</sub>, body and source of M<sub>624i</sub>, and collector of Q<sub>622</sub>.</div>
<div class="description-paragraph" id="p-0098" num="0097">In the current bias generator section, which biases up the voltage reference, the source and body of M<sub>600 </sub>are connected to drain of M<sub>602 </sub>and connected to node <b>602</b>, which is also connected to gate of M<sub>604</sub>. Source and body of M<sub>602 </sub>are connected to drain of M<sub>618 </sub>and gate of M<sub>606 </sub>and connected to node <b>600</b>. Source and body of M<sub>604</sub>, and source and body of M<sub>606 </sub>and drain of M<sub>616 </sub>are connected to node <b>606</b>. Drain of M<sub>606 </sub>and drain of M<sub>610 </sub>and gate of M<sub>612 </sub>are connected to node <b>608</b>. Gate and drain of M<sub>608 </sub>and drain of M<sub>604 </sub>are connected to node <b>610</b>. Drain of M<sub>612 </sub>and gate and drain of M<sub>614 </sub>are connected to node <b>604</b>. Gate terminals of M<sub>616</sub>, M<sub>618</sub>, and M<sub>620 </sub>are connected to node <b>604</b>. Note that M<sub>604</sub>, M<sub>606</sub>, M<sub>608</sub>, M<sub>610</sub>, M<sub>612</sub>, and M<sub>614 </sub>form a voltage amplifier (A<sub>602</sub>) with M<sub>604 </sub>and M<sub>606 </sub>gates at nodes <b>600</b> and <b>602</b> as A<sub>602</sub>'s input terminal, and gate and drain of M<sub>614 </sub>as the amplifier output terminal. Also, similar to the embodiment of <figref idrefs="DRAWINGS">FIG. 5</figref>, in the embodiment of <figref idrefs="DRAWINGS">FIG. 6</figref> note that offset voltage generation and amplifier function can be accomplished in one shot by scaling differing the sizes of M<sub>604 </sub>M<sub>606 </sub>and scaling differing currents through them via scaling differing the sizes M<sub>608 </sub>and M<sub>610</sub>. MOSFETs M<sub>614</sub>, M<sub>616</sub>, M<sub>618</sub>, and M<sub>620 </sub>form current mirrors whose value is scaled via ‘d’ with respect to the bias level established by M<sub>614</sub>, and here also M<sub>618 </sub>functions as the VCCS<sub>600 </sub>that feeds the bias current for the self cascode (SC<sub>600</sub>) composed of M<sub>602 </sub>and M<sub>600</sub>.</div>
<div class="description-paragraph" id="p-0099" num="0098">The PTAT signal (with respect to V<sub>DD</sub>) is generated via a series of MOS SCs, whose node's connectivity is as follows: node <b>628</b> is connected to drain of M<sub>630 </sub>and to the body and source of M<sub>630t </sub>and to the source and body of M<sub>628</sub>. Node <b>624</b> is connected to drain of M<sub>628 </sub>and to the body and source of M<sub>628t </sub>and to the source and body of M<sub>626</sub>. Node <b>620</b> is connected to drain of M<sub>626 </sub>and to the body and source of M<sub>626t </sub>and to the source and body of M<sub>624</sub>. Node <b>616</b> is connected to drain of M<sub>624 </sub>and to the body and source of M<sub>624t </sub>and to the positive input terminal of output amplifier, A<sub>600</sub>. Node <b>630</b> is connected to gate of M<sub>630 </sub>and gate plus drain of M<sub>630t </sub>and drain of M<sub>630i</sub>; Node <b>626</b> is connected to gate of M<sub>628 </sub>and gate plus drain of M<sub>628t </sub>and drain of M<sub>628i</sub>; Node <b>622</b> is connected to gate of M<sub>626 </sub>and gate plus drain of M<sub>626t </sub>and drain of M<sub>626i</sub>; Node <b>618</b> is connected to gate of M<sub>624 </sub>and gate plus drain of M<sub>624t </sub>and drain of M<sub>624i</sub>. Gates of M<sub>630i</sub>, M<sub>628i</sub>, M<sub>626i</sub>, and M<sub>624i </sub>are connected to gate of M<sub>612 </sub>at note <b>608</b>. In <figref idrefs="DRAWINGS">FIG. 602</figref>, the MOSFET pairs whose W/L's are scaled by the ratio ‘g’ are M<sub>624</sub>-M<sub>624t</sub>, M<sub>626</sub>-M<sub>626t</sub>, M<sub>628</sub>-M<sub>628t</sub>, and M<sub>630</sub>-M<sub>630t </sub>make the self cascode SC<sub>600</sub>, SC<sub>602</sub>, SC<sub>604</sub>, and SC<sub>606</sub>, respectively. M<sub>630i</sub>, M<sub>628i</sub>, M<sub>626i</sub>, and M<sub>624i </sub>provide the bias current for the SCs whose currents are mirrors of one another and are scaled by ‘d’ biased via M<sub>612 </sub>(from the bias generation section). Note that for ease and clarity of describing the embodiment of <figref idrefs="DRAWINGS">FIG. 6</figref>, only four SCs are shown. But the SC series could contain different number of SCs and bias currents (e.g., between 2 to 12) depending on fabrication process and V<sub>REF</sub>'s specification requirements. Moreover and also for demonstrative clarity a simple current bias and mirror circuitry is shown in <figref idrefs="DRAWINGS">FIG. 6</figref>. But bias current circuits could be looped differently and or cascoded (e.g., desensitize the impact of MOS's V<sub>A</sub>) to improve bandgap's specifications, including but not limited to its' VC. The CTAT signal generation in <figref idrefs="DRAWINGS">FIG. 6</figref> containing the V<sub>EB </sub>DC level shift and output amplifier section has the following nodes: node <b>612</b> is connected to the negative terminal of A<sub>600 </sub>which is also connected to emitter of Q<sub>622 </sub>and drain of M<sub>620</sub>. Output of A<sub>600 </sub>is connected to node <b>614</b> which is also connected to the base of Q<sub>622</sub>.</div>
<div class="description-paragraph" id="p-0100" num="0099">The following is a more detailed description of <figref idrefs="DRAWINGS">FIG. 6</figref>. V<sub>BG </sub>is composed on V<sub>PTAT </sub>with a positive TC and V<sub>CTAT </sub>with a negative TC whose addition generates a near zero TC output voltage of V<sub>BG</sub>. The V<sub>PTAT </sub>generator is made by K series of SC PMOSFETs, M<sub>i</sub>-M<sub>it </sub>(also operating in the subthreshold region) sized with ‘1/g’ ratio. The SC's PMOSFETs generate K×[V<sub>T</sub>. ln (g)+V<sub>e</sub>]. Here V<sub>e </sub>is approximated as the average DC equivalent of error terms (i.e., offset, drift, noise, etc) in the V<sub>PTAT </sub>signal path. The random contribution of V<sub>e </sub>to die yield should be roughly the square root of sum of V<sub>e</sub> <sup>e </sup>or about K<sup>1/2</sup>.Ve versus for conventional bandgaps where V<sub>e </sub>equivalent term (dominated by the PTAT loop amplifier) is multiplied by PTAT loop gain or about K. V<sub>e</sub>. The bandgap's CTAT is generated by V<sub>EB </sub>of parasitic vPNP with Q<sub>622 </sub>that DC shifts the output of the unity gain amplifier. The bandgap voltage V<sub>BG </sub>accounting for random impact of V<sub>e </sub>to yield, is about: V<sub>BG</sub>˜V<sub>EB</sub>+K.[V<sub>T</sub>.ln (g)+(K<sup>1/2</sup>+1)×V<sub>e</sub>].</div>
<div class="description-paragraph" id="p-0101" num="0100">As noted earlier in this section, the embodiment in <figref idrefs="DRAWINGS">FIG. 6</figref> employs SCs in a manner to generate both the bandgap's I<sub>BIAS </sub>and V<sub>PTAT </sub>circuitry so that their operating conditions track over power supply, temperature, and supply variations, thereby aiding bandgap's specifications. Hence similar to the embodiments in <figref idrefs="DRAWINGS">FIGS. 4 and 5</figref>, here in <figref idrefs="DRAWINGS">FIG. 6</figref> there is the first voltage loop consisting of M<sub>602</sub>, M<sub>604</sub>, A<sub>602</sub>, and M<sub>606 </sub>produce a PTAT signal as a function of V<sub>T </sub>which is forced upon the V<sub>DS </sub>of M<sub>602 </sub>by the operation of the loop. There is also a second voltage loop consisting of M<sub>600 </sub>and M<sub>602 </sub>where M<sub>600 </sub>operates in saturation and M<sub>602 </sub>operates in the triode region (i.e., that is acting as an active resistor of R<sub>M602</sub>=R<sub>BIAS </sub>for this current source). This active resistor, while functioning as the current source's resistor, contributes to a CTAT signal into the I<sub>BIAS </sub>being mostly a function of μ. In the bias section, the application of PTAT signal via V<sub>T </sub>while interacting with CTAT signal via μ enables setting the objective TC (positive, negative, or neutral, or in between them) for I<sub>BIAS</sub>. This same I<sub>BIAS </sub>is applied to the SC series. Note that for demonstrative clarity of the proceeding formulations, second order effects—including but not limited to—early voltage, body effect, subthreshold slope factor TC are ignored:
<br/>
<i>VGS</i> <sub>M602</sub> <i>−VGS</i> <sub>M600</sub> <i>=VDS</i> <sub>M602</sub>;
<br/>
<i>R</i> <sub>BIAS</sub> <i>=R</i> <sub>M602</sub>≈[μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M602</sub>(<i>VGS</i> <sub>M602</sub> <i>−V</i> <sub>THp</sub> <i>−VDS</i> <sub>M602</sub>/2)]<sup>−1</sup>;
<br/>
<i>VGS</i> <sub>M602</sub>≈[2<i>I</i> <sub>BIAS</sub> <i>/μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M600</sub>]<sup>1/2</sup> <i>+V</i> <sub>THp</sub>;
<br/>
<i>VGS</i> <sub>M604</sub> <i>−VGS</i> <sub>M606</sub>=[<i>V</i> <sub>T</sub>.ln(<i>cxb</i>)]=<i>VDS</i> <sub>M602</sub>; and
<br/>
μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M602</sub>×[<i>I</i> <sub>BIAS</sub> <i>/μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M600</sub>]<sup>1/2</sup> <i>≈I</i> <sub>BIAS</sub>.[<i>V</i> <sub>T</sub>.ln(<i>cxb</i>)]<sup>−1</sup>;
<br/>
<i>I</i> <sub>BIAS</sub> <i>≈f</i>(<i>S</i> <sub>600</sub> <i>,μ,V</i> <sub>T</sub>).
</div>
<div class="description-paragraph" id="p-0102" num="0101">As just noted above, this same I<sub>BIAS </sub>is applied to the SC series, where:
<br/>
<i>VDS</i> <sub>M630</sub> <i>=VGS</i> <sub>M630</sub> <i>−VGS</i> <sub>M630t</sub>;
<br/>
<i>VDS</i> <sub>M628</sub> <i>=VGS</i> <sub>M628</sub> <i>−VGS</i> <sub>M628t</sub>;
<br/>
<i>VDS</i> <sub>M626</sub> <i>=VGS</i> <sub>M626</sub> <i>−VGS</i> <sub>M626t</sub>; and
<br/>
<i>VDS</i> <sub>M624</sub> <i>=VGS</i> <sub>M24</sub> <i>−VGS</i> <sub>M624t</sub>.
</div>
<div class="description-paragraph" id="p-0103" num="0102">Given that the bias circuit employs a similar mechanism (i.e., VGS<sub>M602</sub>−VGS<sub>M600</sub>=VDS<sub>M602</sub>) to generate both the bandgap's I<sub>BIAS </sub>and V<sub>PTAT </sub>sections, hence their operating conditions track over power supply, temperature, and supply variations, thereby aiding bandgap's specifications.</div>
<div class="description-paragraph" id="p-0104" num="0103">Before turning to more details about the benefits of the <figref idrefs="DRAWINGS">FIG. 6</figref> embodiment, it can be noticed that V<sub>TH </sub>term is canceled out in both the first loop (M<sub>604</sub>, A<sub>602</sub>, M<sub>606</sub>) and the second loop (M<sub>600</sub>, M<sub>602</sub>) as well as in the SC series (M<sub>630</sub>-M<sub>630t</sub>, M<sub>628</sub>-M<sub>628t</sub>, M<sub>626</sub>-M<sub>626t</sub>, and M<sub>624</sub>-M<sub>624t</sub>) which desensitizes I<sub>BIAS </sub>and the V<sub>PTAT </sub>terms (as well as the V<sub>REF </sub>or V<sub>BG</sub>) from V<sub>TH </sub>variations in process fabrication.</div>
<div class="description-paragraph" id="p-0105" num="0104">Some of the benefits of the embodiment of <figref idrefs="DRAWINGS">FIG. 6</figref> are summarized here. First, low cost due to small die size with no passive resistor in standard digital CMOS fabrication with ease of process node portability besides smaller die size keeping the cost low. Moreover, in order to serve some of the medical applications of this topology, a very small die size is necessary for small incisions (e.g., or inside a crown). Second, ultra low power consumption over temperature span. Ultra low current consumption is key in some applications for example because replacement of micro-batteries or use of noisy magnetic micro-harvesters for power transfers may be impractical or unsafe. Third, superior VC, PSRR, and transient performance. For example, there could be mission critical biomedical batteryless systems may require uninterrupted monitoring and measurements while the IC's power supply is being charged via multiple micro-harvesters or being subjected to disorderly patterns. Fourth, avoiding big decoupling capacitors may be key for voltage references in some applications. For example, a large decoupling capacitor (typically isolated from power storage supercapacitor with a Schottky diode) can burden the scarce power of micro-energy harvester reserves, especially during power up and power down transients. As such, a voltage references such as the embodiment in <figref idrefs="DRAWINGS">FIG. 6</figref> with superior VC, PSRR, and AC performance (or requiring much smaller decoupling capacitors) can be significantly more critical for micro-energy harvesting ICs. Fifth, another benefit of the <figref idrefs="DRAWINGS">FIG. 602</figref> embodiment is that V<sub>SS </sub>(negative power supply) and the ground potential (GND) may be the same of separated, providing some flexibility to system topology. Sixth, also note that a challenge with ultra low current and MOSFETs is high noise. Apples-to-apples the embodiment of <figref idrefs="DRAWINGS">FIG. 6</figref> is architecturally equipped to enhance noise performance compared to prior art because: (a) as noted above, the contribution of noise within the V<sub>PTAT </sub>generation circuit is (noise)×K<sup>1/2 </sup>because of the operation of summation instead of multiplication in the conventional bandgap of <figref idrefs="DRAWINGS">FIG. 2</figref> where operation of multiplication or K (noise)×K gains up the loop amplifier A1's noise; (b) PMOSFET SCs may be used to build up to the V<sub>PTAT </sub>along the SC string, PMOSFETs may be used in the SC and the amplifier of the bias current generation circuit, as well as in the output amplifier differential input pairs, which should reduce the contribution of 1/f noise to the V<sub>BG </sub>output; and (c) bandgap reference's noise can be materially band pass filtered out by placing a capacitor at the end of the SC string or the high impedance node of output amplifier but in accordance with consideration for power up and down settling time requirements.</div>
<div class="description-paragraph" id="p-0106" num="0105">In addition to the synthesis of the aforementioned contributions of the embodiment of <figref idrefs="DRAWINGS">FIG. 6</figref>, as noted earlier, aims to improve upon the broader benefits attributable to the category of bandgap references to which it belongs. Some of such benefits are: (1) the PTAT and CTAT signal paths are independent, and hence the positive and negative feedback loops inherent in conventional bandgap PTAT loops are avoided, thus helping transient and power-up and down responses of the bandgap; (2) the non-idealities attributed to random DC offsets and noise that impact V<sub>BG </sub>are attenuated, due to operations of summation compared to multiplication for conventional bandgaps; and (3) tight performance tolerance over standard CMOS manufacturing process variations. Bandgap's I<sub>BIAS </sub>is made independent of CMOS V<sub>TH </sub>and instead primarily depends on V<sub>T </sub>and μ, which is more tightly controllable in manufacturing.</div>
<heading id="h-0011">Description of the FIG. <b>9</b> Embodiment in a Bandgap Voltage Reference Along with FIGS. <b>3</b>, <b>7</b>, and <b>8</b> </heading>
<div class="description-paragraph" id="p-0107" num="0106">This fourth embodiment shown in <figref idrefs="DRAWINGS">FIG. 7</figref>, along with <figref idrefs="DRAWINGS">FIGS. 3, 8, and 9</figref>, includes elements such as amplifiers. The amplifier is defined here broadly, which could be a voltage output or current output, or have voltage output combined with voltage controlled current source or VCCS. Such an amplifier, could also contain differential buffers (e.g., differential source followers, DC level shifters, voltage offset generators in series with its differential inputs). Other elements contained here could be voltage buffer or followers or DC level shifters, voltage offset generators, current sources, current mirrors, voltage controlled current sources (VCCS), self-cascodes, bipolar transistors or BJTs (including parasitic vertical BJT) and MOSFETs (e.g., MOS transistors can be configured to function as an active resistor, or a VCCS, current mirror, current sources or MOSFETs that can be paired in the input of an amplifier or buffer or DC level shifter—with differing scale factors—to generate offset voltage).</div>
<div class="description-paragraph" id="p-0108" num="0107">The embodiment in <figref idrefs="DRAWINGS">FIG. 7</figref> is a voltage reference, which consists of current bias generator I<sub>BIAS</sub>, MOS active resistors (that establishes the PTAT signal in the bandgap), and V<sub>EB </sub>generator (that establishes the CTAT signal in the bandgap) plus output amplifier delivering the voltage reference output, V<sub>REF </sub>or V<sub>BG</sub>.</div>
<div class="description-paragraph" id="p-0109" num="0108">The goal here is for the functional block shown in <figref idrefs="DRAWINGS">FIG. 3</figref> to be used in an embodiment of a bandgap voltage reference depicted in <figref idrefs="DRAWINGS">FIG. 7</figref> so as to make an ultra low power, resistor free, CMOS bandgap voltage reference. By setting MOSFET's W/L ratios in <figref idrefs="DRAWINGS">FIG. 7</figref>, a V<sub>REF </sub>equal to bandgap voltage (about 1.2V) or V<sub>BG </sub>with a stable TC may be realized, although a V<sub>REF </sub>with positive, or negative TC is possible with the topology.</div>
<div class="description-paragraph" id="p-0110" num="0109">Here is a summary description and some of the benefits of the embodiment of <figref idrefs="DRAWINGS">FIG. 7</figref>. The proposed circuit belongs to a conventional class of bandgap voltage references that adds a PTAT and a CTAT signal to yield a near zero TC, as depicted in prior art <figref idrefs="DRAWINGS">FIG. 10</figref>. In <figref idrefs="DRAWINGS">FIG. 10</figref>, a V<sub>PTAT </sub>(as a multiple of V<sub>T</sub>) signal is placed across R<sub>800 </sub>(or R<sub>BG</sub>). As a consequence, the current through R<sub>BG </sub>flows through R<sub>802 </sub>(p.R<sub>BG</sub>), which amplifies the V<sub>PTAT </sub>such that the sum of VEB<sub>Q802 </sub>(which is the CTAT signal) and [p+1]×V<sub>PTAT </sub>yields the V<sub>REF </sub>or V<sub>BG </sub>with a stable TC. Conventional bandgap voltage reference, such as the one shown in <figref idrefs="DRAWINGS">FIG. 10</figref>, can be attractive because for high volume markets, bandgap voltage references may be viewed in a more favorable light in manufacturing due to the predictable V<sub>BE </sub>and V<sub>T </sub>terms that constitute the V<sub>BG</sub>.</div>
<div class="description-paragraph" id="p-0111" num="0110">However, prior arts bandgaps of this category require passive resistors (e.g., R<sub>800 </sub>and R<sub>802</sub>), which makes their implementation in small form factor, low-cost, and ultra low power applications, such as energy harvesting impossible or impractical. Therefore, a resistorless CMOS bandgap embodied of <figref idrefs="DRAWINGS">FIG. 7</figref> employs the bias current generator (functional block shown in <figref idrefs="DRAWINGS">FIG. 3</figref>) that is utilized in <figref idrefs="DRAWINGS">FIG. 8</figref>.</div>
<div class="description-paragraph" id="p-0112" num="0111">A new composite active MOS resistor is proposed, depicted in <figref idrefs="DRAWINGS">FIG. 9</figref>, which has a small size and high resistance. A network of active resistors using this composite active resistor cell (<figref idrefs="DRAWINGS">FIG. 9</figref>) replace the function of R<sub>GB </sub>for R<sub>800 </sub>plus ‘p’ times of R<sub>GB </sub>for R<sub>802</sub>. The composite active resistor of <figref idrefs="DRAWINGS">FIG. 9</figref>, working in concert with the bias current circuit of <figref idrefs="DRAWINGS">FIG. 804</figref>, is embodied in the bandgap circuit (<figref idrefs="DRAWINGS">FIG. 7</figref>).</div>
<div class="description-paragraph" id="p-0113" num="0112">The bias circuit of <figref idrefs="DRAWINGS">FIG. 8</figref>, makes possible the creation of the active resistor (<figref idrefs="DRAWINGS">FIG. 9</figref>), which enables keeping both the reliability benefits of conventional bandgap topology as well as eliminating the bandgap's need for passive resistors, which consequently enables making an ultra low power bandgap of <figref idrefs="DRAWINGS">FIG. 7</figref> possible in standard digital CMOS. In the I<sub>BIAS </sub>generator of <figref idrefs="DRAWINGS">FIG. 8</figref>, a V<sub>PTAT </sub>(in the M<sub>804</sub>-A<sub>800</sub>-M<sub>806 </sub>loop making VT.ln [bxc]) is forced upon the active resistors R<sub>M802</sub>. Similarly, in the bandgap voltage reference circuit of <figref idrefs="DRAWINGS">FIG. 7</figref>, a V<sub>PTAT </sub>(in the Q<sub>804</sub>-A<sub>800</sub>-Q<sub>806 </sub>loop making VT.ln [gxi])]) is forced upon the active resistors R<sub>M826r</sub>. The I<sub>BIAS </sub>generator circuit of <figref idrefs="DRAWINGS">FIG. 8</figref> and the bandgap loop circuitries of <figref idrefs="DRAWINGS">FIG. 7</figref> independently apply PTAT voltages across functionally similar composite MOS resistors, namely R<sub>M802 </sub>and R<sub>M826r </sub>to generate their respective operating currents ID<sub>M802 </sub>and ID<sub>M826r</sub>.</div>
<div class="description-paragraph" id="p-0114" num="0113">Note also that in the SC loop in the I<sub>BIAS </sub>generator circuit of <figref idrefs="DRAWINGS">FIG. 8</figref>, VGS<sub>M800</sub>−VGS<sub>M802</sub>=VDS<sub>M802</sub>, where M<sub>802 </sub>is the MOS resistor of I<sub>BIAS </sub>circuit. Similarly, note that in the active MOS resistor of <figref idrefs="DRAWINGS">FIG. 9</figref>, ignoring the V<sub>OFFSET </sub>of amplifier A<sub>824 </sub>for now, VGS<sub>M824b</sub>−VGS<sub>M824r</sub>=VDS<sub>M824r</sub>, where M<sub>824r </sub>is the MOS resistor of active resistor circuit. This topology uses substantially similar functional conditions between the operations of M<sub>802</sub>-M<sub>800 </sub>loop in the I<sub>BIAS </sub>generator circuit of <figref idrefs="DRAWINGS">FIG. 8</figref>, and that of each of the MOS resistors of <figref idrefs="DRAWINGS">FIG. 9</figref> that is utilized in the bandgap circuit of <figref idrefs="DRAWINGS">FIG. 7</figref> (i.e., M<sub>826b</sub>-A<sub>826</sub>-M<sub>826r </sub>loop, M<sub>828b</sub>-A<sub>828</sub>-M<sub>828r </sub>loop, M<sub>830b</sub>-A<sub>830</sub>-M<sub>830r </sub>loop, M<sub>834b</sub>-A<sub>834</sub>-M<sub>836r </sub>loop). Therefore, the operating conditions of the I<sub>BIAS </sub>generator of <figref idrefs="DRAWINGS">FIG. 8</figref>, the active MOS resistor of <figref idrefs="DRAWINGS">FIG. 9</figref>, and bandgap circuit of <figref idrefs="DRAWINGS">FIG. 7</figref> substantially track each other over fabrication process and temperature and power supply variations, and able to approximate a PTAT like behavior over temperature.</div>
<div class="description-paragraph" id="p-0115" num="0114">The combination of the I<sub>BIAS </sub>generator of <figref idrefs="DRAWINGS">FIG. 8</figref>, the active MOS resistor of <figref idrefs="DRAWINGS">FIG. 9</figref>, and bandgap circuit of <figref idrefs="DRAWINGS">FIG. 7</figref> enable the bandgap's power consumption to be mostly independent of MOSFET's V<sub>TH </sub>and chiefly a function of mobility, μ, that benefits manufacturability and yield because μ, is more tightly controllable (compared to poly resistance or V<sub>TH</sub>, for example). Such trait not only yields a more stable bandgap voltage reference, but also one that delivers ultra low power which has a narrower range of variation over temperature and fabrication process corners.</div>
<div class="description-paragraph" id="p-0116" num="0115">Another advantage of combining I<sub>BIAS </sub>generator of <figref idrefs="DRAWINGS">FIG. 8</figref>, the active MOS resistor of <figref idrefs="DRAWINGS">FIG. 9</figref>, and bandgap circuit of <figref idrefs="DRAWINGS">FIG. 7</figref>, is that the bandgap circuit can be more stable in AC and transient response. For example, wireless and batteryless electronic systems, in general, may be subject to less orderly power supply patterns. To guard band against disorderly power supply and start-up patterns, especially for instance in mission critical bioelectronics applications, the positive feedback loop associated with prior art <figref idrefs="DRAWINGS">FIG. 10</figref> which uses a conventional bandgap's PTAT amplifier (that is vulnerable to transients) is eliminated in bandgap circuit of <figref idrefs="DRAWINGS">FIG. 7</figref>. This is done without denting bandgap's accuracy since the overall bandgap's operating current is compensated by topology with ID<sub>M802 </sub>and ID<sub>M824 </sub>tracking each other (also because of combining I<sub>BIAS </sub>generator of <figref idrefs="DRAWINGS">FIG. 8</figref>, the active MOS resistor of <figref idrefs="DRAWINGS">FIG. 9</figref>, and bandgap circuit of <figref idrefs="DRAWINGS">FIG. 7</figref>). Although other variations are possible depending on different performance trade-offs, note that for the embodiment of <figref idrefs="DRAWINGS">FIG. 7</figref>, PMOS transistors are used in all of bandgap's key signal paths (i.e., amplifiers, composite MOS resistor, etc.) which should enhance the topology for manufacturability, provide some immunity against SOC's substrate (digital) jitters, and be less (1/f) noisy. Note that in <figref idrefs="DRAWINGS">FIGS. 3, 7, 8, and 9</figref> the scale factors ‘a’ through are the ratios of transistor's width over length (W/L or scale factors or aspect ratios) that may be set depending on such considerations as die size and various operating specifications, including but not limited to current consumption, temperature coefficients, and power supply range objectives. As such, for <figref idrefs="DRAWINGS">FIGS. 3, 7, 8, and 9</figref> the scale factors ‘a’ through ‘r’ can be predetermined or programmed to be between approximately 0.1 to approximately 50. Similar to the bias current generators utilized in <figref idrefs="DRAWINGS">FIGS. 1, 2, and 3</figref>, the embodiment in <figref idrefs="DRAWINGS">FIG. 7</figref> also employs a bias current generator, which is depicted in <figref idrefs="DRAWINGS">FIG. 3</figref>.</div>
<div class="description-paragraph" id="p-0117" num="0116">The connections of the elements in the embodiment of <figref idrefs="DRAWINGS">FIG. 8</figref> are described as follows: node <b>1</b> is the positive supply voltage terminal or V<sub>00</sub>. Node <b>2</b> is the negative supply voltage terminal or V<sub>SS </sub>(which can also be set as the zero voltage terminal or ground). Source and body of M<sub>802</sub>, M<sub>822</sub>, and M<sub>820 </sub>are connected to node <b>1</b>. Source and body of M<sub>810</sub>, M<sub>812</sub>, M<sub>814</sub>, M<sub>816</sub>, and M<sub>818 </sub>are connected to node <b>2</b>. Transistors M<sub>800 </sub>and M<sub>802 </sub>form the self cascode, where the diode connected M<sub>800 </sub>is cascoded with M<sub>802</sub>. Node <b>800</b> is connected to gate and drain f M<sub>800</sub>, gate of M<sub>802</sub>, and drain of M<sub>810</sub>. Node <b>802</b> is connected to source and body of M<sub>800</sub>, drain of M<sub>802</sub>, drain of M<sub>812</sub>, drain of M<sub>822</sub>, and source and body of M<sub>804</sub>. Note that the body terminal of M<sub>800 </sub>can be connected to either its source at node <b>802</b> or to node <b>1</b>, depending on performance objectives and the process fabrication. Moreover, here the PTAT Voltage is generated by using two DC level shifters (diode connected V<sub>GS </sub>followers) with a build in offset voltage, which is formed by diode connected MOSFETs M<sub>804 </sub>and M<sub>806 </sub>combined with current sources supplied by M<sub>822</sub>, M<sub>814 </sub>and M<sub>216</sub>. Node <b>804</b> is connected to gate and drain of M<sub>804</sub>, drain of M<sub>814</sub>, and inverting input of amplifier A<sub>800</sub>. Node <b>806</b> is connected to the non-inverting input of A<sub>800</sub>, drain of M<sub>816</sub>, and gate and drain of M<sub>806</sub>. Node <b>808</b> is connected to the gates of M<sub>810</sub>, M<sub>812</sub>, M<sub>814</sub>, M<sub>816</sub>, and M<sub>818</sub>. Node <b>810</b> is connected to the drain of M<sub>818</sub>, and gate and drain of M<sub>820</sub>. Note that M<sub>820 </sub>and M<sub>822</sub>, and M<sub>810</sub>, M<sub>812</sub>, M<sub>814</sub>, M<sub>816 </sub>and M<sub>818 </sub>function as current mirrors, as well as VCCS whose gate voltage varies by the output of A<sub>800</sub>. The drain current or I<sub>D </sub>of M<sub>810 </sub>or that of M<sub>818 </sub>constitutes the bias current of the circuit or reference current, I<sub>BIAS</sub>.</div>
<div class="description-paragraph" id="p-0118" num="0117">The connections of the elements in <figref idrefs="DRAWINGS">FIG. 9</figref> are described as follows: node <b>1</b> is the positive supply voltage terminal or V<sub>DD</sub>. Node <b>2</b> is the negative supply voltage terminal or V<sub>SS </sub>(which can also be set as the zero voltage terminal or ground). Source and body of M<sub>824i </sub>are connected to node <b>1</b>. Drain of M<sub>824b </sub>is connected to node <b>2</b>. Node <b>826</b> is connected to drain of M<sub>824i</sub>, body and source of M<sub>824b</sub>, and the inverting input of A<sub>824</sub>. M<sub>824i </sub>functions as the current source whose current is mirrored from (VBISA) node <b>810</b> to establish the operating current for M<sub>824b</sub>. Node <b>824</b> is connected to gate of M<sub>824b </sub>and the output of A<sub>824</sub>. Node <b>822</b> is connected to non-inverting node of A<sub>824 </sub>and drain of M<sub>824r</sub>. Node <b>820</b> is connected to source ad body of M<sub>824r</sub>. Single, series or parallel combinations of M<sub>824r </sub>can be as the resistor cell that is used in the bandgap (e.g., R<b>800</b> and R<b>802</b> of <figref idrefs="DRAWINGS">FIG. 10</figref>).</div>
<div class="description-paragraph" id="p-0119" num="0118">The connections of the elements in <figref idrefs="DRAWINGS">FIG. 7</figref> are described as follows: node <b>1</b> is the positive supply voltage terminal or V<sub>DD</sub>. Node <b>2</b> is the negative supply voltage terminal or V<sub>SS </sub>(which can also be set as the zero voltage terminal or ground). Source and body of M<sub>836i</sub>, M<sub>834i</sub>, M<sub>832i</sub>, M<sub>830i</sub>, M<sub>828i</sub>, and M<sub>826i </sub>are connected to node <b>1</b>. Node <b>2</b> is connected to drains of M<sub>834b</sub>, M<sub>832b</sub>, M<sub>830b</sub>, M<sub>828b</sub>, and M<sub>826b </sub>as well as collectors of Q<sub>806 </sub>and Q<sub>804</sub>. Node <b>3</b> is V<sub>MID</sub>, which can also be connected to the ground or zero potential, and is connected to the base of Q<sub>804 </sub>and Q<sub>806</sub>. Node <b>828</b> is connected to emitter of Q<sub>804</sub>, positive input of A<sub>836</sub>, and drain of M<sub>836</sub>. Node <b>830</b> is connected to emitter of Q<sub>806</sub>, positive input of A<sub>826</sub>, and drain of M<sub>826r</sub>. Node <b>832</b> is connected to gates of M<sub>826r </sub>and M<sub>826b </sub>and output of A<sub>826</sub>. Node <b>834</b> is connected to source and body of M<sub>826b</sub>, drain of M<sub>826i</sub>, and negative input of A<sub>826</sub>. Node <b>836</b> is connected to the source and body of M<sub>826r</sub>, positive input of A<sub>828</sub>, drain of M<sub>828r</sub>, and negative input of A<sub>836</sub>. Node <b>838</b> is connected to gates of M<sub>828r </sub>and M<sub>828b </sub>and output of A<sub>828</sub>. Node <b>840</b> is connected to source and body of M<sub>828b</sub>, drain of M<sub>828i</sub>, and negative input of A<sub>828</sub>. Node <b>842</b> is connected to the source and body of M<sub>828i</sub>, positive input of A<sub>830</sub>, drain of M<sub>830r</sub>. Node <b>844</b> is connected to gates of M<sub>830r </sub>and M<sub>830b </sub>and output of A<sub>830</sub>. Node <b>846</b> is connected to source and body of M<sub>830b</sub>, drain of M<sub>830i</sub>, and negative input of A<sub>830</sub>. Node <b>848</b> is connected to the source and body of M<sub>830r</sub>, positive input of A<sub>832</sub>, drain of M<sub>832r</sub>. Node <b>850</b> is connected to gates of M<sub>832r </sub>and M<sub>832b </sub>and output of A<sub>832</sub>. Node <b>852</b> is connected to source and body of M<sub>832b</sub>, drain of M<sub>832i</sub>, and negative input of A<sub>832</sub>. Node <b>854</b> is connected to the source and body of M<sub>832r</sub>, positive input of A<sub>834</sub>, drain of M<sub>834r</sub>. Node <b>856</b> is connected to gates of M<sub>834r </sub>and M<sub>834b </sub>and output of A<sub>834</sub>. Node <b>858</b> is connected to source and body of M<sub>834b</sub>, drain of M<sub>834i</sub>, and negative input of A<sub>834</sub>. Node <b>860</b> is the V<sub>REF </sub>of V<sub>BG </sub>connected to body and source of M<sub>834r</sub>, and output of A<sub>836</sub>.</div>
<div class="description-paragraph" id="p-0120" num="0119">The connections of the elements in the prior art <figref idrefs="DRAWINGS">FIG. 10</figref> are described as follows: node <b>1</b> is the positive supply voltage terminal or V<sub>DD</sub>. Node <b>0</b> is the ground or zero voltage terminal. Node <b>1</b> is connected to body and source of M<sub>800a </sub>and M<sub>802a </sub>as well as output of A<sub>802</sub>. Node <b>0</b> or ground is connected to base and collector of Q<sub>800 </sub>and Q<sub>802</sub>. Node <b>804</b> <i>a </i>is connected to emitter of Q<sub>802 </sub>and one side of R<sub>800</sub>. Node <b>802</b> <i>a </i>is connected to the other side of R<sub>800 </sub>and one side of R<sub>802 </sub>and the positive input of A<sub>802</sub>. Node <b>808</b> <i>a </i>is the V<sub>REF </sub>or V<sub>BG </sub>output that is connected to the other side of R<sub>802 </sub>and the drain of M<sub>820a</sub>. Node <b>806</b> <i>a </i>is connected to the gates of M<sub>802a </sub>and M<sub>800a </sub>and the output of A<sub>802</sub>. Node <b>800</b> <i>a </i>is connected to emitter of Q<sub>800</sub>, drain of M<sub>800a</sub>, and negative input of A<sub>802</sub>.</div>
<div class="description-paragraph" id="p-0121" num="0120">As noted earlier, the proposed circuit belongs to the general category of bandgap voltage references in standard digital CMOS that operate in subthreshold (see <figref idrefs="DRAWINGS">FIG. 7</figref>). One part of the proposed bandgap is the I<sub>BIAS </sub>generation circuit that is shown in simplified <figref idrefs="DRAWINGS">FIG. 8</figref> (which is the embodiment of the functional block diagram of bias current generation shown in <figref idrefs="DRAWINGS">FIG. 3</figref>, which is also a variation of the functional block diagrams of the bias current generation embodiments shown in <figref idrefs="DRAWINGS">FIG. 1</figref> and <figref idrefs="DRAWINGS">FIG. 2</figref>).</div>
<div class="description-paragraph" id="p-0122" num="0121">In <figref idrefs="DRAWINGS">FIG. 8</figref> there is the first voltage loop consisting of M<sub>802</sub>, M<sub>804</sub>, A<sub>800</sub>, and M<sub>806 </sub>produce a PTAT signal as a function of V<sub>T</sub>, which is forced upon the V<sub>DS </sub>of M<sub>802 </sub>by the operation of the loop. There is also a second voltage loop consisting of M<sub>800 </sub>and M<sub>802 </sub>where M<sub>800 </sub>operates in saturation and M<sub>802 </sub>operates in the triode region (i.e., that is acting as an active resistor of R<sub>M802</sub>=R<sub>BIAS </sub>for this current source). The active resistor, while functioning as the current source's resistor, contributes to a CTAT signal being mostly a function of μ. Application of PTAT signal via VT while interacting with CTAT signal via μ whose combination (using different MOSFET aspect ratios) can facilitate making a positive TC, or negative TC, as well as a stable one for some temperature compensation for the I<sub>BIAS</sub>. Note that for demonstrative clarity of the proceeding formulations, second order effects—including but not limited to—early voltage, body effect, subthreshold slope factor TC are ignored:
<br/>
<i>VGS</i> <sub>M802</sub> <i>−VGS</i> <sub>M800</sub> <i>=VDS</i> <sub>M802</sub>;
<br/>
<i>R</i> <sub>BIAS</sub> <i>=R</i> <sub>M802</sub>≈[μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M802</sub>(<i>VGS</i> <sub>M802</sub> <i>−V</i> <sub>TH</sub> <i>−VDS</i> <sub>M802</sub>/2)]<sup>−1</sup>;
<br/>
<i>VGS</i> <sub>M802</sub>≈[2<i>I</i> <sub>BIAS</sub> <i>/μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M800</sub>]<sup>1/2</sup> <i>+V</i> <sub>TH</sub>;
<br/>
<i>VGS</i> <sub>M806</sub> <i>−VGS</i> <sub>M804</sub>=[<i>V</i> <sub>T</sub>.ln(<i>d×b</i>)]=<i>VDS</i> <sub>M802</sub>;
<br/>
<i>VDS</i> <sub>M802</sub> <i>≈I</i> <sub>BIAS</sub>(<i>e+</i>1)×<i>R</i> <sub>M802</sub>[<i>V</i> <sub>T</sub>.ln(<i>cxb</i>)];
<br/>
μ.<i>C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M202</sub>×[<i>I</i> <sub>BIAS</sub> <i>/μ.C</i> <sub>OX</sub>.(<i>W/L</i>)<sub>M200</sub>]<sup>1/2</sup> <i>≈I</i> <sub>BIAS</sub>(<i>e+</i>1)×[<i>V</i> <sub>T</sub>.ln(<i>cxb</i>)]<sup>−1</sup>;
<br/>
<i>I</i> <sub>BIAS</sub> <i>≈f</i>(<i>S</i> <sub>800</sub> <i>,μ,V</i> <sub>T</sub>).
</div>
<div class="description-paragraph" id="p-0123" num="0122">This I<sub>BIAS</sub>, mostly a function of S<sub>800 </sub>(which is formulaic representation consisting of MOSFET W/L ratios and MOSFET's device constants) as well as μ, and V<sub>T</sub>.</div>
<div class="description-paragraph" id="p-0124" num="0123">The composite active MOS resistor of <figref idrefs="DRAWINGS">FIG. 9</figref> is formed via the loop composed of A<sub>824</sub>, M<sub>824b </sub>(saturation mode), and M<sub>824r </sub>(in linear mode). In <figref idrefs="DRAWINGS">FIG. 9</figref>, M<sub>824r </sub>replaces and performs the role of bandgap resistor, R<sub>BG </sub>in <figref idrefs="DRAWINGS">FIG. 10</figref>.</div>
<div class="description-paragraph" id="p-0125" num="0124">The equivalent of R<sub>BG </sub>of <figref idrefs="DRAWINGS">FIG. 10</figref> is the composite active MOS resistor R<sub>M826r</sub>, which is utilized in the PTAT loop composed of Q<sub>806</sub>, Q<sub>804</sub>, and A<sub>836 </sub>shown in the bandgap circuit of <figref idrefs="DRAWINGS">FIG. 7</figref>. Ignoring non-idealities (e.g., V<sub>OFS</sub>) for now, the concurrent operation of the active MOS resistor composed of A<sub>826</sub>-M<sub>826r</sub>-M<sub>826b </sub>voltage loop (depicted in <figref idrefs="DRAWINGS">FIG. 7</figref>) which is utilized in the bandgap in combination with the Q<sub>806</sub>-Q<sub>804</sub>-A<sub>836 </sub>voltage loop roughly yields:
<br/>
<i>VDS</i> <sub>M826r</sub> <i>˜V</i> <sub>T</sub>.ln(<i>n</i> <sub>1</sub> <i>×g</i>);
<br/>
<i>VGS</i> <sub>826b</sub> <i>−VGS</i> <sub>826r</sub> <i>˜VDS</i> <sub>826r</sub> <i>˜V</i> <sub>T</sub>.ln(<i>n</i> <sub>1</sub> <i>×g</i>);
<br/>
<i>IDS</i> <sub>M826r</sub> <i>˜V</i> <sub>T</sub>.ln(<i>n</i> <sub>1</sub> <i>×g</i>)/<i>R</i> <sub>M826r</sub>;
<br/>
<i>IDS</i> <sub>M826i</sub> <i>˜IDS</i> <sub>M826b</sub> <i>˜f</i>(<i>S.μ,V</i> <sub>T</sub>).
</div>
<div class="description-paragraph" id="p-0126" num="0125">As such, IDS<sub>M826r </sub>(and the composite MOS's resistance) is mostly a function of V<sub>T </sub>and μ and is independent of MOSFET's V<sub>TH</sub>. Here, the dependence of R<sub>BG</sub>'s network (of active resistance and its operating current) on μ and V<sub>T </sub>and their approximate independence from V<sub>TH </sub>can help enhance manufacturability and enable performance optimization, including efficient trimming to attain higher accuracy in this bandgap. To simplify description of this circuit's operations and it benefits, the composite active MOS resistors are approximated as: R<sub>BG </sub>as a lump sum ‘resistor’ in series with a lump sum ‘voltage source’ (which encapsulates the offset mismatch due to V<sub>GS </sub>terms of MOSFETs as well as the amplifier in the composite active resistor circuit of <figref idrefs="DRAWINGS">FIG. 9</figref>). In such a model the ‘voltage source’ is an offset voltage (V<sub>OFSR</sub>) between the composite active MOS resistors in the bandgap PTAT loop. Note that the V<sub>OFSR </sub>the systematic offsets are cancelled out: R<sub>802</sub>/R<sub>800</sub>˜(R<sub>M828r</sub>+R<sub>M830R</sub>+R<sub>M832r</sub>R<sub>M834r</sub>)/R<sub>M826r</sub>.</div>
<div class="description-paragraph" id="p-0127" num="0126">ΔV<sub>OFSR </sub>is configured as the random mismatch between VOFS<sub>M828r</sub>, VOFS<sub>M830r</sub>, VOFS<sub>M832r</sub>, VOFS<sub>M834r</sub>, VOFS<sub>M826r </sub>of each of the composite MOS resistors. Here ΔV<sub>OFSR </sub>should induce an additional offset error term (statistical contribution) to V<sub>BG </sub>output of roughly (G+1)<sup>1/2</sup>×ΔV<sub>OFSR </sub>where ‘G’ is set by the (number active MOS resistor in series in the feedback loop of the bandgap circuit) ratio of string of composite active MOS resistors in the PTAT loop to satisfy the functional equivalent R<sub>802</sub>/R<sub>800 </sub>ratio (in <figref idrefs="DRAWINGS">FIG. 10</figref>) requirement for a near zero TC V<sub>BG</sub>. Given that MOSFETs operate in subthreshold, V<sub>TH </sub>mismatches dominate the differential pairs (i.e., input amplifiers, etc.) offset terms, and ΔV<sub>OFSR</sub>˜f(V<sub>T</sub>) that tracks the PTAT term in V<sub>BG </sub>and can be roughly trimmed out for more precision.</div>
<div class="description-paragraph" id="p-0128" num="0127">To guard band for start-up and transient response A<sub>836</sub>'S output does not drive both the operating currents that feed Q<sub>804 </sub>and Q<sub>806 </sub>in order to eliminate the positive feedback in the PTAT loop. But accuracy of the V<sub>BG </sub>is not compromise. This is because the proposed embodiment of <figref idrefs="DRAWINGS">FIG. 7</figref> enables I<sub>BIAS</sub>, which feeds Q<sub>804 </sub>and the strings of composite MOS resistors with the bandgap's PTAT loop that operate in a substantially (formulaically) similar manner, tracking each other over fabrication process, and temperature variations. Moreover, the same single pole CMOS amplifier is utilized throughout the bandgap which offers better transient, AC, and PSRR performance. Excluding the impact of random mismatch between amplifier offsets, the systematic higher V<sub>OFSA</sub>, which is the offset voltage associated with single pole amplifiers (A<sub>836</sub>), is roughly canceled out, and hence approximately: V<sub>BG</sub>˜V<sub>EB</sub>+(G+1)[V<sub>T</sub>.ln(n<sub>1</sub>×g)+V<sub>OFSA</sub>]+(G+1)<sup>1/2</sup>.ΔV<sub>OFSR</sub>.</div>
<div class="description-paragraph" id="p-0129" num="0128">Although other variations of this topology are possible, the embodiment in <figref idrefs="DRAWINGS">FIG. 7</figref> utilizes (but for substrate vertical PNPs in the PTAT section of the bandgap) PMOSFETs in the key signal paths (i.e., MOS resistors, bandgap amplifier, composite resistor amplifier, bias circuit MOS resistors and amplifier) that dictate bandgaps DC, AC, and transient performance. This use should further enhance manufacturability since most of the bandgap's performance would depend on fewer device parameters. This move should also improve the AC response of the bandgap, better 1/f noise performance, as well as provide some immunity against transient substrate noise when the bandgap is in a noisy SOC.</div>
<div class="description-paragraph" id="p-0130" num="0129">In summary the benefits of the embodiment in <figref idrefs="DRAWINGS">FIG. 7</figref> are as follows. First, this is a voltage reference is based in standard digital CMOS fabrication. References are considered a key and critical electronics functions needed around actuators, sensors, and other access points circuits (for energy harvesting and wireless and batteryless Internet of things applications) must be small, low cost, and manufacturable to make it to high volume. As such, main stream digital CMOS processes can produce the smallest and be the lowest cost manufacturing platforms, assuming that circuit solutions here neither require any additional steps (i.e., no separate n-wells and p-wells or depletion mode MOSFETs) nor impose any non-standard device configuration (i.e., no lateral PNP, DMOST, or MOS body). Second, this is an ultra low power bandgap reference that could only require for example under approximately 250 nano ampere of current. Energy harvesting, wearable and next generation implantable bio-medical electronics are but a few examples of emerging wire-less-battery-less (WLBL) Internet of Things (IoT) applications with large total available market (TAM) potentials that require such ultra-low power and very small form-factor solutions. A voltage or current reference is a fundamental building block in systems, including in WLBL electronics that for example have to monitor, measure report on referenced levels of carbon monoxide, toxicity, acidity, sugar or salt levels, blood pressure, temperature, or a heart pulse, just to name a few.</div>
<div class="description-paragraph" id="p-0131" num="0130">As noted above, for WLBL electronics market potential to materialize, it is imperative that circuits ought to operate with ultra low currents. Hence the use of passive resistors are nonviable for several reasons: higher resistance obviously means prohibitively large die area (e.g., V<sub>PTAT </sub>of 700 mV at 10 nA requires 70MΩ poly resistor). Mainstream digital CMOS foundries generally do not guarantee resistance specifications, including for higher Ω/square poly resistors. Compared to lower Ω/square layer 1 poly resistors, the layer 2 higher Ω/square ones typically exhibit higher mismatch, worst non-linearity, and inferior TCs, in part because of less fabrication process control for the less critical process layers (i.e., ploy 2 and higher layers, especially highly doped ones). High Ω/square diffusion resistors are also impractical here due to unfavorable leakage, VC, and TC characteristics. Therefore, predominant research on ultra low power configurations, based on digital standard CMOS, has produced (non-conventional) non-bandgap topologies to generate voltage references, that are generally not as rugged as bandgaps.</div>
<div class="description-paragraph" id="p-0132" num="0131">In order to guard band for long-term production continuity, utilizing the kind of circuit topologies that can be ported to multiple process nodes with minimal challenge are obviously favored. In this regards, conventional bandgap topologies could generally be viewed on a more positive light because of manufacturing's familiarity and experience with the more predictable and controllable BJT parameters such as V<sub>BE </sub>and V<sub>T </sub>that constitute V<sub>BG</sub>. This embodiment retains the benefit of the class of bandgap voltage references to which it belongs.</div>
<div class="description-paragraph" id="p-0133" num="0132">This embodiment provides a composite active CMOS resistor (<figref idrefs="DRAWINGS">FIG. 9</figref>) that is small in size, consumes ultra low power (eliminates the need for passive resistors), and works in combination with the I<sub>BIAS </sub>generator (<figref idrefs="DRAWINGS">FIG. 8</figref> which is the embodiment of the functional block diagram of <figref idrefs="DRAWINGS">FIG. 3</figref>), and in combination with bandgap circuit (<figref idrefs="DRAWINGS">FIG. 7</figref>) in such a way that the active MOS resistors' and I<sub>BIAS </sub>generator's and bandgap's circuits operating conditions track each other. As such more stable and reliable performance is achievable over process, temperature, and power supply variations. Given that the circuit current consumption is approximately in depended of MOSFET's V<sub>TH</sub>, mainly a function of V<sub>T </sub>and μ, which are more tightly controllable, hence manufacturability and performance specification can be improved. Combination of the features of I<sub>BIAS </sub>circuit and active MOS circuit enables, segregating the positive and negative feedback loops of the bandgap circuit, without materially denting its DC performance. Instead, the AC and transient performance of this circuit is improved. For example, batteryless energy harvesting or IoT applications could receive their power from single type (e.g., single or series of solar diodes) or multiple energy harvester types (e.g., solar diodes in the light, and magnetic harvesters in the dark in conjunction with super capacitors to store voltage). The V<sub>DD </sub>power-on and power-off patterns may be jittery and not follow a predictable or orderly pattern, and hence the AC and transient response of the references are as critical as their DC accuracy. Feeding the output of PTAT loop amplifier via MOSFETs back to its positive and negative inputs are avoided in this topology because they can pose start-up and transient risks (inherent in typical bandgap reference topologies). Another benefit of the <figref idrefs="DRAWINGS">FIG. 7</figref> embodiment is that V<sub>SS </sub>(negative power supply) and the ground potential (GND) may be the same of separated, providing flexibility to system embodiments. Also note that a challenge with ultra low current and MOSFETs is high noise. In <figref idrefs="DRAWINGS">FIG. 7</figref>, the bandgap reference's noise can be materially band pass filtered out by placing a capacitor in the end amplifier (A<sub>834 </sub>that is used to form the composite active resistor) high impedance node of output amplifier but in accordance with consideration for power up and down settling time requirements. Additionally, PMOSFETs are used in the composite active resistors as well as in the output amplifier which should reduce the contribution of 1/f noise to the V<sub>BG </sub>output.</div>
<div class="description-paragraph" id="p-0134" num="0133">In summary, disclosed above are bias current topologies with embodiments in current source, current reference, (pseudo bandgap) voltage reference, and bandgap voltage reference that operate at ultra low currents and low power supply voltages which may use main stream standard digital Complementary Metal-Oxide-Semiconductor (CMOS) processes. The bias current topology uses chiefly a self cascode (SC) and PTAT offset generation with loop signal amplification to produce a bias current. The bias current circuit, senses and forces the PTAT signal (mostly as a function thermal voltage V<sub>T</sub>) at the gates of its loop amplification circuit, which in combination with a CTAT signal (mostly as a function of mobility of MOSFETS, μ) provides the flexibility of setting a negative, positive, or stable temperature coefficient (TC) bias current generator circuit, depending on an application's need. This circuit retains the benefits of the class of bias current circuits, whose current variations are approximately independent of threshold voltage (V<sub>TH</sub>) and mostly a function μ. Hence die yields and performance over process and temperature spans are improved. Embodiments of the bias current topology (<figref idrefs="DRAWINGS">FIG. 1</figref>) in a current source (<figref idrefs="DRAWINGS">FIG. 4</figref>) is provided which offers wider temperature span, in part, due to lower leakage associated with the bias current topology. Also bias current topology (<figref idrefs="DRAWINGS">FIG. 1</figref>) is utilized in the embodiment of a current references (<figref idrefs="DRAWINGS">FIG. 5</figref>) that combines multiple bias current source, with the capability of setting the current's TC and amplitude approximately independently from one another. This trait enables greater flexibility and making a higher performance and more stable current reference over process, temperature, and power supply variations. Moreover, the bias current topology when combined with series of SCs (<figref idrefs="DRAWINGS">FIG. 6</figref>) that make a summation of pseudo V<sub>T</sub>'s that can be added to a V<sub>BE </sub>of a parasitic BJT available in digital CMOS, to generate a pseudo bandgap voltage. Lastly, the bias current topology when combined with a composite active MOS resistor enables making a conventional bandgap reference. A PTAT voltage is applied across the active MOS resistor, which is gained up using the strong of the same active MOS resistor to generate the required V<sub>PTAT </sub>that is added to V<sub>BE </sub>of parasitic BJT in digital CMOS to generate the V<sub>BG</sub>. The bias generation, active MOS resistor, and bandgap circuits use substantially similar functionality, which enables their operating conditions to track and hence enhancing their performance of the bandgap over process, temperature, and power supply variations. Moreover, the topology not only delivers ultra low power but also one whose current consumption is approximately independent of V<sub>TH</sub>, which can improve performance and die yield. All such embodiments enable making ultra low power, low cost (base on standard digital CMOS fabrication that are portable across multiple fabrications), with optimized yields (due in part to independence from V<sub>TH</sub>).</div>
<div class="description-paragraph" id="p-0135" num="0134">A number of embodiments are described in the present application, and are presented for illustrative purposes only. The described embodiments are not, and are not intended to be, limiting in any sense. One of ordinary skill in the art will recognize that the disclosed embodiment(s) may be practiced with various modifications and alterations, such as structural, logical, software, and electrical modifications. Although particular features of the disclosed invention(s) may be described with reference to one or more particular embodiments and/or drawings, it should be understood that such features are not limited to usage in the one or more particular embodiments or drawings with reference to which they are described, unless expressly specified otherwise.</div>
<div class="description-paragraph" id="p-0136" num="0135">Recitation of ranges of values herein are merely intended to serve as a shorthand method of referring individually to each separate value falling within the range, unless otherwise indicated herein, and each separate value is incorporated into the specification as if it were individually recited herein. Therefore, any given numerical range shall include whole and fractions of numbers within the range. For example, the range “1 to 10” shall be interpreted to specifically include whole numbers between 1 and 10 (e.g., 1, 2, 3, . . . 9) and non-whole numbers (e.g., 1.1, 1.2, . . . 1.9).</div>
<div class="description-paragraph" id="p-0137" num="0136">The present disclosure is not a literal description of all embodiments of the invention(s). Also, the present disclosure is not a listing of features of the invention(s) which must be present in all embodiments. A description of an embodiment with several components or features does not imply that all or even any of such components/features are required. On the contrary, a variety of optional components are described to illustrate the wide variety of possible embodiments of the present invention(s).</div>
<div class="description-paragraph" id="p-0138" num="0137">Although process (or method) steps may be described or claimed in a particular sequential order, such processes may be configured to work in different orders. In other words, any sequence or order of steps that may be explicitly described or claimed does not necessarily indicate a requirement that the steps be performed in that order. The steps of processes described herein may be performed in any order possible. Further, some steps may be performed simultaneously despite being described or implied as occurring non-simultaneously (e.g., because one step is described after the other step). Moreover, the illustration of a process by its depiction in a drawing does not imply that the illustrated process is exclusive of other variations and modifications thereto, does not imply that the illustrated process or any of its steps are necessary to the invention(s), and does not imply that the illustrated process is preferred. Although a process may be described as including a plurality of steps, that does not imply that all or any of the steps are preferred, essential or required. Various other embodiments within the scope of the described invention(s) include other processes that omit some or all of the described steps.</div>
<div class="description-paragraph" id="p-0139" num="0138">Although a product or system may be described as including a plurality of components, aspects, steps, qualities, characteristics and/or features, that does not indicate that any or all of the plurality are preferred, essential or required. Various other embodiments within the scope of the described invention(s) include other products that omit some or all of the described plurality.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">2</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM178047368">
<claim-statement>The invention claimed is:</claim-statement>
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. A method of generating a bias current in an integrated circuit, the method comprising:
<div class="claim-text">generating a proportional-to-absolute temperature voltage (VPTAT);</div>
<div class="claim-text">providing an active resistor metal-oxide-semiconductor field effect transistor (RA MOSFET);</div>
<div class="claim-text">applying the VPTAT across the RA MOSFET to generate a bias current (IB);</div>
<div class="claim-text">scaling the IB to generate a first scaled IB and a second scaled IB;</div>
<div class="claim-text">utilizing a self-cascode circuit comprising a diode connected MOSFET (DC MOSFET) coupled with the RA MOSFET;</div>
<div class="claim-text">providing the first scaled IB to the DC MOSFET and providing the second scaled IB to the RA MOSFET;</div>
<div class="claim-text">wherein the DC MOSFET includes a first gate terminal, a first drain terminal, and a first source terminal;</div>
<div class="claim-text">wherein the RA MOSFET comprises a second gate terminal, a second drain terminal, and a second source terminal;</div>
<div class="claim-text">wherein the first gate terminal and first drain terminal of the DC MOSFET are coupled with the second gate terminal of the RA MOSFET; and</div>
<div class="claim-text">wherein the first source terminal of the DC MOSFET is coupled with the second drain terminal of the RA MOSFET.</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. A method of using composite active resistors (RACs) made of metal-oxide semiconductor field effect transistors (MOSFET) in a bandgap voltage reference (VBG) comprising:
<div class="claim-text">operating a first resistor, comprised of a plurality of RAC1s, in a proportional to absolute voltage (VPTAT) loop to generate a PTAT current (IPTAT);</div>
<div class="claim-text">flowing the IPTAT through a second resistor, comprised of a plurality of RAC2s, wherein a gain (K) factor that is the ratio of K=RAC2/RAC1;</div>
</div>
<div class="claim-text">generating a complementary to absolute temperature (CTAT) voltage (VCTAT)</div>
<div class="claim-text">wherein VBG=VCTAT+K.VPTAT from the base emitter voltage (VBE) of a bipolar junction transistor (BJT); and
<div class="claim-text">wherein the normal manufacturing variations in RAC1 and RAC2 track each other and approximately cancel out in their ratio K=RAC2/RAC1 which generates a stable gain factor (K) with a VBG that is less sensitive to normal manufacturing variation of RAC1 and RAC2.</div>
</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    