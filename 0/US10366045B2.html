
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US10366045B2 - Flash controller to provide a value that represents a parameter to a flash memory 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="docdb" mxw-id="PA305437737" source="national office">
<div class="abstract">An integrated circuit device includes a transmitter circuit including an output driver. The integrated circuit device includes a first register to store a value representative of a drive strength setting associated with the transmitter circuit such that the output driver outputs data in accordance with the drive strength setting. The integrated circuit device also includes a second register to store a value representative of an equalization setting associated with the transmitter circuit such that the output driver outputs data in accordance with the equalization setting. The integrated circuit device further includes a third register to store a value representative of a slew rate setting associated with the transmitter circuit such that the output driver outputs data in accordance with the slew rate setting.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES197480425">
<heading id="h-0001">CROSS REFERENCE TO RELATED CASES</heading>
<div class="description-paragraph" id="p-0002" num="0001">This application is continuation of U.S. patent application Ser. No. 15/228,614, filed Aug. 4, 2016, which is continuation of U.S. patent application Ser. No. 14/875,433, filed Oct. 5, 2015, now U.S. Pat. No. 9,411,767, which is a continuation of U.S. patent application Ser. No. 14/682,926, filed Apr. 9, 2015, now U.S. Pat. No. 9,323,711, which is a continuation of U.S. patent application Ser. No. 14/321,718, filed Jul. 1, 2014, now U.S. Pat. No. 9,110,828, which is a continuation of U.S. patent application Ser. No. 13/853,978, filed Mar. 29, 2013, now U.S. Pat. No. 8,775,705 which is a continuation of U.S. patent application Ser. No. 13/535,228, filed Jun. 27, 2012, now U.S. Pat. No. 8,458,385, which is a continuation of U.S. patent application Ser. No. 13/196,840, filed Aug. 2, 2011, now U.S. Pat. No. 8,214,570, which is continuation of U.S. patent application Ser. No. 12/479,679, filed Jun. 5, 2009, now U.S. Pat. No. 8,001,305, which is a continuation of U.S. patent application Ser. No. 11/929,974, filed Oct. 30, 2007, now U.S. Pat. No. 7,565,468, which is a continuation of U.S. application Ser. No. 11/672,018, filed Feb. 6, 2007, which is a continuation of U.S. patent application Ser. No. 11/181,411, filed Jul. 13, 2005, now U.S. Pat. No. 7,174,400, which is continuation of U.S. patent application Ser. No. 11/073,403, filed on Mar. 4, 2005, now U.S. Pat. No. 7,032,058, which was a continuation of U.S. patent application Ser. No. 10/742,247, filed Dec. 19, 2003, now U.S. Pat. No. 7,032,057, which is a continuation of U.S. patent application Ser. No. 10/359,061, filed Feb. 4, 2003, now U.S. Pat. No. 6,684,263, which was a continuation of U.S. patent application Ser. No. 09/910,217, filed Jul. 19, 2001, now U.S. Pat. No. 6,516,365, which is a continuation of U.S. patent application Ser. No. 09/420,949 filed Oct. 19, 1999, now U.S. Pat. No. 6,321,282, the contents of which are incorporated by reference herein in their entirety.</div>
<heading id="h-0002">TECHNICAL FIELD</heading>
<div class="description-paragraph" id="p-0003" num="0002">The present invention relates generally to a bus system, and particularly to a bus system capable of adjusting signal characteristics in response to topography dependent parameters.</div>
<heading id="h-0003">BACKGROUND OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0004" num="0003">A bus system is a chip-to-chip electronic communications system in which one or more slave devices are connected to, and communicate with, a master device through shared bus signal lines. <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates in block diagram form a bus system. The bus system includes a Master control device (M) that communicates with one or more Slave devices (D) via a bi-directional data bus. Typically, the bi-directional data bus comprises a plurality of bus signal lines, but for simplicity, <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates only one bus signal line. The terms bus signal line and channel are used synonymously herein. Thus, it will be understood that the data bus includes many channels, one for each bit of data. Each bus signal line terminates on one side at an I/O pin of the master device and terminates on its other side at one end of a resistive terminator (T). The resistance of the terminator is closely matched to the loaded impedance, Z<sub>L</sub>, of the bus signal line to minimize reflections and absorb signals sent down the bus signal line toward the terminator. The opposite end of the terminator is connected to a voltage supply that provides an AC ground and sets the DC termination voltage of the bus signal line. The positions along the bus signal line tapped by the Master terminator, and Slaves are labeled p<sub>M</sub>, p<sub>T</sub>, and p<sub>1 </sub>. . . p<sub>N</sub>, respectively.</div>
<div class="description-paragraph" id="p-0005" num="0004">Bus systems are typically designed to work with several configurations to allow system flexibility. For example, the bus may have several connector slots for inserting individual Slaves or Modules of Slaves, and each Module may have different numbers of devices. This allows the user to change the number of chips that operate in the bus system, allowing small, medium, and large systems to be configured without complex engineering changes, such as changes to the printed circuit board layout. <figref idrefs="DRAWINGS">FIG. 2</figref> illustrates a Bus System that provides this flexibility by providing three connectors for three Slave Modules. This figure does not necessarily illustrate the physical layout of an actual system, but shows the electrical connections of the Bus System. The first Module is shown with eight Slaves, the second with four Slaves, and the third Modules with no Slaves. The third Module serves only to electrically connect the terminator to the bus signal line. For simplicity, this configuration can be referred to as an 8-4-0 configuration, and many other configurations are possible by inserting different Modules into the three connector slots (e.g. 8-8-8, 4-0-0, etc.). As in <figref idrefs="DRAWINGS">FIG. 1</figref>, <figref idrefs="DRAWINGS">FIG. 2</figref> designates the points at which each device taps the bus signal line (e.g. Slave B2 taps the bus signal line at point pB2). The Bus System of <figref idrefs="DRAWINGS">FIG. 2</figref> is very flexible; however, this flexibility results in configuration-dependent and position-dependent channel characteristics that lead to signaling complexities and reduce the reliability of data transmission through the system.</div>
<div class="description-paragraph" id="p-0006" num="0005"> <figref idrefs="DRAWINGS">FIG. 3</figref> diagrams structure and electrical properties of a bus signal line in a populated Module of the Bus System of <figref idrefs="DRAWINGS">FIG. 2</figref>. The portion of the bus signal line that connects to the Slaves forms a repetitive structure of signal line segments and Slaves that can be modeled as a transmission line of length d, with electrical characteristics as shown. In <figref idrefs="DRAWINGS">FIG. 3</figref> L<sub>o </sub>is the inductance per unit length, C<sub>o </sub>is the capacitance per unit length, G<sub>p </sub>is the dielectric conductance per unit length, and R<sub>s </sub>is the conductor resistance per unit length. The lossy, complex characteristic impedance of such transmission line is given by:</div>
<div class="description-paragraph" id="p-0007" num="0006">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
<msub>
<mi>Z</mi>
<mrow>
<mn>0</mn>
<mo>⁢</mo>
<mi>L</mi>
</mrow>
</msub>
<mo>=</mo>
<msqrt>
<mfrac>
<mrow>
<msub>
<mi>R</mi>
<mi>S</mi>
</msub>
<mo>+</mo>
<msub>
<mi>jwL</mi>
<mn>0</mn>
</msub>
</mrow>
<mrow>
<msub>
<mi>G</mi>
<mi>P</mi>
</msub>
<mo>+</mo>
<msub>
<mi>jwC</mi>
<mi>I</mi>
</msub>
</mrow>
</mfrac>
</msqrt>
</mrow>
</math>
</maths>
</div>
<div class="description-paragraph" id="p-0008" num="0007">However, assuming R<sub>s </sub>and G<sub>p </sub>are small, the characteristic impedance of the bus signal line segment is closely approximated by the simpler equation Z=(L<sub>0</sub>/C<sub>0</sub>)<sup>1/2</sup>.</div>
<div class="description-paragraph" id="p-0009" num="0008"> <figref idrefs="DRAWINGS">FIG. 3</figref> also shows the dominant electrical properties of the Slaves I/O pins where L<sub>1 </sub>is the effective input inductance, C<sub>1 </sub>is the effective input capacitance, and R<sub>1 </sub>is the effective input resistance. This input resistance incorporates all input losses including metallic, ohmic, and on-chip substrate losses; is frequency dependent; and tends to increase with frequency. However, assuming that the input capacitance dominates the input electrical characteristics of the Slave (i.e., Xc=1/(2πfC<sub>1</sub>)?&gt;X<sub>L</sub>=2πfL<sub>1 </sub>and Xc=1/(2πfC<sub>1</sub>)?&gt;R<sub>1</sub>) at the system operating frequency, the effective loaded impedance of the bus signal lines is closely approximated by:</div>
<div class="description-paragraph" id="p-0010" num="0009">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
<msub>
<mi>Z</mi>
<mi>L</mi>
</msub>
<mo>=</mo>
<msqrt>
<mfrac>
<mrow>
<msub>
<mi>L</mi>
<mi>o</mi>
</msub>
<mo>·</mo>
<mi>d</mi>
</mrow>
<mrow>
<mrow>
<mo>(</mo>
<mrow>
<msub>
<mi>C</mi>
<mi>o</mi>
</msub>
<mo>·</mo>
<mi>d</mi>
</mrow>
<mo>)</mo>
</mrow>
<mo>+</mo>
<msub>
<mi>C</mi>
<mi>I</mi>
</msub>
</mrow>
</mfrac>
</msqrt>
</mrow>
</math>
</maths>
</div>
<div class="description-paragraph" id="p-0011" num="0010">This equation implies that the lumped capacitance of the Slaves' I/O pins is distributed into the effective impedance of the transmission lines. However, the repetitive arrangement of Slaves at intervals of length d along the bus signal line causes the bus signal line to possess a multi-pole low-pass filter characteristic. This lowpass characteristic essentially limits the maximum data transfer rate of the bus system. The cut-off frequency of the channel increases as the number of devices on the channel decreases; as the device spacing, d, decreases; and as the input capacitance, C<sub>1</sub>, decreases. <figref idrefs="DRAWINGS">FIGS. 4, 5 and 6</figref>, illustrate these effects. Additionally, dissipative sources of loss such as the dielectric of the bus' printed circuit board substrate, the skin effect resistance of the bus' metal traces, and the slave devices' input resistances, R<sub>1</sub>, also contribute to the low-pass characteristic of the bus signal line, further reducing the usable bandwidth. <figref idrefs="DRAWINGS">FIG. 7</figref> illustrates this. For any number of Slaves, it is clearly desirable to have minimum device pitch, d; minimum input capacitance, C<sub>1</sub>; and minimum loss (e.g. R<sub>1</sub>) for maximum frequency operation of the system.</div>
<div class="description-paragraph" id="p-0012" num="0011">For these reasons, the device pitch, d, is generally kept at a fixed, minimum practical length which is determined by space limitations and printed circuit board technology. Likewise input capacitance is kept to a fairly tight, minimum range determined by silicon ESD requirements and processing limitations. Losses are also typically controlled within a specified range. Therefore, although there is some variation in these three factors, the major determinant of the channel's response and bandwidth is the configuration and number of devices. This is illustrated in <figref idrefs="DRAWINGS">FIG. 8</figref>. <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates the channel response from the Master to the last Slave device on the channel (i.e., the forward transmission to device D<sub>N</sub>) for three system configurations, 16-8-8, 8-4-0, and 4-0-0. The solid line for each configuration plots the typical response while the shading around each line indicates the range of likely channel responses for that configuration considering manufacturing variations in device pitch, input capacitance, and loss (both R<sub>1 </sub>and channel losses). <figref idrefs="DRAWINGS">FIG. 8</figref> suggests that the channel characteristics are largely determined by the system configuration, such that transmission of data through Bus System (to the last device) depends strongly on the configuration used (i.e., number and type of modules used). Thus, it may be possible to improve the performance of the Bus System by adjusting transmitter or receiver parameters in response to the particular system configuration that is being used in order to compensate for the configuration-dependent transmission characteristics.</div>
<div class="description-paragraph" id="p-0013" num="0012"> <figref idrefs="DRAWINGS">FIG. 9</figref> illustrates the channel response between the Master and the first, middle, and last Slaves in an N-device Bus System. The solid lines in <figref idrefs="DRAWINGS">FIG. 9</figref> plot the typical response for the first, middle, and Nth device while the shading around each line indicates the range of likely channel responses for that device position considering manufacturing variations in device pitch, input capacitance, and loss. <figref idrefs="DRAWINGS">FIG. 9</figref> suggests that for a given channel configuration, the channel characteristics between the Master and any individual slave is largely determined by the position of the slave device within the Bus System configuration. Thus, the Bus System performance may be improved between the Master and each individual Slave by adjusting certain transmitter or receiver parameters according to which Slave is being addressed, thus compensating for the position-dependent channel characteristics.</div>
<div class="description-paragraph" id="p-0014" num="0013"> <figref idrefs="DRAWINGS">FIG. 10</figref> illustrates the channel response between the Master and the Slave on each of three modules of a three-module Bus System. The solid lines of <figref idrefs="DRAWINGS">FIG. 10</figref> plot the typical response of the middle device in each of the three modules while the shading around the line for Module B indicates the range of channel responses for Slaves on that module. This range of channel responses takes into account manufacturing variations in device pitch, input capacitance, and loss as well as the range of physical positions within the module. The range of channel responses on Module A may overlap the range of channel responses for Module B, and similarly the range of channel responses on Module C may overlaps that of Module B. <figref idrefs="DRAWINGS">FIG. 10</figref> suggests that for a given channel configuration, the channel characteristics between the Master and any individual Slave is largely determined by the Module on which the Slave is located. Thus, it may be possible to improve the performance of the Bus System by adjusting certain transmitter or receiver parameters according to which Module is being addressed to compensate for the Module position-dependent channel characteristics.</div>
<div class="description-paragraph" id="p-0015" num="0014"> <figref idrefs="DRAWINGS">FIGS. 8-10</figref> demonstrate that although Bus Systems with the same configuration have individual differences, electrical characteristics can generally be associated with each configuration, Module, or Slave position. For example, a 4-4-0 Bus System generally has less attenuation than a 4-8-0 Bus System, therefore, signaling between the Master and any Slave depends on the individual device characteristics, its position in the Bus System, and the configuration of the Bus System.</div>
<div class="description-paragraph" id="p-0016" num="0015"> <figref idrefs="DRAWINGS">FIG. 11</figref> illustrates the effect of position-dependent channel characteristics on binary signaling between the master device and various slave devices in a system. <figref idrefs="DRAWINGS">FIG. 11A</figref> shows what a . . . 101010 . . . binary data pattern might look like when it is transmitted at the Master. The signal at the Master has a fairly large amplitude given by the equation V<sub>Swing,M</sub>=(V<sub>OH,M</sub>−V<sub>OL,M</sub>)=(V<sub>Term</sub>−V<sub>O,LM</sub>)=(V<sub>L</sub>+V<sub>H</sub>)<sub>,M </sub>and has sharp rise and fall times indicated in <figref idrefs="DRAWINGS">FIG. 11A</figref> as t<sub>r </sub>and t<sub>f</sub>, respectively. Additionally, the transmitted signal is asymmetric relative to the reference voltage, V<sub>ref</sub>. The amount of asymmetry is measured by the equation:</div>
<div class="description-paragraph" id="p-0017" num="0016">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mrow>
<mi>Asym</mi>
<mo>=</mo>
<mfrac>
<mrow>
<msub>
<mi>V</mi>
<mi>L</mi>
</msub>
<mo>-</mo>
<msub>
<mi>V</mi>
<mi>H</mi>
</msub>
</mrow>
<mrow>
<msub>
<mi>V</mi>
<mi>L</mi>
</msub>
<mo>+</mo>
<msub>
<mi>V</mi>
<mi>H</mi>
</msub>
</mrow>
</mfrac>
</mrow>
</math>
</maths>
</div>
<div class="description-paragraph" id="p-0018" num="0017">As the signal propagates down the channel, its shape is altered by the channel's response. For a low pass channel as shown in <figref idrefs="DRAWINGS">FIGS. 4-10</figref>, both the signal's amplitude and edge rate will decrease as it propagates down the channel. For example, <figref idrefs="DRAWINGS">FIG. 11B</figref> illustrates what the signal of <figref idrefs="DRAWINGS">FIG. 11A</figref> might look like by the time it reaches the middle Slave, and <figref idrefs="DRAWINGS">FIG. 11C</figref> shows what it may look like by the time it reaches the end of the channel. The decreased amplitude lowers the Bus System's voltage margin whereas the slower edge rates decreases the timing margin. <figref idrefs="DRAWINGS">FIGS. 11A-11C</figref> also illustrate how voltage asymmetry varies based upon the position of the receiving device with respect to the master.</div>
<div class="description-paragraph" id="p-0019" num="0018">Referring now to <figref idrefs="DRAWINGS">FIG. 12A</figref>, configuration dependent channel characteristics may give rise to an undesired timing skew between clock and data signals as they propagate from the transmitting device (which may be the Master or a Slave) to the receiving device (which may be a Slave or the Master). Ideally, data signals should be detected by the receiving device at a time t<b>1</b> during the data eye. As used herein, “data eye” refers to the period, denoted “tbit,” during which valid data is on the bus between data transition periods. Time t<sub>1 </sub>corresponds to the center of the data eye and it provides maximum timing margin, ½ tbit, for data detection between data transition periods. When the clock transition occurs in the center of the data eye, “timing center” is said to exist. <figref idrefs="DRAWINGS">FIG. 12A</figref> illustrates this ideal relationship between the data signal and the receiving device's receive clock signal. A data signal transmitted so that it aligns ideally with respect to a receiving device's receive clock signal may arrive at the receiving device early or late with respect to the receiving device's receive clock signal. In some embodiments, the best data receive time may be at another point within the data eye, other than the center, due to known or predicted characteristics of the data channel.</div>
<div class="description-paragraph" id="p-0020" num="0019">It is well known that channel characteristics introduce undesired timing skew between the receive clock signal and data signals at the time of detection that varies as a function of the position of the receiving device with respect to the transmitting device and the direction of signal transmission. For example, channel characteristics may cause the Master to read data from Slaves too early in the data eye and may cause the Master to write data to the Slaves too late in the data eye. How early or late the Master reads or writes depends upon the system configuration and the location of each Slave relative the master. <figref idrefs="DRAWINGS">FIG. 12B</figref> is a timing diagram illustrating the master's receive clock signal transition occurring early in the data eye by an error period of δ. <figref idrefs="DRAWINGS">FIG. 12C</figref> is a timing diagram illustrating the Master's transmit clock transition occurring late in the data eye by an error period of δ.</div>
<div class="description-paragraph" id="p-0021" num="0020">Corruption of data transmitted via the Bus results not only from static characteristics, but also from data dependent phenomenon such as residual and cross-coupled signals. Residual signals on the Bus result from past transmissions on the same channel and tend to cause voltage margins on the channel to vary from one sampling interval to the next. Cross-coupled signals result from inductive coupling of signals on neighboring channels, rather than from past signals on the same channel. Cross-coupled signals also tend to cause voltage margins on the channel to vary from one sampling interval to the next. Herein voltage margin variations caused by residual signals are referred to as temporal variations while margin variations caused by cross-coupled signals are referred to as cross-coupling variations.</div>
<div class="description-paragraph" id="p-0022" num="0021"> <figref idrefs="DRAWINGS">FIG. 25</figref> illustrates a bit-stream of 0, 1, 1, 0, transmitted on the Bus, which exhibits the voltage margin variation that can result from residual signals. The voltage on the channel rises to V<sub>HI </sub>during transmission of the first logical 0. As, the voltage on the channel does not reach V<sub>LO </sub>during transmission of the first logical 1, instead reaching a local minimum 200 mV above V<sub>LO</sub>. By contrast, the voltage on the channel drops 100 mV below V<sub>LO </sub>during transmission of the final logical 1. Finally, the voltage on the channel reaches a local maximum 200 mV below V<sub>HI </sub>during transmission of the final logical 0. <figref idrefs="DRAWINGS">FIG. 25</figref> thus illustrates how an output signal on a channel is affected by prior transmissions on the same channel. In general, a logical 1 that follows a logical 0 is less likely to reach V<sub>LO </sub>than a logical 1 that follows transmission of another logical 1. Similarly, a logical 0 that follows a logical 1 is less likely to reach V<sub>HI </sub>than a logical 0 that follows transmission of another logical 0. Both of these effects result in reduced voltage margins at the receiver, making the Bus System more susceptible to bit errors caused by noise and other margin-reducing effects.</div>
<div class="description-paragraph" id="p-0023" num="0022">To offset some of the channel's corrupting effects on data signals, prior art systems have used a combination of adjustable parameters; e.g. these parameters include: edge or slew rate control and current or swing control. These parameters are typically set to improve communication with the last Slave on the channel, and the parameters are then held constant no matter which Slave is accessed. This technique often does improve the performance of the Bus System. For example, adjusting the current control such that the last Slave on the channel received a balanced, full swing signal certainly improves communication between the Master and the last Slave. Communication between these two devices might otherwise be unreliable. However, adjusting the swing such that the last Slave is improved can corrupt communication between the Master and the first few Slaves on the channel. For example, reflections of this large, asymmetric signal at channel discontinuities near the first few Slaves can severely degrade the voltage margin of the first few Slaves, particularly the V<sub>H </sub>voltage margin. Secondly, the large asymmetry at the first few Slaves causes duty cycle error since V<sub>ref </sub>is not at the center of the data waveform. This degrades the timing margin at the first few devices. Therefore, a need exists for a Bus System that adjusts its transmitter, channel, and/or receiver parameters to improve communication between the Master and any Slave on the channel.</div>
<description-of-drawings>
<heading id="h-0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<div class="description-paragraph" id="p-0024" num="0023">Additional features of the invention will be more readily apparent from the following detailed description and appended claims when taken in conjunction with the drawings, in which:</div>
<div class="description-paragraph" id="p-0025" num="0024"> <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates a Bus System.</div>
<div class="description-paragraph" id="p-0026" num="0025"> <figref idrefs="DRAWINGS">FIG. 2</figref> illustrates a Bus System that includes multiple connectors for Modules of Slaves.</div>
<div class="description-paragraph" id="p-0027" num="0026"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a model of the structure and electrical properties of the Bus System of <figref idrefs="DRAWINGS">FIG. 2</figref>.</div>
<div class="description-paragraph" id="p-0028" num="0027"> <figref idrefs="DRAWINGS">FIG. 4</figref> graphs the channel response of devices in the Bus System of <figref idrefs="DRAWINGS">FIG. 3</figref> versus the total number of devices.</div>
<div class="description-paragraph" id="p-0029" num="0028"> <figref idrefs="DRAWINGS">FIG. 5</figref> graphs the channel response of devices in the Bus System of <figref idrefs="DRAWINGS">FIG. 3</figref> versus the spacing between devices.</div>
<div class="description-paragraph" id="p-0030" num="0029"> <figref idrefs="DRAWINGS">FIG. 6</figref> graphs the channel response of devices in the Bus System of <figref idrefs="DRAWINGS">FIG. 3</figref> versus device input capacitance.</div>
<div class="description-paragraph" id="p-0031" num="0030"> <figref idrefs="DRAWINGS">FIG. 7</figref> graphs the channel response of devices in the Bus System of <figref idrefs="DRAWINGS">FIG. 3</figref> versus dissipative loss.</div>
<div class="description-paragraph" id="p-0032" num="0031"> <figref idrefs="DRAWINGS">FIG. 8</figref> graphs the channel response of devices in the Bus System of <figref idrefs="DRAWINGS">FIG. 3</figref> versus the number of Modules and their populations.</div>
<div class="description-paragraph" id="p-0033" num="0032"> <figref idrefs="DRAWINGS">FIG. 9</figref> graphs the channel response of several devices in the Bus System of <figref idrefs="DRAWINGS">FIG. 3</figref>.</div>
<div class="description-paragraph" id="p-0034" num="0033"> <figref idrefs="DRAWINGS">FIG. 10</figref> graphs channel response of modules in the Bus System of <figref idrefs="DRAWINGS">FIG. 3</figref>.</div>
<div class="description-paragraph" id="p-0035" num="0034"> <figref idrefs="DRAWINGS">FIG. 11A</figref> graphs the amplitude of a signal at the time of transmission by a Master of Bus System.</div>
<div class="description-paragraph" id="p-0036" num="0035"> <figref idrefs="DRAWINGS">FIG. 11B</figref> graphs the amplitude of the signal of <figref idrefs="DRAWINGS">FIG. 11<i>a </i> </figref>at a point approximately in the middle of the Bus.</div>
<div class="description-paragraph" id="p-0037" num="0036"> <figref idrefs="DRAWINGS">FIG. 11C</figref> graphs the amplitude of the signal of <figref idrefs="DRAWINGS">FIG. 11<i>a </i> </figref>near the end of the Bus.</div>
<div class="description-paragraph" id="p-0038" num="0037"> <figref idrefs="DRAWINGS">FIG. 12A</figref> is a timing diagram illustrating the ideal relationship between a data signal and a receiving device's receive clock signal.</div>
<div class="description-paragraph" id="p-0039" num="0038"> <figref idrefs="DRAWINGS">FIG. 12B</figref> is a timing diagram illustrating a receive clock signal transition occurring early in the data eye by an error period of δ.</div>
<div class="description-paragraph" id="p-0040" num="0039"> <figref idrefs="DRAWINGS">FIG. 12C</figref> is a timing diagram illustrating a transmit clock transition occurring late in the data eye by an error period of δ.</div>
<div class="description-paragraph" id="p-0041" num="0040"> <figref idrefs="DRAWINGS">FIG. 13</figref> illustrates a Bus System including the Master Bus Transceiver and Slave Bus Transceiver of the present invention.</div>
<div class="description-paragraph" id="p-0042" num="0041"> <figref idrefs="DRAWINGS">FIG. 14</figref> is a flow diagram of a process implemented by the Bus System of the present invention to improve signal characteristics in response to topography dependent parameters.</div>
<div class="description-paragraph" id="p-0043" num="0042"> <figref idrefs="DRAWINGS">FIG. 15</figref> is a block diagram of an embodiment of a Slave Bus Transceiver of the present invention capable of adjusting several receive and transmit signal characteristics.</div>
<div class="description-paragraph" id="p-0044" num="0043"> <figref idrefs="DRAWINGS">FIG. 16</figref> is a block diagram of an embodiment of the Bus Transmitter associated with Slave Bus Transceiver of <figref idrefs="DRAWINGS">FIG. 15</figref>.</div>
<div class="description-paragraph" id="p-0045" num="0044"> <figref idrefs="DRAWINGS">FIG. 17</figref> is a schematic diagram of an embodiment of the Duty Cycle Compensator associated with the Bus Transmitter of <figref idrefs="DRAWINGS">FIG. 16</figref>.</div>
<div class="description-paragraph" id="p-0046" num="0045"> <figref idrefs="DRAWINGS">FIG. 18</figref> is a schematic diagram of an embodiment of the Predriver associated with the Bus Transmitter of <figref idrefs="DRAWINGS">FIG. 16</figref>.</div>
<div class="description-paragraph" id="p-0047" num="0046"> <figref idrefs="DRAWINGS">FIG. 19</figref> illustrates schematically an embodiment of the Output Current Driver associated with the Bus Transmitter of <figref idrefs="DRAWINGS">FIG. 16</figref>.</div>
<div class="description-paragraph" id="p-0048" num="0047"> <figref idrefs="DRAWINGS">FIG. 20</figref> illustrates schematically an embodiment of the Current/Symmetry Control Circuitry associated with the Bus Transmitter of <figref idrefs="DRAWINGS">FIG. 16</figref>.</div>
<div class="description-paragraph" id="p-0049" num="0048"> <figref idrefs="DRAWINGS">FIG. 21</figref> is a block diagram of an embodiment of the Bus Receiver of the Slave Bus Transceiver of <figref idrefs="DRAWINGS">FIG. 15</figref>.</div>
<div class="description-paragraph" id="p-0050" num="0049"> <figref idrefs="DRAWINGS">FIG. 22</figref> is a block diagram of an embodiment of the Threshold Control Circuitry associated with the Bus Receiver of <figref idrefs="DRAWINGS">FIG. 21</figref>.</div>
<div class="description-paragraph" id="p-0051" num="0050"> <figref idrefs="DRAWINGS">FIG. 23</figref> is a block diagram of an embodiment of the Receive DLL/PLL of the Bus Receiver of <figref idrefs="DRAWINGS">FIG. 21</figref>.</div>
<div class="description-paragraph" id="p-0052" num="0051"> <figref idrefs="DRAWINGS">FIG. 24</figref> is a block diagram of an embodiment of the Master Bus Transceiver of the present invention.</div>
<div class="description-paragraph" id="p-0053" num="0052"> <figref idrefs="DRAWINGS">FIG. 25</figref> illustrates the effects of residual signals on a waveform transmitted on the Bus.</div>
<div class="description-paragraph" id="p-0054" num="0053"> <figref idrefs="DRAWINGS">FIGS. 26A and 26B</figref> are block diagrams of an output current driver that dynamically adjusts its drive strength to compensate for residual signals on the same channel.</div>
<div class="description-paragraph" id="p-0055" num="0054"> <figref idrefs="DRAWINGS">FIG. 27</figref> is a block diagram of a bus receiver with equalization circuitry to compensate for residual signals on the same channel.</div>
</description-of-drawings>
<heading id="h-0005">DETAILED DESCRIPTION</heading>
<div class="description-paragraph" id="p-0056" num="0055">In some embodiments described below, an integrated circuit device includes an output driver, a first register to store a value representative of a drive strength setting of the output driver, wherein the value is determined based on information stored in a supplemental memory device external to the integrated circuit memory device, and a transmitter circuit configurable to receive the value representative of a drive strength setting of the output driver. The output driver is configurable to output data synchronously with respect to an external clock signal.</div>
<div class="description-paragraph" id="p-0057" num="0056">In some other embodiments described below, an integrated circuit memory device includes an output driver; a first register to store a value representative of a drive strength setting of the output driver, wherein the value is determined based on information stored in a supplemental memory device external to the integrated circuit memory device; a transmitter circuit configurable to receive the value representative of a drive strength setting of the output driver; a locked loop circuit to generate an internal transmit signal, wherein the transmitter circuit outputs the data in response to the internal transmit signal; and a second register to store a value representative of a transmit timing offset to apply to the internal transmit signal.</div>
<div class="description-paragraph" id="p-0058" num="0057">In some embodiments described below, a method of operation in a system including a first integrated circuit device coupled to a second integrated circuit device, the method includes initializing the system; deriving a value, representative of a drive strength setting of an output driver disposed on the first integrated circuit device, based on information pertaining to the second integrated circuit device stored in a supplemental memory device external to the first integrated circuit device; programming the value into a register disposed on the first integrated circuit device; and outputting data using the output driver utilizing the derived value.</div>
<div class="description-paragraph" id="p-0059" num="0058">In some embodiments described below, a method of operation in an integrated circuit memory device includes determining a value, representative of a drive strength setting of an output driver disposed on the integrated circuit memory device based on information pertaining to a second integrated circuit device, wherein the information is stored in a supplemental memory device external to the integrated circuit memory device; storing the determined value in a first register disposed on the integrated circuit memory device; providing data to an output driver, wherein the output driver utilizes a value representative of a drive strength setting of the output driver; and outputting the data synchronously with respect to an external clock signal.</div>
<div class="description-paragraph" id="p-0060" num="0059">In some embodiments described below, a memory module includes a serial presence detect memory device; and a plurality of memory devices including a first memory device. The first memory device includes an output driver; a first register to store a value representative of a drive strength setting of the output driver, wherein the value is determined based on information stored in a supplemental memory device external to the integrated circuit memory device; and a transmitter circuit configurable to receive the value representative of a drive strength setting of the output driver. The output driver is configurable to output data synchronously with respect to an external clock signal.</div>
<div class="description-paragraph" id="p-0061" num="0060">The block diagram of <figref idrefs="DRAWINGS">FIG. 13</figref> illustrates a Bus System <b>300</b> including Master Bus Transceiver <b>304</b> and/or Slave Bus Transceivers <b>322</b> of the present invention. Master Bus Transceiver <b>304</b> and Slave Bus Transceivers <b>322</b> improve bus communications by adjusting their associated transmit and/or receive signal characteristics based upon each transceiver's topography within the topography Bus System <b>300</b>. Topography may be defined in terms of slave position and system configuration, or in terms of either slave position or system configuration. As used herein, position refers to the position of each Slave <b>320</b> on Bus <b>330</b> with respect to Master <b>302</b>. In contrast, system configuration refers herein to the position on Bus <b>330</b> of the Module including the Slave <b>320</b> and the total number of Slaves in each Module <b>340</b>.</div>
<div class="description-paragraph" id="p-0062" num="0061">Slave Bus Transceiver <b>322</b> will be described in detail with respect to <figref idrefs="DRAWINGS">FIGS. 15-23</figref> and the Master Bus Transceiver <b>304</b> will be described in detail with respect to <figref idrefs="DRAWINGS">FIGS. 24 and 16-23</figref>.</div>
<div class="description-paragraph" id="h-0006" num="0000">A. Bus System Overview</div>
<div class="description-paragraph" id="p-0063" num="0062">Bus System <b>300</b> includes Master Device (Master) <b>302</b>, which controls a multiplicity of Slave Devices (Slaves) <b>320</b>, only one of which, Slave <b>320</b> <i>a</i>, is illustrated. Master <b>302</b> may also communicate with other masters (not shown). Master <b>302</b> may be realized using a microprocessor, a digital signal processor, a graphics processor, a peripheral controller, an input/output (I/O) controller, a direct memory access (DMA) controller, a memory controller, or a communications device. Slaves <b>320</b> are typically realized as memory devices, such as dynamic random access memories (DRAMs), static random access memories (SRAMs), video random access memories (VRAMs), electrically programmable read only memories (EPROMs), and flash EPROMs, for example.</div>
<div class="description-paragraph" id="p-0064" num="0063">Master <b>302</b> and Slaves <b>320</b> communicate via high-speed Bus <b>330</b>. For simplicity, Bus <b>330</b> is illustrated as a single line, or channel, although it may include a multiplicity of address, data and control lines. Master <b>302</b> and Slaves <b>320</b> communicate synchronously using clock signals on lines <b>332</b> and <b>334</b>. The CFM signal on line <b>332</b> is used to synchronize data to be written to Slaves <b>320</b> by Master <b>304</b>. The CTM signal of line <b>334</b> is used to synchronize data to be read from Slaves <b>320</b> by Master <b>304</b>. To provide system flexibility Bus <b>330</b> includes several connector slots for inserting individual Slaves <b>320</b> or Modules of Slaves (Modules) <b>340</b>, only one of which is illustrated. In one embodiment, Bus <b>330</b> includes three connector slots for three Modules <b>340</b>. Each Module <b>340</b> may include any number of Slaves <b>320</b>, such as, for example, none, four or eight. Additionally, each Module <b>340</b> includes a supplemental memory device called a Serial Presence Detect (SPD) <b>326</b>, which stores module population data about an associated Module <b>340</b>. Module population data includes, but is not limited to, the number of Slaves <b>320</b> included on Module <b>340</b>. Modules <b>340</b> may be easily added, removed, or replaced to reconfigure Bus System <b>300</b>. Modification of the configuration of Bus System <b>300</b> also modifies the electrical signal characteristics of Bus <b>330</b>.</div>
<div class="description-paragraph" id="p-0065" num="0064">To improve communication Bus System <b>300</b> supports signal characteristic adjustments in the Slave Bus Transceivers <b>322</b> (only one of which is illustrated) and Master Bus Transceiver <b>304</b>. Host <b>308</b> determines the system configuration and bus locations of the slave devices, accesses Topography Dependent Parameters in a memory, determines from that information a set of topography dependent parameters and distributes them to the Master <b>302</b> and to the slave devices via the Master <b>302</b>. Slave Bus Transceiver <b>322</b> <i>a </i>receives signals transmitted by Master <b>302</b> to Slave <b>320</b> <i>a </i>via Bus <b>330</b> and transmits signals to Master <b>302</b> from Slave <b>320</b> <i>a </i>via Bus <b>330</b>. Based upon topography dependent parameters, Slave Bus Transceiver <b>322</b> adjusts receive signal characteristics, transmit signal characteristics, or both depending upon the embodiment implemented. Slave Bus Transceiver <b>322</b> <i>a </i>may adjust any, all, or some combination of, transmit signal characteristics, including, but not limited to, slew rate, current swing, asymmetry, transmit center timing, and cross-talk and temporal equalization. Slave Bus Transceiver <b>322</b> <i>a </i>may also adjust any, all, or some combination of, receive signal characteristics, including, but not limited to, receive timing center and voltage threshold(s). Slave Bus Transceiver <b>322</b> <i>a </i>adjusts its signal characteristics in response to topography dependent parameter stored in Control Registers <b>324</b>. Depending upon the signal characteristics to be adjusted, Control Registers <b>324</b> may include a slew rate control register, a current control register for controlling the current swing of the transmit signal, a symmetry control register, a transmit timing center control register, an equalization control register, a threshold control register, and a receive timing center control register. Host <b>308</b> determines the topography dependent parameter to be stored in each control register of Control Registers <b>324</b> based upon the topography of Bus System <b>300</b>. In other words, Control Registers <b>324</b> store topography dependent parameters with which selected transmit and/or receive signal characteristics may be modified. How Host <b>308</b> determines the topography dependent parameters to be stored in the Control Registers <b>324</b> of each Slave <b>320</b> will be discussed below with respect to Host <b>308</b> and <figref idrefs="DRAWINGS">FIG. 14</figref>.</div>
<div class="description-paragraph" id="p-0066" num="0065">Master Bus Transceiver <b>304</b> receives signals transmitted by each Slave <b>320</b> to Master <b>302</b> via Bus <b>330</b> and transmits signals to each Slave <b>320</b> from Master <b>302</b> via Bus <b>330</b>. Based upon topography dependent parameters, Master Bus Transceiver <b>304</b>, on a slave-by-slave, or module-by-module basis, adjustment of receive signal characteristics, transmit signal characteristics, or both depending upon the embodiment implemented. Like Slave Bus Transceiver <b>322</b> <i>a</i>, Master Bus Transceiver <b>304</b> may adjust any, all, or some combination of, transmit signal characteristics and any, all, or some combination of, receive signal characteristics. Preferably, implementation of Master Bus Transceiver <b>304</b> will be complementary to the implementation of Slave Bus Transceivers <b>322</b>. Thus, if a Slave Bus Transceiver <b>322</b> has already adjusted its transmit signal characteristics based upon topography dependent parameters prior to transmission to Master <b>302</b> then Master Bus Transceiver <b>304</b> may not need to adjust its receive signal characteristics to compensate for topography dependent channel effects. Master Bus Transceiver <b>304</b> adjusts its signal characteristics in response to topography dependent parameters for each Slave <b>320</b>. Depending upon the signal characteristics to be adjusted, Control Registers <b>306</b> may include for each Slave <b>320</b> within Bus System <b>300</b> a slew rate control register, a current control register for controlling the current swing of the transmit signal, a symmetry control register, a transmit timing center control register, an equalization control register, a threshold control register, and a receive timing center control register. Host <b>308</b> determines the topography dependent parameters to be stored in each control register of Control Registers <b>306</b> based upon the configuration and/or position of each Slave <b>320</b> on Bus <b>330</b>. How the topography dependent parameters to be stored in the Control Registers <b>306</b> are determined will be discussed below with respect to Host and <figref idrefs="DRAWINGS">FIG. 14</figref>.</div>
<div class="description-paragraph" id="h-0007" num="0000">B. Determination of Topography Dependent Parameters</div>
<div class="description-paragraph" id="p-0067" num="0066"> <figref idrefs="DRAWINGS">FIG. 14</figref> illustrates in flow diagram form process <b>360</b> to determine topography dependent characteristics in response to topography data. Process <b>360</b> begins in response to an initiating event, such as, for example, addition, removal, or modification of a Module <b>340</b>, system power-up, or the passage of some period of time. During step <b>362</b> an intelligent agent determines the system configuration and the bus location of each Slave <b>320</b> within the topography of Bus System <b>300</b>. The intelligent agent responsible for executing step <b>362</b> is preferably Host <b>308</b>. If topography is to be defined in terms of system configuration, during step <b>362</b> the SPDs <b>326</b> (see <figref idrefs="DRAWINGS">FIG. 13</figref>) associated with each Module <b>340</b> may be polled to determine the number of Modules <b>340</b> and the number and Device IDs of all Slaves <b>320</b> on each Module <b>340</b>. In other words, during step <b>362</b> the topography of Bus System <b>300</b> is first determined. Given the topography of Bus System <b>300</b>, the bus location of each Slave <b>320</b> can be determined with respect to Master <b>302</b>. Consider for example the case when Bus System <b>300</b> includes three Modules at three bus locations. Suppose also that it is discovered that the first Module <b>340</b> includes eight Slaves <b>320</b>, the second includes four Slaves <b>320</b> and the third Module <b>340</b> includes eight Slaves <b>320</b>. Under these conditions, the eight Slaves <b>320</b> on the first Module <b>340</b> are determined to have the first bus location, the four slaves on the second Module <b>340</b> are assigned the second bus location, and the eight slaves on the third Module are assigned the third bus location.</div>
<div class="description-paragraph" id="p-0068" num="0067">On the other hand, if topography is to be defined in terms of position on Bus <b>330</b> with respect to Master <b>302</b>, a number of methods may be used during step <b>362</b> to determine the topography of each Slave <b>320</b>. In one embodiment, a serial chain (not shown) can be used to enumerate Slaves <b>320</b>. The first Slave <b>320</b> encountered by Master <b>302</b> on the serial chain is closest to Master <b>302</b> and is assigned a first topography and Device ID. Master <b>302</b> then commands the first Slave <b>320</b> to poll the next Slave <b>320</b> on the chain. The responding Slave <b>320</b> is assigned a second topography Device ID. Enumeration of Slaves <b>320</b> continues until no response is received to a poll request on the serial chain.</div>
<div class="description-paragraph" id="p-0069" num="0068">Having determined the topography of each Slave <b>320</b> within Bus System <b>300</b>, the intelligent agent uses the topography of Bus System <b>300</b> to determine appropriate values for the topography dependent parameters to be stored in Control Registers <b>306</b> and/or Control Registers <b>324</b> (step <b>364</b>). Any number of methods may be used to obtain the value of each topography dependent parameter consistent with the present invention. For example, appropriate topography dependent parameter values may be obtained empirically, for example by looking up appropriate values in a table and/or by computing the parameter values in accordance with various predefined functions, and then conveying the determined parameter values to the Master <b>302</b> and Slaves <b>320</b>. In some embodiments, a software procedure is used to generate values for the topography dependent parameters, while in other embodiments a hardware based table lookup methodology is used. For example, the N Slaves <b>320</b> closest to Master <b>302</b> may be assigned a value x, the next N Slaves <b>320</b> may be assigned a value of x+Δ, etc. According to another method, the Slave <b>320</b> closest to Master <b>302</b> is assigned a value of y, the second Slave <b>320</b> is assigned a value of y+Δ, the third slave is assigned a value of y+2Δ, etc. According to yet another method, if Bus System <b>300</b> includes more than N Slaves <b>320</b> then all Slaves <b>320</b> are assigned a value of w, and if there are less than N Slaves <b>320</b> then all Slaves <b>320</b> are assigned a value of z.</div>
<div class="description-paragraph" id="p-0070" num="0069">Having determined the values for the topography dependent parameters, Process <b>360</b> continues with step <b>366</b>. During step <b>366</b> Master <b>302</b> transmits the topography dependent parameters to each device in Bus System <b>300</b> whose transmit or receive signal characteristics are to be adjusted.</div>
<div class="description-paragraph" id="p-0071" num="0070">During step <b>368</b> each device, Master <b>302</b> or Slave <b>320</b>, receives topography dependent parameters and stores them in appropriate control registers of Control Registers <b>306</b> or Control Registers <b>324</b>, as the case may be. Subsequently, during step <b>370</b> these topography dependent parameters are used by the device to adjust receive and/or transmit signal characteristics to improve bus communications. How the topography dependent parameters are used will be discussed in detail below with respect to specific signal characteristics and <figref idrefs="DRAWINGS">FIGS. 16-23</figref>.</div>
<div class="description-paragraph" id="h-0008" num="0000">C. The Slave Bus Transceiver</div>
<div class="description-paragraph" id="p-0072" num="0071"> <figref idrefs="DRAWINGS">FIG. 15</figref> illustrates in block diagram form an embodiment of Slave Bus Transceiver <b>322</b> capable of adjusting any of several receive and transmit signal characteristics. Slave Bus Transceiver <b>322</b> includes Control Registers <b>324</b>, Bus Transmitter <b>380</b> and Bus Receiver <b>382</b>. In the illustrated embodiment, Control Registers <b>324</b> include two registers for storing topography dependent parameters associated with receive signal characteristics. The first, Threshold Control Register <b>390</b>, permits adjustment of the value of V<sub>ref </sub>for received signals, where V<sub>ref </sub>determines the voltage level between 0 and 1 signal values. The second, Receive Timing Center Control Register <b>392</b>, permits adjustment of a receive clock signal so that a received data signal is sampled near the center of the data eye. In alternate embodiments, Control Registers <b>324</b> may include a Threshold Control Register and a Receive Timing Register per channel of Bus <b>330</b>. Control Registers <b>324</b>, as illustrated, also include four registers for storing topography dependent parameters associated with transmit signal characteristics. Slew Rate Control Register <b>394</b> stores a topography dependent parameter for adjusting the slew rate of transmitted signals. Current Control Register <b>396</b> stores a topography dependent parameter for producing full swing signals at the output pins of a transmitting device. Symmetry Control Register <b>396</b> stores a topography dependent parameter for adjusting the voltage level of transmitted signals with respect to V<sub>ref</sub>. Transmit Timing Center Control Register <b>400</b> stores a topography dependent parameter for adjusting a transmit clock signal so the transmitted signal will be received by Master <b>302</b> near the center of the data eye. Equalization Control Register <b>401</b> stores a topography dependent parameter for equalizing the transmitted signal to account to temporal and/or spatial variations in voltage margins. In alternate embodiments, Control Registers may include one Slew Rate Control Register, one Current Control Register, one Symmetry Control Register, one Transmit Timing Center Control Register and one set of Equalization Control Registers per channel of Bus <b>330</b>.</div>
<div class="description-paragraph" id="p-0073" num="0072">Bus Transmitter <b>380</b> receives internally generated data on line <b>381</b>, buffers it and drives the transmit data to Bus <b>330</b>. Depending upon the embodiment, Bus Transmitter <b>380</b> may also adjust the parameters of the transmit data in response to topography dependent parameters stored in Control Registers <b>324</b>. How Bus Transmitter <b>380</b> adjusts the various parameters of the transmit data will be described in detail with respect to <figref idrefs="DRAWINGS">FIGS. 16-20</figref> and <figref idrefs="DRAWINGS">FIGS. 26A-26B</figref>.</div>
<div class="description-paragraph" id="p-0074" num="0073">Bus Receiver <b>382</b> receives data from Bus <b>330</b>, buffers it, and drives the receive data onto line <b>384</b> for internal use by Slave <b>320</b>. Bus Receiver <b>382</b> may also adjust the parameters of the receive data in response to topography dependent parameters from Control Registers <b>324</b>, depending upon the embodiment. How Bus Receiver <b>382</b> does this will be discussed in detail with respect to <figref idrefs="DRAWINGS">FIGS. 21-23</figref>.</div>
<div class="description-paragraph" id="h-0009" num="0000">C1. The Bus Transmitter</div>
<div class="description-paragraph" id="p-0075" num="0074"> <figref idrefs="DRAWINGS">FIG. 16</figref> illustrates in block diagram form Bus Transmitter <b>380</b>. Bus Transmitter <b>380</b> includes circuitry for adjusting the transmit signal's timing center, slew rate, current swing and symmetry in response to various control signals. Additionally, Bus Transmitter <b>380</b> equalizes signal characteristics prior to transmission to increase voltage margins. In the illustrated embodiment, Bus Transmitter <b>380</b> includes a Transmit DLL/PLL, Output Multiplexer (MUX) <b>416</b>, Predriver <b>420</b>, and Output Current Driver <b>422</b>. Also included in the illustrated embodiment are Duty Cycle Compensator <b>418</b> and Slew Rate Estimator <b>410</b>, which while compatible with the present invention are not necessary to it.</div>
<div class="description-paragraph" id="p-0076" num="0075">The Transmit DLL/PLL generates a transmit clock, which is coupled to Output Multiplexer <b>416</b>. The Transmit DLL/PLL adjusts the timing of the rising edge of the transmit clock to ensure that the signals transmitted by Output Current Driver <b>422</b> will arrive in response to the topography dependent parameter stored in Transmit Timing Center Control Register <b>400</b>. By adjusting the clock used to transmit the data signal, Transmit Timing Center Control Register <b>400</b> can vary when the data signal is transmitted so that the data signal will be sampled by a receiving device near a desired position within the data eye, for example, the center of the data eye or a position offset from the center of the data eye. Output Multiplexer <b>416</b> receives odd data to be transmitted on line <b>381</b> <i>a </i>and even data on line <b>381</b> <i>b </i>and generates clocked data in response to the transmit clock signal from the Transmit DLL/PLL. Output Multiplexer <b>416</b> outputs the clocked data on line <b>417</b>.</div>
<div class="description-paragraph" id="p-0077" num="0076">In the illustrated embodiment, there are two sources of slew rate control signals, Slew Rate Estimator <b>410</b> and Slew Rate Control Register <b>394</b>. In this embodiment, Slew Rate Estimator <b>410</b> sets a baseline slew rate that can be varied in accordance with the topography dependent parameter stored in Slew Rate Control Register <b>394</b>. Slew Rate Estimator <b>410</b> generates two signals, SRC&lt;3:2&gt;, each representing a single bit of the slew rate control signal. Circuitry for estimating slew rate are well known in the art. The topography dependent parameter stored in Slew Rate Control Register <b>394</b> represents an adjustment to that baseline slew rate. In alternate embodiments, Slew Rate Estimator <b>410</b> may be omitted and the slew rate may be completely controlled via Slew Rate Control Register <b>394</b>.</div>
<div class="description-paragraph" id="p-0078" num="0077">In the illustrated embodiment, both Duty Cycle Compensator <b>418</b> and Predriver <b>420</b> are responsive to slew rate control signals. Duty Cycle Compensator <b>418</b> receives clocked data on line <b>417</b>, anticipates the changes in the duty cycle that will be caused by Predriver <b>420</b> in response to the slew rate control signals and pre-compensates for that change in duty cycle. Duty Cycle Compensator <b>418</b> couples its output signal to Predriver <b>420</b> on line <b>419</b>. Duty Cycle Compensator <b>418</b> will be further described with respect to <figref idrefs="DRAWINGS">FIG. 17</figref>. In alternative embodiments of Bus Transmitter <b>380</b>, Duty Cycle Compensator <b>418</b> may be omitted and the signal on line <b>417</b> may be connected directly to Predriver <b>420</b>. Predriver <b>420</b> adjusts the slew rate of the transmit data in response to the slew rate control signals. Predriver <b>420</b> couples its output signals to q-node <b>421</b>. Predriver <b>420</b> will be further described with respect to <figref idrefs="DRAWINGS">FIG. 18</figref>.</div>
<div class="description-paragraph" id="p-0079" num="0078">The Current/Symmetry Control bits, cc, are used by Output Current Driver <b>422</b> to adjust the voltage swing of the output signals and to adjust the average value of the output signals with respect to V<sub>ref</sub>. Output Current Driver <b>422</b> will be described in detail with respect to <figref idrefs="DRAWINGS">FIG. 19</figref>. Current/Symmetry Control Circuitry <b>412</b> generates the current/symmetry control bits in response to topography dependent parameters from Current Control Register <b>396</b> or Symmetry Control Register <b>398</b>. Current/Symmetry Control Circuitry <b>412</b> will be described in detail with respect to <figref idrefs="DRAWINGS">FIG. 20</figref>.</div>
<div class="description-paragraph" id="p-0080" num="0079">Output Current Driver <b>422</b> uses control signals provided by Equalization Control Register <b>401</b> to equalize the output signals and increase the voltage margins at a receiving device such as Master <b>302</b>. Using a topography dependent parameter stored in Equalization Control Register <b>401</b>, Output Current Driver <b>422</b> is able to dynamically change its drive strength to compensate for residual and cross-coupled signals present on the channel. Embodiments of Output Current Driver <b>422</b> capable of equalizing signals will be described below with respect to <figref idrefs="DRAWINGS">FIGS. 26A and 26B</figref>.</div>
<div class="description-paragraph" id="h-0010" num="0000">The Duty Cycle Compensator</div>
<div class="description-paragraph" id="p-0081" num="0080"> <figref idrefs="DRAWINGS">FIG. 17</figref> illustrates schematically Duty Cycle Compensator <b>418</b> of <figref idrefs="DRAWINGS">FIG. 16</figref>. Duty Cycle Compensator <b>418</b> pre-compensates for distortion of the duty cycle caused by the slew rate control blocks of Predriver <b>420</b> when the slew rate control signals SRC&lt;1:0&gt; are enabled. In response to the slew rate control signals, SRC&lt;1:0&gt;, Duty Cycle Compensator <b>418</b> pre-compensates the data signals being input to Predriver <b>420</b> such that the distortion caused by Predriver <b>420</b> is canceled out in the q-node signal at q-node <b>421</b>. In other words, Duty Cycle Compensator <b>418</b> modifies the duty cycle of the clocked data signal on line <b>417</b> by a predetermined amount in response to slew rate control signals SRC&lt;1:0&gt;.</div>
<div class="description-paragraph" id="p-0082" num="0081">Duty Cycle Compensator <b>418</b> has a pair of series-connected Inverters <b>430</b> and <b>432</b> and two parallel Transistor Stacks <b>434</b> and <b>436</b>. Transistor Stacks <b>434</b> and <b>436</b> each include a pair of n-type transistors connected in series between the output of Inverter <b>432</b> and ground. The input to upper transistors T<sub>1 </sub>and T<sub>3 </sub>is the signal output by Inverter <b>432</b>. The slew rate control bits connect to the gate of the lower transistors T<sub>2 </sub>and T<sub>4</sub>. A high voltage level on the slew rate control bits enables Stacked Transistors <b>246</b>, <b>248</b> to adjust the duty cycle of the clocked data signal, by increasing the slew rate of high-to-low transitions on the input to Predriver <b>420</b>. A low voltage level on the slew rate control bits disables Stacked Transistors <b>246</b>, <b>248</b> and prevents the duty cycle of the clocked data signal on line <b>419</b> from being modified.</div>
<div class="description-paragraph" id="p-0083" num="0082">In an alternate embodiment, the lower transistors T<sub>2 </sub>and T<sub>4 </sub>may be weighted to provided additional range.</div>
<div class="description-paragraph" id="h-0011" num="0000">The Predriver</div>
<div class="description-paragraph" id="p-0084" num="0083"> <figref idrefs="DRAWINGS">FIG. 18</figref> illustrates schematically Predriver <b>420</b> of <figref idrefs="DRAWINGS">FIG. 16</figref>, which includes Base Block <b>440</b> and two Slew Rate Adjustment Blocks <b>442</b>, one responsive to Slew Rate Estimator <b>410</b> and the other to Slew Rate Control Register <b>394</b>. Predriver <b>420</b> uses the slew rate control signals from Slew Rate Estimator to set a nominal slew rate that it adjusts in response to a topography dependent parameter from Slew Rate Control Register <b>394</b>.</div>
<div class="description-paragraph" id="p-0085" num="0084">Base Block <b>440</b> is always enabled and outputs a signal to q-node <b>421</b> that has an associated, predetermined slew rate. Base Block <b>440</b> includes Inverters <b>444</b> and <b>446</b> connected in series which are sized to provide both an appropriate slew rate and duty cycle.</div>
<div class="description-paragraph" id="p-0086" num="0085">In the illustrated embodiment, four Slew Rate Adjustments Blocks <b>442</b> <i>a</i>-<i>d </i>are connected in parallel with Base Block <b>440</b>, although any arbitrary number may be used consistent with the present invention. Slew Rate Adjustment Blocks <b>442</b> <i>a </i>and <b>442</b> <i>b </i>are responsive to slew rate control signals from Slew Rate Estimator <b>410</b>. Slew Rate Control Blocks <b>442</b> <i>c </i>and <b>442</b> <i>d </i>are responsive to slew rate control signals from Slew Rate Control Register <b>394</b>. The slew rate of the signal on line <b>421</b> increases with the number of enabled Slew Rate Adjustment Blocks <b>442</b>. In one embodiment each Slew Rate Adjustment Block <b>442</b> includes a Control Block <b>448</b> connected in series with a Stacked Transistor Pair <b>450</b>. When enabled by their associated slew rate control signals Control Blocks <b>448</b> enable their associated Stacked Transistor Pairs <b>450</b> to be responsive to the data signal on line <b>419</b>. Each Control Block <b>448</b> includes a NAND gate <b>449</b> and a NOR gate <b>451</b>. NAND gate <b>449</b> enables the p-channel transistor T<sub>5 </sub>of Transistor Stack <b>450</b> and NOR gate <b>451</b> enables n-channel transistor T<sub>6</sub>. The output <b>452</b> of each Stacked Transistor Pair <b>450</b> connects to q-node <b>421</b>.</div>
<div class="description-paragraph" id="p-0087" num="0086">When slew rate control bit SRC&lt;x&gt; is at a high voltage level, NAND gate <b>449</b> is enabled to be responsive to the data signal on line <b>419</b>, allowing it to drive Transistor T<sub>5</sub>. At the same time, when SRC&lt;x&gt; is at a high voltage level, /SRC&lt;x&gt; is at a low voltage level which enables NOR gate <b>451</b> to be responsive to the data signal on line <b>419</b>, allowing the data signal to drive the lower n-channel transistor T<sub>6</sub>.</div>
<div class="description-paragraph" id="p-0088" num="0087">When the NAND gate <b>449</b> and NOR gate <b>451</b> are both enabled and when the data signal on line <b>419</b> transitions to a low voltage level, a high voltage level appears at the output of NOR gate <b>451</b>. This causes lower n-type transistor T<sub>6 </sub>to conduct current to ground thereby increasing the rate at which the q-node <b>421</b> is driven to ground. At substantially the same time that a high voltage level appears at the output of NOR gate <b>451</b>, a high voltage level appears at the output of NAND gate <b>449</b> that causes the upper p-channel transistor T<sub>5 </sub>to stop conducting current, turning off.</div>
<div class="description-paragraph" id="p-0089" num="0088">When the NAND gate <b>449</b> and NOR gate <b>451</b> are both enabled and the data signal on line <b>419</b> transitions to a high voltage level, a low voltage level appears at the output of NAND gate <b>449</b>. This causes the upper p-channel transistor T<sub>5 </sub>to conduct current thereby increasing the rate at which q-node <b>421</b> is driven to a high voltage level. At substantially the same time as a low voltage level appears at the output of NAND gate <b>449</b>, a low voltage level appears at the output of NOR gate <b>451</b> that causes the lower n-channel transistor T<sub>6 </sub>to turn off.</div>
<div class="description-paragraph" id="p-0090" num="0089">When SRC&lt;x&gt; is at a low voltage level and /SRC&lt;x&gt; is at a high voltage level, neither NAND gate <b>449</b> nor NOR gate <b>451</b> responds to the data signal and are thereby disabled, preventing any response by Transistor Stack <b>450</b>.</div>
<div class="description-paragraph" id="p-0091" num="0090">In one embodiment, one Slew Rate Adjustment Block <b>442</b> <i>a </i>increases the slew rate by 0.5 with respect to the Base Block <b>440</b>, while the Slew Rate Adjustment Block <b>442</b> <i>b </i>increases the slew rate by 1.5 with respect to the Base Block <b>440</b> etc. However, the Slew Rate Adjustment Blocks <b>204</b>, <b>206</b> can provide other predetermined amounts of adjustment to the slew rate.</div>
<div class="description-paragraph" id="p-0092" num="0091">Slew Rate Adjustment Blocks <b>442</b> are sized to provide an appropriate slew rate without regard to the duty cycle to increase the range for each setting of the slew rate control bits. Therefore, activating the Slew Rate Adjustment Blocks will cause asymmetry in the duty cycle of the output voltage V<sub>out</sub>, for which Duty Cycle Compensator <b>418</b> precompensates, as previously discussed with respect to <figref idrefs="DRAWINGS">FIG. 17</figref>.</div>
<div class="description-paragraph" id="h-0012" num="0000">The Output Current Driver and Current/Symmetry Control</div>
<div class="description-paragraph" id="p-0093" num="0092"> <figref idrefs="DRAWINGS">FIG. 19</figref> illustrates schematically Output Current Driver <b>422</b>, which controls both the voltage swing at the output pins of the transmitting device and the average level of that swing in response to Current/Symmetry control bits cc. (In the interests of simplicity, <figref idrefs="DRAWINGS">FIG. 19</figref> omits circuitry for equalizing the output signal from Output Current Driver <b>422</b>.) Output Current Driver <b>422</b> includes multiple Transistor Stacks <b>460</b>-<b>472</b> connected in parallel between Bus <b>330</b> and ground. Each Transistor Stack <b>460</b>-<b>472</b> includes two n-channel transistors, an upper transistor and a lower transistor that are connected in series. The q-node signal on line <b>421</b> is input to the gate of the upper transistors T<sub>10</sub>, T<sub>12</sub>, T<sub>14</sub>, T<sub>16</sub>, T<sub>18</sub>, T<sub>20 </sub>and T<sub>22</sub>. Current/symmetry control signals on a set of current/symmetry control bits, cc through cc, are input to the gate of the lower transistors T<sub>11</sub>, T<sub>13</sub>, T<sub>15</sub>, T<sub>17</sub>, T<sub>21 </sub>and T<sub>23</sub>. When each of the current/symmetry control signals is at or exceeds the threshold voltage (V<sub>th</sub>) of the lower transistor, the corresponding lower transistor T<sub>11</sub>, T<sub>13</sub>, T<sub>15</sub>, T<sub>17</sub>, T<sub>21 </sub>and T<sub>23 </sub>is enabled or “on.” When a lower transistor T<sub>11</sub>, T<sub>13</sub>, T<sub>15</sub>, T<sub>17</sub>, T<sub>21 </sub>or T<sub>23 </sub>is enabled and when the q-node signal transitions high (i.e., to its logic high voltage), a predetermined amount of current flows through the selected Transistor Stack to the circuit ground. Therefore, the output drive current is adjusted by setting a subset of the current/symmetry control signals to a high voltage level.</div>
<div class="description-paragraph" id="p-0094" num="0093">To further provide a programmable output drive current, at least one of the Transistor Stacks may be binary weighted with respect to at least one other Transistor Stacks. Preferably the transistor pairs in all the Transistor Stacks of the Output Current Driver <b>422</b> are sized so that the current drive capability of the Transistor Stacks <b>460</b>, <b>462</b>, <b>464</b>, <b>466</b>, <b>468</b>, <b>470</b> and <b>472</b> have current drive ratios of 64:32:16:8:4:2:1, respectively (i.e., are binary weighted).</div>
<div class="description-paragraph" id="h-0013" num="0000">The Current/Symmetry Control Circuitry</div>
<div class="description-paragraph" id="p-0095" num="0094"> <figref idrefs="DRAWINGS">FIG. 20</figref> illustrates schematically Current/Symmetry Control Circuitry <b>412</b>, which produces the Current/Symmetry Control bits cc. Current/Symmetry Control Circuitry <b>412</b> can be used to adjust the average level of signals output by Output Current Driver <b>422</b> via the topography dependent parameter stored in Symmetry Control Register <b>396</b> or to cause Output Current Driver <b>422</b> to produce full swing output signals via the topography dependent parameter stored in Current Control Register <b>398</b>. Current/Symmetry Control Circuitry <b>413</b> includes a multiplexer (MUX) <b>460</b>, a Comparator <b>464</b>, and a Counter <b>470</b>, whose count is represented as the Current/Symmetry Control bits, cc, on line <b>413</b>. More specifically, when Cal Mode signal on line <b>671</b> is asserted, Switches <b>414</b>A and <b>414</b>B close to couple Resistor Network <b>672</b> between Bus Lines <b>330</b>A and <b>330</b>B. Each node between the resistors of Resistor Network <b>672</b> is coupled to a respective input of MUX <b>460</b>. The Cal Mode signal on line <b>671</b> also controls logic Gates <b>425</b>A and <b>425</b>B, which, control Output Current Drivers <b>422</b>A and <b>422</b>B. When turned on by Gate <b>425</b>A, Output Current Driver <b>422</b>A sinks current through Resistor <b>675</b>A, pulling Bus Line <b>330</b>A to a low potential. At approximately the same time Gate <b>425</b>B turns off Output Current Driver <b>422</b>B, which leaves Bus Line <b>330</b>B pulled up through Resistor <b>675</b>B. This arrangement produces a voltage divider between Bus Lines <b>330</b>A and <b>330</b>B, with successively lower voltage appearing at each input to MUX <b>460</b>.</div>
<div class="description-paragraph" id="p-0096" num="0095">Current Control Register <b>398</b> can be used to load a value into Counter <b>470</b>, thereby directly controlling the value represented by Current/Symmetry Control bits, cc. In contrast, Symmetry Control Register <b>396</b> indirectly controls the Current/Symmetry Control bits. The topography dependent parameter stored in Symmetry Control Register <b>396</b> is used to select one of the inputs to MUX <b>460</b> as its output signal. The inputs to MUX <b>460</b> are generated by a series of taps on a resistive voltage divider tied between ground and an output voltage produced by Output Current Driver <b>422</b>, the V<sub>out </sub>signal. The signal output by MUX <b>460</b> is coupled as an input to Comparator <b>464</b>. Comparator <b>464</b> compares the input signal from MUX <b>460</b> to a reference voltage, V<sub>ref</sub>. The output signal from Comparator <b>464</b> is coupled to the Up/Down input of Counter <b>470</b>. If the MUX output is greater than V<sub>ref</sub>, Comparator <b>464</b> forces Counter <b>470</b> to increase its count, and if the Mux output is less than V<sub>ref </sub>then Comparator <b>464</b> forces Counter <b>470</b> to decrease its count. Comparator <b>464</b> drives its output signal up or down until the V<sub>out </sub>signal causes the voltage at the selected tap of the resistive divider to equal V<sub>ref</sub>. When this occurs, the current output by Output Current Driver <b>422</b> has reached the desired level indicated by the topography dependent parameter in Symmetry Control Register <b>396</b>. By setting the value of the topography dependent parameter stored in Symmetry Control Register <b>396</b> to select one of the different taps of Resistor Network <b>672</b>, an appropriate degree of asymmetry may be produced in the output voltage swing. Thus, the topography dependent parameter stored in Symmetry Control Register <b>396</b> can be used to adjust the midpoint between a high output voltage and low output voltage up or down relative to V<sub>ref</sub>.</div>
<div class="description-paragraph" id="h-0014" num="0000">The Output Current Driver and Temporal Equalization</div>
<div class="description-paragraph" id="p-0097" num="0096"> <figref idrefs="DRAWINGS">FIG. 26A</figref> illustrates, in block diagram form, an embodiment <b>700</b>A of Output Current Driver <b>422</b> that dynamically adjusts its drive strength to compensate for voltage margins caused by residual signals on the same channel. Output Current Drive <b>700</b>A adjusts its drive current in response to the topography dependent parameter stored in Equalization Control Register <b>401</b>. In other words, Output Current Driver <b>700</b>A performs temporal equalization in response to a topography dependent parameter. In the interests of simplicity, <figref idrefs="DRAWINGS">FIG. 26A</figref> omits circuitry related to Current/Symmetry control. To accommodate Output Current Driver <b>700</b>A, Equalization Control Register <b>401</b> is preferably realized as a multiplicity of Equalization Control Registers (ECRs), ECR<b>1</b> <b>401</b>-<b>1</b> through ECRk <b>401</b>-<i>k</i>, each storing a topography dependent equalization coefficient, c<sub>eq</sub>. Output Current Driver <b>700</b>A includes Weighted Driver <b>701</b>, a multiplicity of Equalization Drivers <b>702</b>-<b>1</b> to <b>702</b>-K, and Data History Generator <b>705</b>. Weighted Driver <b>701</b>, which may be implemented using the same circuitry as shown in <figref idrefs="DRAWINGS">FIG. 19</figref>, receives a data signal, Data<sub>j</sub>, from q-node <b>421</b> and weights that signal by an amount determined by the current control CC parameter, as explained above. When turned on by the data signal, Data<sub>j</sub>, a current ism to flow through Weighted Driver <b>701</b>. In other words, the magnitude of i<sub>SIG </sub>is a function of Data<sub>j </sub>and CC. Data History Generator <b>705</b> provides input signals to the Equalization Drivers <b>702</b> that represent prior data signals, Data<sub>j−1 </sub>through Data<sub>j−k</sub>. Data History Generator <b>705</b> may be realized as a shift register. Like Weighted Driver <b>701</b>, Equalization Drivers <b>702</b> weight their respective prior data signals by an amount determined by an associated ECR, which stores a topography dependent equalization coefficient, c<sub>eq</sub>. Thus the Equalization Drivers <b>702</b> respectively sink equalization currents iE<sub>Q1 </sub>through i<sub>EQK</sub>, each of which is a function of the prior data signal input to the individual Equalization Driver <b>702</b> and the associated topography dependent equalization coefficient. The total current, i<sub>OL</sub>, output by Output Current Driver <b>700</b>A may be expressed as follows:
<br/>
<i>i</i> <sub>OL</sub> <i>=i</i> <sub>SIG</sub> <i>+i</i> <sub>EQ1</sub> <i>+i</i> <sub>EQ2 </sub> <i>. . . +i</i> <sub>EQK </sub>
</div>
<div class="description-paragraph" id="p-0098" num="0097">Thus, by controlling the magnitude of ioL ECRs <b>401</b>A-<b>401</b>K+1 enable equalization of V<sub>OUT </sub>to compensate for residual signals associated with a particular channel. That is to say, V<sub>OUT </sub>is directly related to i<sub>OL</sub>.</div>
<div class="description-paragraph" id="p-0099" num="0098">As discussed above with respect to <figref idrefs="DRAWINGS">FIG. 19</figref>, Weighted Driver <b>701</b> includes N binary weighted Transistors <b>703</b>A-<b>703</b>N (1×, 2×, . . . 2<sup>N−1</sup>×). Thus, the current through Weighted Driver <b>701</b>, ism, is given by i<sub>SIG</sub>=Data<sub>j</sub>×CC×I<sub>UNIT</sub>; where</div>
<div class="description-paragraph" id="p-0100" num="0099">I<sub>UNIT </sub>is the current through the smallest weighted transistor (T<b>23</b>, <figref idrefs="DRAWINGS">FIG. 19</figref>) in weighted driver <b>701</b> when it is active;</div>
<div class="description-paragraph" id="p-0101" num="0100">CC is a current control value; and</div>
<div class="description-paragraph" id="p-0102" num="0101">Data<sub>j </sub>is the data signal input to Weighted Driver <b>701</b>.</div>
<div class="description-paragraph" id="p-0103" num="0102">Data History Generator <b>705</b> receives the signal Data<sub>j </sub>and a transmit clock signal, t<sub>CLK</sub>, and generates K delayed data signals, Data<sub>j−1 </sub>through Data<sub>j−k</sub>. In one embodiment, a new data value is transmitted at each rising edge and each falling edge of the t<sub>CLK </sub>signal, while in an alternative embodiment data is transmitted on only one clock edge per cycle of the transmit clock.</div>
<div class="description-paragraph" id="p-0104" num="0103"> <figref idrefs="DRAWINGS">FIG. 26B</figref> illustrates in greater detail one of the Equalization Drivers <b>702</b>-<i>y </i>of <figref idrefs="DRAWINGS">FIG. 26A</figref>. Equalization Driver <b>702</b>-<i>y </i>includes a multiplexer (MUX) <b>709</b>, a set of additive logic gates, ADD Gates <b>712</b>A-<b>712</b>R, a set of associated binary weighted Transistors <b>710</b>A-<b>710</b>R, a set of subtractive logic gates, SUB Gates <b>711</b>A-<b>711</b>R, and a set of associated binary weighted Transistors <b>713</b>A-<b>713</b>R. In the illustrated embodiment, each ECR <b>401</b>A-<b>401</b>K+1 represents it equalization coefficient via a sign bit (S bit) and multiple magnitude bits. In the illustrated embodiment, the equalization coefficient is represented by three magnitude bits; however, other embodiments including fewer or more magnitude bits are consistent with the present invention. Referring specifically to the illustrated embodiment of Equalization Driver <b>702</b>-<i>y </i>in <figref idrefs="DRAWINGS">FIG. 26B</figref>, the S bit selects from MUX <b>709</b> either the inverted or non-inverted version of the Data signal, while each bit of the coefficient magnitude is input to an “ADD” AND Gate <b>712</b> and to a “SUB” AND Gate <b>711</b>. The paired ADD Gate <b>712</b> and SUB Gate <b>711</b> associated with a particular magnitude bit each are associated with a similarly weighted binary weighted Transistor. In particular, bit <b>1</b> of the coefficient magnitude is input to ADD Gate <b>712</b>A and SUB Gate <b>711</b>A, which, depending on the state of the Data<sub>j−y </sub>signal, activates Transistor <b>710</b>A (1×) and Transistor <b>713</b>A (−1×), respectively. Note that the binary weighting of Transistors <b>710</b>A and <b>713</b>A is equal in magnitude, but of opposite sign. Similarly, bit <b>2</b> of the coefficient magnitude in input to ADD Gate <b>712</b>B and SUB Gate <b>711</b>B, which may active Transistor <b>710</b>B and Transistor <b>713</b>B, respectively.</div>
<div class="description-paragraph" id="p-0105" num="0104">Consider the operation of Equalization Driver <b>702</b>-<i>y </i>when the coefficient magnitude bits stored in ECRy <b>401</b>-<i>y </i>represent zero. In this situation, every SUB Gate <b>711</b>A-<b>711</b>R activates its associated binary weighted Transistor <b>713</b>A-<b>713</b>R, while no ADD Gate <b>712</b>A-<b>712</b>R activates its associated binary weighted Transistor <b>710</b>A-<b>710</b>R. This is true regardless of the state of the Data<sub>j−y </sub>signal or the state of the S bit from ECR<b>2</b> <b>401</b>B. Thus, the current sunk by Equalization Driver <b>702</b>-<i>y </i>i<sub>EQy</sub>, is approximately (2<sup>R</sup>−1)×I<sub>UNIT</sub>, where I<sub>UNIT </sub>is the current through 1× transistor <b>710</b>A when it is activated.</div>
<div class="description-paragraph" id="p-0106" num="0105">Next, consider the operation of Equalization Driver <b>702</b>-<i>y </i>when the equalization coefficient is at a positive maximum, rather than a minimum; i.e., all coefficient bits are set and the S bit is positive. In this situation, every ADD Gate <b>712</b>A-<b>712</b>R activates its associated binary weighted Transistor <b>710</b>A-R and no SUB Gate <b>711</b>A-<b>711</b>R actives its associated binary weighted Transistor <b>713</b>A-R. Thus, the current sunk by Equalization Driver <b>702</b>-<b>1</b>, i<sub>EQ1</sub>, is approximately (2<sup>R+1</sup>−2)×I<sub>UNIT</sub>. Finally, consider the operation of Equalizer Driver <b>702</b>-<i>y </i>when the equalization coefficient is at a negative maximum; i.e., all the magnitude bits are set and the S bit is negative. When this occurs all ADD Gates <b>712</b>A-<b>712</b>R and all SUB Gates <b>711</b>A-<b>711</b>R are turned off and none of the binary weighted Transistors <b>710</b>A-<b>710</b>R and <b>713</b>A-<b>713</b>R is activated. Thus, in this situation Equalizer Driver <b>702</b>-<i>y </i>sinks no current. The current sunk by Equalizer Driver <b>702</b>-<i>y </i>is generally expressed as follows:
<br/>
<i>i</i> <sub>EQ1</sub>=2<sup>R</sup> <i>×I</i> <sub>UNIT</sub>+(<i>c</i> <sub>EQ1</sub>×2<sup>R</sup>)×Polarity(Data<sub>j−1</sub>)−<i>I</i> <sub>UNIT</sub>; where
<br/>
Polarity(Data<sub>j−1</sub>) is 1 if Data<sub>j−1</sub>=1 and −1 if Data<sub>j−1</sub>=0.
</div>
<div class="description-paragraph" id="p-0107" num="0106">Equalizer Drivers <b>702</b>-<b>1</b> to <b>702</b>-<i>k </i>operate in a similar fashion in response to their associated data signals and equalizer coefficients, allowing their output current to be increased or decreased relative to 2<sup>R</sup>×I<sub>UNIT</sub>. Thus, the total current i<sub>OL </sub>output by Output Current Driver <b>700</b>A is given by the following expression:
<br/>
<i>i</i> <sub>OL</sub> <i>=i</i> <sub>SIG</sub> <i>+i</i> <sub>EQ</sub>; where
<br/>
<i>i</i> <sub>EQ</sub>=2<sup>R</sup> <i>×K×I</i> <sub>UNIT</sub>+(<i>c</i> <sub>EQ1</sub>×2<sup>R</sup>)×Polarity(Data<sub>j−1</sub>)×<i>I</i> <sub>UNIT</sub>+
<br/>
(<i>c</i> <sub>EQ2</sub>×2<sup>R</sup>)×Polarity(Data<sub>j−2</sub>)×<i>I</i> <sub>UNIT</sub>+
<br/>
.
<br/>
.
<br/>
.
<br/>
(<i>c</i> <sub>EQK</sub>×2<sup>R</sup>)×Polarity(Data<sub>j−K</sub>)×<i>I</i> <sub>UNIT</sub>.
</div>
<div class="description-paragraph" id="p-0108" num="0107">By setting the term (2R×K×I<sub>UNIT</sub>) equal to the desired high voltage level, V<sub>HI</sub>, on the channel, the equalization coefficients, c<sub>EQ1</sub>−c<sub>EQK</sub>, stored in ECRs <b>401</b>A-<b>401</b>K can be used to effect a current swing above and below the nominal current used to produce V<sub>HI </sub>and above and below the nominal current used to produce the desired low voltage level, V<sub>LO</sub>. These current swings can be used in turn to overdrive or underdrive the channel, compensating the output voltage for past output levels. Note that the current I<sub>UNIT </sub>drawn by the 2× Transistor (T<b>23</b>, <figref idrefs="DRAWINGS">FIG. 19</figref>) associated with Weighted Driver <b>701</b> may be different from the current I<sub>UNIT </sub>drawn by the 1× Transistor <b>712</b>A associated with Equalization Driver <b>702</b>-<i>y. </i> </div>
<div class="description-paragraph" id="p-0109" num="0108">Although <figref idrefs="DRAWINGS">FIGS. 26A and 26B</figref> illustrate a pull-down circuit for the equalizing channel voltage, a combination of pull-up and pull-down circuits may be used in an alternative embodiment. For example, a set of weighted transistors coupled between V<sub>TERM </sub>and the output of Output Current Driver <b>700</b> may be used to pull up the output signal in proportion to a positive equalization coefficient. Generally, any circuit for adjusting channel voltages may be used without departing from the scope of the present invention.</div>
<div class="description-paragraph" id="h-0015" num="0000">The Output Current Driver and Cross-Talk Equalization</div>
<div class="description-paragraph" id="p-0110" num="0109">The circuitry of <figref idrefs="DRAWINGS">FIGS. 26A and 26B</figref> may be modified to cross-talk equalize a channel. Cross-talk equalization involves modifying a channel voltage to compensate for cross-coupled signals from neighboring channels. Referring to <figref idrefs="DRAWINGS">FIG. 26A</figref>, for example, Data History Generator <b>705</b> may be removed and the output of neighboring channels may be coupled to the inputs of Equalization Drivers <b>702</b>-<b>1</b> to <b>702</b>-<i>k</i>. In this way, equalization currents, i<sub>EQ1 </sub>through i<sub>EQK</sub>, may be generated based upon the state of neighboring channels and weighted by topography dependent parameters. As with temporal equalization, a combination of weighted pull-up and pull-down circuits or other circuits for adjusting channel voltages may be used to perform cross-talk equalization. As discussed above, a given device may include both spatial equalization circuitry and temporal equalization circuitry.</div>
<div class="description-paragraph" id="h-0016" num="0000">Receiver-Side Equalization</div>
<div class="description-paragraph" id="p-0111" num="0110"> <figref idrefs="DRAWINGS">FIG. 27</figref> illustrates a bus receiver <b>800</b> with equalization circuitry according to one embodiment. Incoming data, Data<sub>j</sub>, is summed with an equalization offset <b>816</b> by analog adder <b>817</b>, generating an equalized data value D<sub>EQ</sub>, for comparison with V<sub>ref </sub>by a comparator <b>830</b>. The equalization offset <b>816</b> is generated by adding and subtracting equalization coefficients C<b>1</b> <sub>EQ </sub>to CK<sub>EQ </sub>according to the state of previously received data values, Data<sub>j−1 </sub>to Data<sub>j−k</sub>, respectively.</div>
<div class="description-paragraph" id="p-0112" num="0111">A data history generator <b>705</b>, preferably implemented as a shift register, receives the output of the comparator <b>830</b> and generates the data history values, Data<sub>j−1 </sub>to Data<sub>j−k</sub>. The data history values are used to select, via multiplexers <b>811</b>-<b>1</b> to <b>811</b>-<i>k</i>, between positive and negative versions of respective equalization coefficients C<b>1</b> <sub>EQ </sub>to CK<sub>EQ </sub>stored in equalization registers <b>804</b>-<b>1</b> to <b>804</b>-<i>k</i>. As with the equalization coefficients discussed above with reference to <figref idrefs="DRAWINGS">FIG. 26B</figref>, equalization coefficients C<b>1</b> <sub>EQ </sub>to CK<sub>EQ </sub>may be positive or negative values. As shown in <figref idrefs="DRAWINGS">FIG. 27</figref>, a negative version of the content of each equalization register <b>804</b> is generated by a respective two's complement generator <b>809</b>. Any number of circuits for generating negative versions of equalization coefficients may be used in alternate embodiments. Also, one's complement circuitry may be used in alternate embodiments instead of two's complement circuitry.</div>
<div class="description-paragraph" id="p-0113" num="0112">A digital adding circuit <b>814</b> receives the output from each of the multiplexers <b>811</b>-<b>1</b> to <b>811</b>-<i>k </i>and generates a sum of coefficients, which it provides to a digital-to-analog converter (DAC) <b>815</b>. The DAC <b>815</b> generates an analog equalization offset value <b>816</b> which is summed by analog adder <b>817</b> with the incoming data value, Data<sub>j</sub>.</div>
<div class="description-paragraph" id="p-0114" num="0113">In an alternate embodiment, separate digital-to-analog converters are used to convert the outputs of multiplexers <b>811</b>-<b>1</b> to <b>811</b>-<i>k </i>to respective analog values. The analog value or values are then combined with the incoming data value, Data<sub>j</sub>, by analog adder <b>817</b>. In this embodiment, adding stage <b>814</b> may be omitted, reducing the amount of time required to provide a valid offset value at adder <b>817</b>. In another alternate embodiment, adder <b>817</b> is used to add the equalization offset to V<sub>ref </sub>instead of to the incoming data. In that case, the equalization offset is generated with reverse polarity.</div>
<div class="description-paragraph" id="p-0115" num="0114">In yet another alternate embodiment of a bus receiver, analog rather than digital circuitry is used to perform equalization. Sample and hold circuitry is used to capture past data signals, Data<sub>j−1 </sub>to Data<sub>j−k</sub>. The amplitude of the captured signals are weighted by equalization coefficients C<b>1</b> <sub>EQ </sub>to CK<sub>EQ </sub>from registers <b>804</b>-<b>1</b> to <b>804</b>-<i>k</i>, and then input to analog adder <b>817</b>. Cross-talk equalization is also accomplished in this manner, except that neighboring signals are weighted by the equalization coefficients instead of prior data signals on the same signal path.</div>
<div class="description-paragraph" id="h-0017" num="0000">C2. The Bus Receiver</div>
<div class="description-paragraph" id="p-0116" num="0115"> <figref idrefs="DRAWINGS">FIG. 21</figref> illustrates, in block diagram form, an embodiment of Bus Receiver <b>382</b> capable of adjusting any of two receive signal characteristics, Receive Timing Center and Voltage Threshold. Bus Receiver <b>382</b> includes Comparator <b>480</b> and Timing Circuitry <b>486</b>. Comparator <b>480</b> compares the incoming data signals from Bus <b>330</b> with a reference voltage level, V<sub>ref</sub>, which is adjusted by Threshold Control Circuitry <b>490</b>. Threshold Control Circuitry <b>490</b> responds to a topography dependent parameter stored in Threshold Control Register <b>390</b>. Threshold Control Circuitry <b>490</b> will be described in detail with respect to <figref idrefs="DRAWINGS">FIG. 22</figref>.</div>
<div class="description-paragraph" id="p-0117" num="0116">Timing Circuitry <b>486</b> takes the output signal from Comparator <b>480</b> and synchronizes it with the internal receive clock signal, RCLK, which is generated from CFM signal on line <b>332</b> (shown in <figref idrefs="DRAWINGS">FIG. 13</figref>). Timing Circuitry <b>486</b> outputs the synchronized receive signals to the rest of Slave <b>320</b> on line <b>488</b>. Receive Delay Lock Loop/Phase Locked Loop (DLL/PLL) <b>496</b> generates the RCLK signal on line <b>498</b> and adjusts when the rising edge of the RCLK signal occurs in response to a topography dependent parameter stored in Receive Timing Center Control Register <b>392</b> so that the received data is sampled near the center of the data eye. Receive DLL/PLL will be described in detail with respect to <figref idrefs="DRAWINGS">FIG. 23</figref>.</div>
<div class="description-paragraph" id="h-0018" num="0000">Threshold Control Circuitry</div>
<div class="description-paragraph" id="p-0118" num="0117"> <figref idrefs="DRAWINGS">FIG. 22</figref> illustrates, in block diagram form, Threshold Control Circuitry <b>490</b> and its relationship to Threshold Control Register <b>390</b> and Comparator <b>480</b>. Threshold Control Circuitry <b>490</b> modifies the level of V<sub>ref </sub>from a baseline level in response to the topography dependent parameter stored in Threshold Control Register <b>390</b>. The output of Threshold Control Circuitry <b>490</b> is an adjusted reference voltage, V<sub>refAdj</sub>, on line <b>392</b> which is coupled to an input of Comparator <b>480</b>. Threshold Control Circuitry <b>490</b> includes a Digital-to-Analog Converter (DAC) <b>494</b> and a Summing Amplifier <b>496</b>. DAC <b>494</b> produces an analog voltage in response to the digital represented topography dependent parameter stored in Threshold Control Register <b>390</b>. DAC <b>494</b> couples this analog voltage to Summing Amplifier <b>496</b> on line <b>495</b>. Summing Amplifier <b>496</b> sums the voltage on line <b>495</b> with the system wide reference voltage level, V<sub>ref</sub>, to produce V<sub>refAdj</sub>, which is coupled to Comparator <b>480</b> on line <b>392</b>.</div>
<div class="description-paragraph" id="h-0019" num="0000">The Receive DLL/PLL</div>
<div class="description-paragraph" id="p-0119" num="0118"> <figref idrefs="DRAWINGS">FIG. 23</figref> illustrates, in block diagram form, an embodiment of Receive DLL/PLL <b>496</b> that takes full advantage of signals typically available in conventional DLL/PLL circuits. Receive DLL/PLL <b>496</b> may be embodied using other Delay Lock Loop/Phase Lock Loop architectures consistent with the present invention. In the illustrated embodiment Receive DLL/PLL <b>496</b> includes DLL/PLL Reference Loop <b>500</b>, Matched Delay <b>508</b>, Digital-to-Analog Converter (DAC) <b>514</b>, Phase Mixer <b>516</b> and Fine Loop Mixer <b>520</b>. DLL/PLL Reference Loop <b>500</b> receives as input a reference clock signal, C<sub>0</sub>, from Fine Loop Mixer <b>520</b>. Reference clock signal C<sub>0 </sub>is a 45° earlier version of the RCLK signal. Given this input, DLL/PLL Reference Loop <b>500</b> generates two additional clock signals, C<sub>1 </sub>and C<sub>2</sub>. The C<sub>1 </sub>clock signal is offset by 45° from the C<sub>0 </sub>signal, and is thus in phase with RCLK, while the C<sub>2 </sub>signal is offset by 90° from the C<sub>0 </sub>signal. All three clock signals, C<sub>0</sub>, C<sub>1 </sub>and C<sub>2</sub>, are coupled to Phase Mixer <b>516</b>, which generates an offset feedback signal, FBCLK, which varies between −45° to 45° offset from RCLK. The amount of offset of the FBCLK signal is determined by the topography dependent parameter stored in Receive Timing Center Control Register <b>392</b>. DAC <b>514</b> produces an analog voltage representative of the desired timing offset in response to the output from Receive Timing Center Control Register <b>392</b>. DAC <b>514</b> couples its output voltage to Phase Mixer <b>516</b>. The C<sub>1 </sub>clock signal is output through Matched Delay <b>508</b> as the RCLK signal.</div>
<div class="description-paragraph" id="h-0020" num="0000">D. The Master Bus Transceiver</div>
<div class="description-paragraph" id="p-0120" num="0119"> <figref idrefs="DRAWINGS">FIG. 24</figref> illustrates, in block diagram form, Master Bus Transceiver <b>304</b> capable of adjusting any of several receive and transmit signal characteristics for each Slave <b>320</b> according to the topography of the Slave <b>320</b>. Master Bus Transceiver <b>304</b> includes Control Registers <b>306</b>, Bus Receiver <b>382</b>, Bus Transmitter <b>380</b>, Multiplexers (MUXs) <b>530</b>-<b>540</b> and Device ID Map <b>510</b>. Map <b>510</b> selects one of N control registers in each of several banks of control registers <b>512</b>-<b>522</b> based on an address or other identifier in each access request.</div>
<div class="description-paragraph" id="p-0121" num="0120">Control Registers <b>306</b> include several Banks of control registers <b>512</b>-<b>522</b>, one bank of control registers for each signal characteristic to be adjusted in response to a topography dependent parameter. Each bank of control registers <b>512</b>-<b>522</b> includes N control registers, where N may represent the number of Slaves <b>320</b> in Bus System <b>300</b>, the number of Modules <b>340</b>, or any other number of grouping of Slaves <b>320</b> or Modules <b>340</b> which are to be assigned the same values for topography dependent parameters. Thus, Bank <b>512</b> includes N Threshold Control Registers, each storing a topography dependent parameter for a subset of Slaves <b>320</b> or Modules <b>340</b>. Each Threshold Control Register stores the same type of topography dependent parameter discussed previously with respect to Threshold Control Register <b>390</b>. Bank <b>514</b> includes N Receive Timing Center Control Registers, each storing the same type of topography dependent parameter discussed previously with respect to Receive Timing Center Control Register <b>392</b>. Bank <b>516</b> includes N Slew Rate Control Registers, each storing for a particular subset of Slaves <b>320</b> or Modules <b>340</b> the same type of topography dependent parameter previously discussed with respect to Slew Rate Control Register <b>394</b>. Bank <b>518</b> includes N Current Control Registers, each storing the same type of topography dependent parameter previously discussed with respect to Current Control Register <b>396</b>. N Symmetry Control Registers comprise Bank <b>520</b>, each storing the same type of topography dependent parameter discussed previously with respect to Symmetry Control Register <b>398</b>. Similarly, Bank <b>522</b> comprises N Transmit Timing Center Control Registers, each storing the same type of topography dependent parameter previously discussed with respect to Transmit Timing Center Control Register <b>400</b>. Bank <b>524</b> comprises X Equalization Control Registers, each storing the same topography dependent equalization coefficients discussed previously with respect to Equalization Control Register <b>401</b>.</div>
<div class="description-paragraph" id="p-0122" num="0121">In alternate embodiments of Control Registers <b>326</b> may includes one of each type of control register bank per channel of Bus <b>330</b>. These embodiments contrast with the illustrated embodiment, which includes one bank of each type of control register.</div>
<div class="description-paragraph" id="p-0123" num="0122">Associated with each Bank of Control Registers <b>512</b>-<b>552</b> is a MUX <b>530</b>, <b>532</b>, <b>534</b>, <b>536</b>, <b>538</b> or <b>540</b> for selecting the topography dependent parameter associated with a single control register of the Bank. The selected topography dependent parameter from the Bank is then coupled to either Bus Receiver <b>382</b> or Bus Transmitter <b>380</b>. For example, MUX <b>530</b> couples the topography dependent parameter from a single Threshold Control Register of Bank <b>512</b> to Bus Receiver <b>382</b> while MUX <b>538</b> couples the topography dependent parameter from a single Symmetry Control Register of Bank <b>520</b> to Bus Transmitter <b>380</b>. Each MUX <b>530</b>-<b>540</b> selects which input signal is to be output in response to a Device ID signal on line <b>511</b> generated by Device ID Map <b>510</b>. Device ID Map <b>510</b> analyzes the memory requests received by Master <b>302</b> and identifies the particular Slave <b>320</b> to whom data should be exchanged. Device ID Map <b>510</b> indicates the identified Slave <b>320</b> via its Device ID signal. Device ID Map <b>510</b> may be realized as a memory device storing a table mapping system addresses to device IDs.</div>
<div class="description-paragraph" id="p-0124" num="0123">Bus Receiver <b>382</b> has been previously described with respect to <figref idrefs="DRAWINGS">FIGS. 21-23</figref> and Bus Transmitter <b>380</b> has been previously described with respect to <figref idrefs="DRAWINGS">FIGS. 16-20</figref>.</div>
<div class="description-paragraph" id="p-0125" num="0124">While the present invention has been described with reference to a few specific embodiments, the description is illustrative of the invention and is not to be construed as limiting the invention. Various modifications may occur to those skilled in the art without departing from the true spirit and scope of the invention as defined by the appended claims.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">20</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM191006632">
<claim-statement>What is claimed is:</claim-statement>
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. A method of operation in a memory controller to control a flash memory device having a plurality of control registers to store values, wherein the values represent interface parameter settings for a transceiver of the flash memory device, the method comprising:
<div class="claim-text">receiving parameter information pertaining to the flash memory; and,</div>
<div class="claim-text">transmitting to the flash memory device, control values for storage in the plurality of control registers, the control values being selected based on the received parameter information pertaining to the flash memory device.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising deriving the plurality of control values from the parameter information based on a topography of devices coupled to the memory controller, the devices including at least the flash memory device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00003" num="00003">
<div class="claim-text">3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein deriving the plurality of control values from the parameter information based on a topography of devices comprises selecting the control values from a look-up table based on the parameter information.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00004" num="00004">
<div class="claim-text">4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein receiving the parameter information comprises receiving the parameter information from a supplemental memory device disposed on a module that includes the flash memory device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00005" num="00005">
<div class="claim-text">5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control values include control values to program a drive strength value for a transmitter of the flash memory device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00006" num="00006">
<div class="claim-text">6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control values include control values to program a receiver reference voltage for a receiver circuit on the flash memory device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00007" num="00007">
<div class="claim-text">7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control values include control values to program one or more of:
<div class="claim-text">a slew rate value for a transmitter of the flash memory device;</div>
<div class="claim-text">an equalization control value for the transmitter of the flash memory device;</div>
<div class="claim-text">a symmetry control parameter for the transmitter of the flash memory device;</div>
<div class="claim-text">a transmit phase offset for the transmitter of the flash memory device; and,</div>
<div class="claim-text">a receive phase offset for a receiver of the flash memory device.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00008" num="00008">
<div class="claim-text">8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the flash memory device is a first flash memory device further comprising transmitting a first device identification (ID) value to the first flash memory device; sending a command to the first flash memory device to propagate the first ID value to a second flash memory device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00009" num="00009">
<div class="claim-text">9. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising transmitting a second device identification (ID) value to the first flash memory device wherein the first ID value uniquely identifies the second flash memory device and the second ID value uniquely identifies the first flash memory device.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00010" num="00010">
<div class="claim-text">10. A memory controller to control a flash memory device having a plurality of control registers to store control values, wherein the control values represent interface parameter settings for a transceiver of the flash memory device, the memory controller comprising:
<div class="claim-text">a circuit to select control values based on received parameter information pertaining to the flash memory; and,</div>
<div class="claim-text">a circuit to transmit to the flash memory device, control values for storage in the plurality of control registers.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00011" num="00011">
<div class="claim-text">11. The memory controller <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the plurality of control values are derived from the parameter information based on a topography of devices coupled to the memory controller, the devices including at least the flash memory device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00012" num="00012">
<div class="claim-text">12. The memory controller of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the circuit to derive the control values comprises a look-up table, wherein the plurality of control values are selected by the look-up table using the parameter information.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00013" num="00013">
<div class="claim-text">13. The memory controller of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the parameter information is received from a supplemental memory device disposed on a module that includes the flash memory device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00014" num="00014">
<div class="claim-text">14. The memory controller of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the control values include control values to program a drive strength value for a transmitter of the flash memory device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00015" num="00015">
<div class="claim-text">15. The memory controller of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the control values include control values to program a receiver reference voltage for a receiver circuit on the flash memory device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00016" num="00016">
<div class="claim-text">16. The memory controller of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the control values include control values to program one or more of:
<div class="claim-text">a slew rate value for a transmitter of the flash memory device;</div>
<div class="claim-text">an equalization control value for the transmitter of the flash memory device;</div>
<div class="claim-text">a symmetry control parameter for the transmitter of the flash memory device;</div>
<div class="claim-text">a transmit phase offset for the transmitter of the flash memory device; and,</div>
<div class="claim-text">a receive phase offset for a receiver of the flash memory device.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00017" num="00017">
<div class="claim-text">17. The memory controller of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<div class="claim-text">a first register to store a slew rate value for a transmitter of the memory controller;</div>
<div class="claim-text">a second register to store an equalization control value for the transmitter of the memory controller;</div>
<div class="claim-text">a third register to store a symmetry control parameter for the transmitter of the memory controller;</div>
<div class="claim-text">a fourth register to store a transmit phase offset for the transmitter of the memory controller; and</div>
<div class="claim-text">a fifth register to store a receive phase offset for a receiver of the memory controller.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00018" num="00018">
<div class="claim-text">18. The memory controller of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising a register to program a drive strength value for a transmitter of the memory controller.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00019" num="00019">
<div class="claim-text">19. The memory controller of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising a register to program a receiver reference voltage for a receiver circuit on the memory controller.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00020" num="00020">
<div class="claim-text">20. A memory controller to control a flash memory device having a plurality of control registers to store values, wherein the values represent interface parameter settings for a transceiver of the flash memory device, the memory controller comprising:
<div class="claim-text">a circuit to derive control values based on received parameter information pertaining to the flash memory; and</div>
<div class="claim-text">a circuit to transmit to the flash memory device, control values for storage in the plurality of control registers, the control values including:
<div class="claim-text">a first control value to program a receiver reference voltage for a receiver circuit on the flash memory device; and</div>
<div class="claim-text">a second control value to program a drive strength value for a transmitter of the flash memory device.</div>
</div>
</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    