
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US10397773B2 - Method and apparatus for allocating IP address in wireless communication network 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="patent-office" mxw-id="PA307950494">
<div class="abstract" id="p-0001" num="0000">A method and apparatus allocates an IP address between terminals in a wireless communication network in which terminals directly communicate with each other in a wireless scheme without an AP. The method for allocating an Internet Protocol (IP) address of a wireless terminal capable of performing P2P communication, includes a discovery step of discovering at least one external terminal capable of performing the P2P communication and connecting with the at least one discovered external terminal by the wireless terminal; and a negotiation step of negotiating and determining with the external terminal which external terminals become a group owner and a group client in a P2P group, respectively by the wireless terminal. One of the discovery step and the negotiation step includes transmitting an IP address to be allocated to the group client to the external terminal from the wireless terminal.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES200775340">
<heading id="h-0001">CROSS-REFERENCE TO RELATED APPLICATION(S) AND CLAIM OF PRIORITY</heading>
<div class="description-paragraph" id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 15/436,586, filed Feb. 17, 2017, which is a continuation of U.S. application Ser. No. 13/769,149, filed Feb. 15, 2013, now U.S. Pat. No. 9,578,494, which claims the benefit of Korean Patent Application No. 10-2012-0018777, filed on February 24, this disclosures of which are incorporated herein by reference into the present disclosure as if fully set forth herein.</div>
<heading id="h-0002">TECHNICAL FIELD OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0003" num="0002">The present disclosure relates to a method and an apparatus for allocating an Internet Protocol (hereinafter referred to as ‘IP’) address in a wireless communication network, and more particularly, to a method for allocating an IP address between terminals in a wireless communication network in which terminals directly communicate with each other in a wireless scheme without an access point (hereinafter referred to as ‘AP’), and an apparatus thereof.</div>
<heading id="h-0003">BACKGROUND OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0004" num="0003">Among wireless communication technologies, a wireless fidelity (hereinafter referred to ‘Wi-Fi’) direct network technology is a technology which enables Wi-Fi terminals to be connected to each other in a peer-to-peer (hereinafter referred to as ‘P2P’) fashion without an AP being a medium of an infrastructure network. Most of existing Wi-Fi technologies are aimed at only connecting with Internet through a Wireless Local Area Network (WLAN) AP, consideration of direct communication between terminals is insufficient. Direct communication between terminals may be achieved by a Bluetooth technology. However, performances in transmission distance and transmission speed sides of the Bluetooth technology is deteriorated as compared with the Wi-Fi Direct technology.</div>
<div class="description-paragraph" id="p-0005" num="0004">An existing Wi-Fi technology supports a mode in which direct communication between terminals is possible, which called an Ad-hoc mode. However, since the Ad-hoc mode is disadvantageous in that supplement is weak, power consumption is high, and throughput is limited to 11 Mbps, it is hardly used in actuality.</div>
<div class="description-paragraph" id="p-0006" num="0005">The Wi-Fi direct technology supports Wi-Fi Protected Access® 2 (WPA2) to supplement weakness of security. Further, the Wi-Fi Direct technology supports simple connection between terminals using a Wi-Fi Simple Configuration (hereinafter referred to ‘WSC’). Moreover, the Wi-Fi direct technology provides an improved power consumption algorithm by supporting IEEE 802.1 in to significantly improve throughput as compared with the Ad-hoc mode.</div>
<div class="description-paragraph" id="p-0007" num="0006">The Wi-Fi direct technology is a protocol manufactured based on IEEE 802.11, and is compatible with a legacy client. The Wi-Fi direct technology may be upgraded in a terminal without changing hardware.</div>
<div class="description-paragraph" id="p-0008" num="0007">Although the Wi-Fi direct technology has considerable advantages as illustrated above as compared with the Bluetooth and the Ad-hoc technology, there is a need for improvement in connection speed between terminals. The terminals perform an IP address allocation procedure after connection between the terminals is completed. That is, since the IP address allocation procedure is further performed after the connection between the terminals is completed, there is a limitation on improvement in connection speed. In particular, when one of the terminals is determined as a Group Owner (hereinafter referred to ‘GO’), a corresponding terminal performs an AP function. That is, the GO drives a Dynamic Host Configuration Protocol (hereinafter referred to ‘DHCP’) server to allocate an IP address to another terminal, namely, a group client (hereinafter referred to ‘GC’).</div>
<heading id="h-0004">SUMMARY OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0009" num="0008">To address the above-discussed deficiencies of the prior art, it is a primary object to provide a method for easily and rapidly allocating an IP address between terminals in a wireless communication network, and an apparatus thereof.</div>
<div class="description-paragraph" id="p-0010" num="0009">In accordance with an aspect of the present disclosure, a method for allocating an Internet Protocol (IP) address of a wireless terminal capable of performing P2P communication, includes: a discovery step of discovering at least one external terminal capable of performing the P2P communication and connecting with the at least one discovered external terminal by the wireless terminal; and a negotiation step of negotiating and determining with the external terminal which external terminals become a group owner and a group client in a P2P group by the wireless terminal, respectively, wherein one of the discovery step and the negotiation step includes transmitting an IP address to be allocated to the group client to the external terminal from the wireless terminal.</div>
<div class="description-paragraph" id="p-0011" num="0010">In accordance with another aspect of the present disclosure, an apparatus for allocating an Internet Protocol (IP) address of a wireless terminal capable of performing P2P communication, includes: a Wi-Fi module for supporting wireless communication based on an IP, and for performing a function of an access point or a station in the P2P communication; a controller for controlling the Wi-Fi module to transmit a frame for discovery of discovering external terminals and connecting with the at least one discovered external terminal by the wireless terminal, and a frame for negotiation of negotiating and determining with the external terminal which external terminals become a group owner performing a function of an access point and a group client performing a function of a station in a P2P group, respectively, and controlling the Wi-Fi module to transmit an IP address to be allocated to the group client to the external terminal during the negotiation.</div>
<div class="description-paragraph" id="p-0012" num="0011">Before undertaking the DETAILED DESCRIPTION OF THE INVENTION below, it may be advantageous to set forth definitions of certain words and phrases used throughout this patent document: the terms “include” and “comprise,” as well as derivatives thereof, mean inclusion without limitation; the term “or,” is inclusive, meaning and/or; the phrases “associated with” and “associated therewith,” as well as derivatives thereof, may mean to include, be included within, interconnect with, contain, be contained within, connect to or with, couple to or with, be communicable with, cooperate with, interleave, juxtapose, be proximate to, be bound to or with, have, have a property of, or the like; and the term “controller” means any device, system or part thereof that controls at least one operation, such a device may be implemented in hardware, firmware or software, or some combination of at least two of the same. It should be noted that the functionality associated with any particular controller may be centralized or distributed, whether locally or remotely. Definitions for certain words and phrases are provided throughout this patent document, those of ordinary skill in the art should understand that in many, if not most instances, such definitions apply to prior, as well as future uses of such defined words and phrases.</div>
<description-of-drawings>
<heading id="h-0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<div class="description-paragraph" id="p-0013" num="0012">For a more complete understanding of the present disclosure and its advantages, reference is now made to the following description taken in conjunction with the accompanying drawings, in which like reference numerals represent like parts:</div>
<div class="description-paragraph" id="p-0014" num="0013"> <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates a network configuration of a P2P group according to an exemplary embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0015" num="0014"> <figref idrefs="DRAWINGS">FIG. 2</figref> illustrates a flowchart of a P2P connection method according to an exemplary embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0016" num="0015"> <figref idrefs="DRAWINGS">FIG. 3</figref> illustrates a flowchart of discovery according to an exemplary embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0017" num="0016"> <figref idrefs="DRAWINGS">FIG. 4</figref> illustrates a flowchart of provision discovery according to an exemplary embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0018" num="0017"> <figref idrefs="DRAWINGS">FIG. 5</figref> illustrates a flowchart of a negotiation procedure according to an exemplary embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0019" num="0018"> <figref idrefs="DRAWINGS">FIG. 6</figref> illustrates a flowchart of a negotiation procedure according to another embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0020" num="0019"> <figref idrefs="DRAWINGS">FIG. 7</figref> illustrates a flowchart of a method for allocating an IP according to a first embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0021" num="0020"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates a flowchart of a method for allocating an IP according to a second embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0022" num="0021"> <figref idrefs="DRAWINGS">FIG. 9</figref> illustrates a flowchart of a method for allocating an IP according to a third embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0023" num="0022"> <figref idrefs="DRAWINGS">FIG. 10</figref> illustrates a flowchart of a method for allocating an IP according to a fourth embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0024" num="0023"> <figref idrefs="DRAWINGS">FIG. 11</figref> illustrates a flowchart of a method for allocating an IP according to a fifth embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0025" num="0024"> <figref idrefs="DRAWINGS">FIG. 12</figref> illustrates a diagram of an example of a GO Negotiation Confirmation frame according to an exemplary embodiment of the present disclosure;</div>
<div class="description-paragraph" id="p-0026" num="0025"> <figref idrefs="DRAWINGS">FIG. 13</figref> illustrates a flowchart of a method for allocating an IP according to a sixth embodiment of the present disclosure; and</div>
<div class="description-paragraph" id="p-0027" num="0026"> <figref idrefs="DRAWINGS">FIG. 14</figref> illustrates a block diagram of a configuration of a portable terminal according to an exemplary embodiment of the present disclosure.</div>
</description-of-drawings>
<heading id="h-0006">DETAILED DESCRIPTION OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0028" num="0027"> <figref idrefs="DRAWINGS">FIGS. 1 through 14</figref>, discussed below, and the various embodiments used to describe the principles of the present disclosure in this patent document are by way of illustration only and should not be construed in any way to limit the scope of the disclosure. Those skilled in the art will understand that the principles of the present disclosure may be implemented in any suitably arranged system or device.</div>
<div class="description-paragraph" id="p-0029" num="0028">A method and an apparatus for allocating an IP address according to exemplary embodiments of the present disclosure are described with reference to the accompanying drawings in detail. The same reference numbers are used throughout the drawings to refer to the same or like parts. Detailed descriptions of well-known functions and structures incorporated herein may be omitted to avoid obscuring the subject matter of the present disclosure.</div>
<div class="description-paragraph" id="p-0030" num="0029">As used herein, the term “terminal” refers to a peer to peer (P2P) device including a Wi-Fi direct technology acting as a GO and a GC in a Wi-Fi direct network. As used herein, the term “P2P group” refers to one terminal set configured by one GO and one or more GCs in the Wi-Fi direct network. The GC is connected to the GO. The GO communicates with a GC, and performs an AP function relaying communication between particularly GCS.</div>
<div class="description-paragraph" id="p-0031" num="0030"> <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates a network configuration of a P2P group according to an exemplary embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 1</figref>, the GO may connect with a plurality of GCS. The GO may connect with one GC. The number of admissible clients may be determined according to a performance of the GO. Such a performance may be a hardware performance and a software performance, which may be a charging rate of a battery as an example. When a battery of the GO is charged greater than 80%, the GO may be connected with four GCs as shown. If the charging rate of the battery is less than 50%, the GO may be connected with one GC. The number of the GCs connected with the GO may be determined by the user in environment setting of the terminal. The P2P device is a terminal including the Wi-Fi direct technology and may not be variously listed. However, for example, the P2P device may be a portable terminal (e.g., tablet PC, notebook PC), a printer, a projector, and a digital TV.</div>
<div class="description-paragraph" id="p-0032" num="0031"> <figref idrefs="DRAWINGS">FIG. 2</figref> illustrates a flowchart of a P2P connection method according to an exemplary embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 2</figref>, a P2P device discovers a neighboring P2P device, and performs connecting with the discovered P2P device (<b>210</b>). A purpose of the discovery is to discover P2P devices such that devices may connect with each other as soon as possible. The discovery includes a device discovery and a provision discovery. The device discovery is configured by two steps, namely, a scan step and a find step. A probe request frame and a probe response frame are used in the device discovery to exchange information between the devices. When the P2P device itself is a GO or in a listen state, the P2P device may respond to a probe request frame received from another P2P device. Further, the P2P device itself is a GO and may transmit a beacon frame. If the P2P device is not included in a group, the P2P device may be in a listen state. That is, the P2P device in the listen state responds to a received probe request frame.</div>
<div class="description-paragraph" id="p-0033" num="0032">The P2P device in the listen state selects a listen channel from a social channel list. For example, according to a Wi-Fi P2P Technical Specification suggested by the Wi-Fi Alliance Technical Committee, channels 1, 6, and 11 may be used as a social channel in 2.4 GHz band. For example, when channel 1 is selected, the P2P device may receive a probe request frame through the channel 1, but may not receive the probe request frame through other channels. When the device discovery starts, the listen channel may be selected and remain until the discovery is terminated. If a preset time elapses, the listen channel may be changed to another channel. A 2.4 GHz band is used and there are a total of 14 channels in the IEEE 802.11. An interval between channels is 5 MHz, each having a 22 MHz band. The channels are not independent from each other but overlap with each other. However, three channels 1, 6, and 11 among the 14 channels do not interfere with each other.</div>
<div class="description-paragraph" id="p-0034" num="0033">The scan step in the device discovery is a step of discovering a P2P device or a P2P group. Further, the scan step is a step of discovering the most suitable channel to set the P2P group. That is, in the scan step, the P2P device scans all supported channels to collect information from a neighboring device or network. In the scan step, the P2P device may not respond to a probe request frame.</div>
<div class="description-paragraph" id="p-0035" num="0034">The find step in the device discovery is a step which P2P devices existing in the same channel transceive a message to find each other. The P2P device waits for reception of the probe request frame in the listen state. When the probe request frame is received, the P2P device transmits a probe response frame to a P2P device of the other party. The P2P device may change the listen state to a discover state. In a discover state, the P2P device transmits the probe request frame and the P2P device of the other party receives the probe response frame in response to the probe request frame. The probe response frame includes a device name, device attribute information, and vendor information. The P2P device may display the information such that the user may confirm the information.</div>
<div class="description-paragraph" id="p-0036" num="0035">The P2P device discovered for each other through the device discovery may be connected to each other. First, the P2P device performs provision discovery with a P2P device of the other party wishing connection. When the P2P device attempts connection with a P2P device of the other party in a Personal Identification Number (PIN) or a Push Button Configuration (PBC) mode of WSC, the provision discovery informs a user of the connection attempt. The P2P device receives a provision discovery request frame for the provision discovery, and informs the user of message contents through a pop-up. The pop-up includes information of the P2P device having requested the provision discovery such as a device name. The requested use of the P2P device determines presence of admittance and a WSC of the connection. To inform the P2P device of the other party of the presence of admittance of the connection, the P2P device transmits a provision discovery response frame to the P2P device of the other party.</div>
<div class="description-paragraph" id="p-0037" num="0036">When the provision discovery is completed, the P2P device negotiates a function with the P2P device of the other party (<b>220</b>). In this procedure, a P2P device determined as the GO perform a function of the AP, and a P2P device determined as a GC perform a function of a station. In particular, in the present disclosure, in this procedure, the GC receives allocation of an IP address from the GO. The IP address may be a private IP address usable in a local area, namely, a corresponding P2P group. The P2P device stores a private IP address list. For instance, the private IP address may be “165.213.30.2˜254”. P2P devices in the P2P group transceives a massage to determine the GO. In this example, the message may include a private IP address. That is, the P2P device may select an optional private IP address from the private IP address list, and transmits a message including the selected private IP address to another P2P device. The P2P device determined as a GC from the P2P group sets a private IP address as the P2P device's IP address.</div>
<div class="description-paragraph" id="p-0038" num="0037">Negotiation of the function is completed, the P2P device exchanges information necessary for P2P communication, for example, a network key, an encryption type, a Service Set Identification (SSID), an Authentication type with the P2P device of the other party to complete P2P connection (<b>230</b>).</div>
<div class="description-paragraph" id="p-0039" num="0038"> <figref idrefs="DRAWINGS">FIG. 3</figref> illustrates a flowchart of discovery according to an exemplary embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 3</figref>, it is assumed that a first P2P device <b>310</b> and a second P2P device <b>320</b> participate in discovery. A user of the first P2P device <b>310</b> commands the first P2P device <b>310</b> to perform P2P connection (<b>311</b>). That is, the user operates an input unit included in the first P2P device <b>310</b>, for example, a touch screen for P2P connection. Then, the touch screen transfers an input touch event to a controller of a device. The controller detects the P2P connection, namely, a command of device discovery from the input touch event. The first P2P device <b>310</b> firstly performs scan in response to the command of the device discovery (<b>312</b>). For example, the first P2P device <b>310</b> scans channels 1, 6, and 11 of IEEE 802.11 to collect information from a neighboring P2P device. After completing the scan, the first P2P device <b>310</b> performs a find step. Meanwhile, a user of the second P2P device <b>320</b> commands the second P2P device <b>320</b> to perform the discovery (<b>321</b>). Accordingly, the second P2P device <b>320</b> firstly performs scan in response to a command of the user (<b>322</b>). After completing the scan, the second P2P device <b>320</b> performs a find step.</div>
<div class="description-paragraph" id="p-0040" num="0039">The first P2P device <b>320</b> enters a listen state (<b>313</b>). The first P2P device <b>310</b> selects channel 1 as the listen channel. If a preset time elapses, the first P2P device <b>320</b> enters a discover state (<b>314</b>). The first P2P device <b>310</b> firstly selects channel 1 to transmit a probe request frame in the discover state. When there is no response, the first P2P device <b>310</b> selects channel 6 to transmit the probe request frame. In this example, the second P2P device <b>320</b> is in a listen state with respect to channel 6. Accordingly, the second P2P device <b>320</b> receives a probe request frame through channel 6, and transmits a probe response frame through the channel 6 in response thereto. The first P2P device <b>310</b> receives a probe response frame through the channel 6. The first P2P device <b>310</b> displays information of the probe response frame, for example, a device name, device attribute information, vendor information such that the user may confirm the foregoing information. The user may determine presence of admittance of connection based on the information.</div>
<div class="description-paragraph" id="p-0041" num="0040"> <figref idrefs="DRAWINGS">FIG. 4</figref> illustrates a flowchart of provision discovery according to an exemplary embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 4</figref>, it is assumed that a first P2P device <b>410</b> and a second P2P device <b>420</b> participate in provision discovery. The first P2P device <b>410</b> and the second P2P device <b>420</b> discovered to each other through the device discovery may be connected to each other. A user of the first P2P device <b>410</b> commands the first P2P device <b>410</b> to admit connection. For example, the user operates an input unit included in the first P2P device <b>310</b>, for example, a touch screen for P2P connection. Then, the touch screen transfers an input touch event to a controller of a device. The controller detects admittance of connection, namely, a command of device discovery from the input touch event.</div>
<div class="description-paragraph" id="p-0042" num="0041">The first P2P device <b>410</b> firstly transmits a provision discovery request frame to the second P2P device <b>420</b> in response to the command of the provision discovery (<b>401</b>). In this example, the provision discovery request frame includes an IP address. The IP address in the provision discovery request frame may be a private IP address. Particularly, the private IP address included in the provision discovery request frame may be one of “165.213.30.2˜254”.</div>
<div class="description-paragraph" id="p-0043" num="0042">The second P2P device <b>420</b> transmits a provision discovery response frame to the first P2P device <b>410</b> in response to reception of the provision discovery request frame (<b>402</b>). In this example, according to the present disclosure, the provision discovery response frame may include an IP address, namely, a private IP address.</div>
<div class="description-paragraph" id="p-0044" num="0043"> <figref idrefs="DRAWINGS">FIG. 5</figref> illustrates a flowchart of a negotiation procedure according to an exemplary embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 5</figref>, the first P2P device <b>510</b> and the second P2P device <b>520</b> are in a state which perform discovery to find each other. The first P2P device <b>510</b> transmits a GO Negotiation Request frame to the second P2P device <b>520</b> (<b>510</b>). According to the present disclosure, the GO negotiation request frame includes a P2P Information Element (IE), WSC information (IE), an IP address.</div>
<div class="description-paragraph" id="p-0045" num="0044">The IP address of the GO negotiation request frame may be private IP address. The IP address of the GO negotiation request frame may be one of “165.213.30.2˜254”.</div>
<div class="description-paragraph" id="p-0046" num="0045">That is, the first P2P device <b>510</b> may optionally select one private IP address from a private IP address list, and transmits the GO negotiation request frame including the selected private IP address. However, for example, “165.213.30.2˜10” is a share to be allocated to a third P2P device, and may be excluded in the selection. Here, the third P2P device is a P2P device requesting entry to a P2P group as a P2P client after negotiation is completed. That is, a P2P device determined as the GO may allocate one of the “165.213.30.2˜10” to the third P2P device.</div>
<div class="description-paragraph" id="p-0047" num="0046">The P2P information of the GO negotiation frame may include device information, a Configuration Timeout, a Listen Channel, a listen channel list, and a Group Owner Intent (hereinafter referred to as ‘GOI’). Here, the GOI is a numeric value indicating intention of a P2P device, namely, a first P2P device <b>510</b> having transmitted a corresponding message becoming a GO. That is, when the GOI value is great, there is a great possibility which a corresponding P2P device is determined as a GO. The range of the GOI may previously be set. For example, 0˜15 may be the range of the GOI. A P2P device selects a value from the GOI range based on the P2P device's performance, in a GO negotiation request frame, and transmits the GO negotiation request frame including the selected value. For example, when the P2P device receives power supply from a notebook PC and an external commercial power supply, the P2P device may select <b>15</b> as the GOI.</div>
<div class="description-paragraph" id="p-0048" num="0047">The second P2P device <b>520</b> receives a GO negotiation request frame from a first P2P device <b>510</b>, and transmits a GO negotiation response frame in response thereto (<b>502</b>). According to the present disclosure, the GO negotiation response frame includes a P2P Information Element (IE), WSC information (IE), and an IP address.</div>
<div class="description-paragraph" id="p-0049" num="0048">As describe above, an IP address of the GO negotiation response frame may be a private IP address. Particularly, the private IP address included in the GO negotiation response frame may be one of “165.213.30.2˜254”. However, “165.213.30.2˜10” may be omitted because of the foregoing reason. P2P information of the GO negotiation response frame may include device information, a Configuration Timeout, a Listen Channel, a listen channel list, and a GOI.</div>
<div class="description-paragraph" id="p-0050" num="0049">As described above, the first P2P device <b>510</b> and the second P2P device <b>520</b> exchange the GOI to determine the GO. For example, when the GOI selected by the first P2P device <b>510</b> is 10 and the GOI selected by the second P2P device <b>520</b> is 5, the first P2P device <b>510</b> is determined as the GO and the second P2P device <b>520</b> is determined as a GC. Accordingly, the first P2P device <b>510</b> performs a function of an AP in a corresponding P2P group, and the second P2P device <b>520</b> performs a function of a station in the corresponding P2P group. Further, because the first P2P device <b>510</b> is determined as the GO, the second P2P device <b>520</b> allocates an IP address received from the first P2P device <b>510</b> as the second P2P device's <b>520</b> IP address.</div>
<div class="description-paragraph" id="p-0051" num="0050">The first P2P device <b>510</b> transmits a GO Negotiation Confirmation Frame to the second P2P device <b>520</b> to notify that the second P2P device <b>520</b> is determined as the GC (<b>503</b>).</div>
<div class="description-paragraph" id="p-0052" num="0051"> <figref idrefs="DRAWINGS">FIG. 6</figref> illustrates a flowchart of a negotiation procedure according to another embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 6</figref>, the first P2P device <b>610</b> and the second P2P device <b>620</b> are in a state which perform discovery to find each other. The first P2P device <b>610</b> transmits a GO Negotiation Request frame to the second P2P device <b>620</b> (<b>610</b>). According to the present disclosure, the GO negotiation request frame includes a P2P Information Element (hereinafter referred to as ‘IE’), and WSC IE. The P2P information of the GO negotiation frame may include device information, a Configuration Timeout, a Listen Channel, a listen channel list, and a GOI. Here, the GOI is a numeric value indicating intention of a P2P device, namely, a first P2P device <b>610</b> having transmitted a corresponding message becoming a GO. The GOI was described above.</div>
<div class="description-paragraph" id="p-0053" num="0052">The second P2P device <b>620</b> receives a GO negotiation request frame from a first P2P device <b>610</b>, and transmits a GO negotiation response frame in response thereto (<b>602</b>). According to the present disclosure, the GO negotiation response frame includes a P2P IE and a WSC IE.</div>
<div class="description-paragraph" id="p-0054" num="0053">As described above, the first P2P device <b>610</b> and the second P2P device <b>620</b> exchange the GOI to determine the GO. For example, the GOI selected by the first P2P device <b>610</b> is greater than that selected by the second P2P device <b>620</b>, so that the first P2P device <b>610</b> may be determined as a GO. Accordingly, the first P2P device <b>610</b> performs a function of an AP in a corresponding P2P group, and the second P2P device <b>620</b> performs a function of a station in the corresponding P2P group.</div>
<div class="description-paragraph" id="p-0055" num="0054">The first P2P device <b>610</b> transmits a GO Negotiation Confirmation Frame the second P2P device <b>620</b> to notify that the second P2P device <b>520</b> is determined as the GC (<b>603</b>). In particular, according to the present disclosure, the GO Negotiation Confirmation Frame may include an IP address. Here, as described above, the IP address may be a private IP address. The second P2P device <b>620</b> allocates an IP address received from the first P2P device <b>610</b> determined as the GO as the second P2P device's <b>520</b> IP address.</div>
<div class="description-paragraph" id="p-0056" num="0055">Hereinafter, various embodiments of a method for allocating an IP according to the present disclosure will be described with reference to <figref idrefs="DRAWINGS">FIGS. 7 to 13</figref>. It is apparent that a method for allocating an IP address according to the present disclosure is not limited to following embodiments. Prior to the description, for convenience of the description, P2P devices participating in negotiation are limited to a first P2P device and a second P2P device. It is apparent that a main body of the description in <figref idrefs="DRAWINGS">FIGS. 7 to 9</figref> is a first P2P device.</div>
<div class="description-paragraph" id="p-0057" num="0056"> <figref idrefs="DRAWINGS">FIG. 7</figref> illustrates a flowchart of a method for allocating an IP according to a first embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 7</figref>, a first P2P device selects a GOI value X<sub>1 </sub>from a preset GOI range (e.g., 0˜15) (<b>701</b>). Further, the first P2P device selects an optional IP address from a private IP address list (<b>701</b>). The first P2P device transmits the selected GOI value X<sub>1 </sub>and IP address to the second P2P device (<b>702</b>). In this example, the X<sub>1 </sub>and IP address may be transmitted to be included in a GO negotiation request frame or a GO negotiation response frame. The first P2P device receives a GOI value X<sub>2 </sub>and an IP address from the second P2P device (<b>703</b>). Here, the GOI value X<sub>2 </sub>and IP address are already received, step <b>703</b> is omitted.</div>
<div class="description-paragraph" id="p-0058" num="0057">The first P2P device determines whether the received GOI value X<sub>2 </sub>is identical with the transmitted GOI value X<sub>1 </sub>(<b>704</b>). When the received GOI value X<sub>2 </sub>is identical with the transmitted GOI value X<sub>1</sub>, negotiation fails. Accordingly, the first P2P device and the second P2P device may again exchange the GOI value. In this example, the IP address may be again exchanged or not.</div>
<div class="description-paragraph" id="p-0059" num="0058">When the received GOI value X<sub>2 </sub>differs from the transmitted GOI value X<sub>1</sub>, the first P2P determines whether the received GOI value X<sub>2 </sub>is greater than the transmitted GOI value X<sub>1 </sub>(<b>705</b>). When the received GOI value X<sub>2 </sub>is greater the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GC (<b>706</b>). The first P2P device allocates the received IP address as the first P2P device's IP address (<b>707</b>). Accordingly, the first P2P device may perform a function of the station. In the meantime, the second P2P device determines itself as a GO. Accordingly, the second P2P device may perform a function of an AP. When the received GOI value X<sub>2 </sub>is less than the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GO (<b>708</b>). Further, the second P2P device determines itself as a GC.</div>
<div class="description-paragraph" id="p-0060" num="0059"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates a flowchart of a method for allocating an IP according to a second embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 8</figref>, a first P2P device selects a GOI value X<sub>1 </sub>from a preset GOI range (e.g., 0˜15) (<b>801</b>). The first P2P device transmits the selected GOI value X<sub>1 </sub>to the second P2P device (<b>802</b>). In this example, the X<sub>1 </sub>may be transmitted to be included in a GO owner negotiation request frame or a GO negotiation response frame. The first P2P device receives a GOI value X<sub>2 </sub>from the second P2P device (<b>803</b>). Here, the GOI value X<sub>2 </sub>is already received, step <b>803</b> is omitted.</div>
<div class="description-paragraph" id="p-0061" num="0060">The first P2P device determines whether the received GOI value X<sub>2 </sub>is identical with the transmitted GOI value X<sub>1 </sub>(<b>804</b>). When the received GOI value X<sub>2 </sub>is identical with the transmitted GOI value X<sub>1</sub>, negotiation fails. Accordingly, the first P2P device and the second P2P device may again exchange the GOI value.</div>
<div class="description-paragraph" id="p-0062" num="0061">When the received GOI value X<sub>2 </sub>differs from the transmitted GOI value X<sub>1</sub>, the first P2P device determines whether the received GOI value X<sub>2 </sub>is greater than the transmitted GOI value X<sub>1 </sub>(<b>805</b>). When the received GOI value X<sub>2 </sub>is greater the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GC (<b>806</b>). After that, the first P2P device receives an IP address from the second P2P device, and allocates the received IP address as the first P2P device's IP address (<b>807</b>). The IP address may be received to be included in the GO negotiation confirmation frame.</div>
<div class="description-paragraph" id="p-0063" num="0062">When the received GOI value X<sub>2 </sub>is less than the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GO (<b>808</b>). The first P2P device selects an optional IP address from a private IP address list, and transmits the selected IP address to the second P2P device (<b>809</b>).</div>
<div class="description-paragraph" id="p-0064" num="0063"> <figref idrefs="DRAWINGS">FIG. 9</figref> illustrates a flowchart of a method for allocating an IP according to a third embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 9</figref>, a first P2P device selects a GOI value X<sub>1 </sub>from a preset GOI range (e.g., 0˜15) (<b>901</b>). Further, the first P2P device selects an optional IP address from a private IP address list (<b>901</b>). In addition, the first P2P device selects a tie break value T<sub>1 </sub>(<b>901</b>). Here, the tie break is a value used to determine a GO when GOI values collide (are identical) with each other. The tie break value may be in an ascending or descending sequence in a preset range. For example, when the first P2P device preempts ‘0’ as the tie break value, the second P2P device may select ‘1’ being a next value as the tie break value.</div>
<div class="description-paragraph" id="p-0065" num="0064">The first P2P device transmits the selected GOI value X<sub>1</sub>, tie break value T<sub>1</sub>, and IP address to the second P2P device (<b>902</b>). In this example, the X<sub>1</sub>, T<sub>1</sub>, and IP address may be transmitted to be included in a GO negotiation request frame or a GO negotiation response frame. In this example, the T<sub>1 </sub>may not be transmitted to be included in a GO negotiation request frame or a GO negotiation response frame. That is, the tie break value may not be exchanged between two P2P devices. In other words, because a P2P device of the two P2P devices having transmitted a request frame preempts the tie break value, exchange of the tie break value may not be necessary.</div>
<div class="description-paragraph" id="p-0066" num="0065">The first P2P device receives a GOI value X<sub>2</sub>, a tie break value T<sub>2</sub>, and an IP address from the second P2P device (<b>903</b>). Here, the GOI value X<sub>2</sub>, tie break value T<sub>2</sub>, and IP address are already received, step <b>903</b> is omitted. A tie break value T<sub>2 </sub>may not be received.</div>
<div class="description-paragraph" id="p-0067" num="0066">The first P2P device determines whether the received GOI value X<sub>2 </sub>is identical with the transmitted GOI value X<sub>1 </sub>(<b>904</b>). When the received GOI value X<sub>2 </sub>differs from the transmitted GOI value X<sub>1</sub>, the first P2P determines whether the received GOI value X<sub>2 </sub>is greater than the transmitted GOI value X<sub>1 </sub>(<b>905</b>). When the received GOI value X<sub>2 </sub>is greater the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GC (<b>906</b>). Further, the second P2P device determines itself as a GO. The first P2P device allocates a received IP address as the first P2P device's IP address (<b>907</b>).</div>
<div class="description-paragraph" id="p-0068" num="0067">When the received GOI value X<sub>2 </sub>is less than the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GO (<b>908</b>). Further, the second P2P device determines itself as a GC.</div>
<div class="description-paragraph" id="p-0069" num="0068">When the received GOI value X2 is identical with the transmitted GOI value X1, the first P2P device determines whether the X1 and X2 are less than 15 (here, 15 is a maximum value of the GOI range) (<b>909</b>). When the X1 and X2 are 15, exchange of the GOI value may be again performed. Although both of the X1 and X2 are 15, the process may go to step <b>910</b>. That is, step <b>909</b> may be omitted.</div>
<div class="description-paragraph" id="p-0070" num="0069">When both of the X<sub>1 </sub>and X<sub>2 </sub>are less than 15, the first P2P device compares the T<sub>2 </sub>with the T<sub>1</sub>, and determines a function thereof based on the comparison result (<b>910</b>). That is, when the T<sub>1 </sub>is greater than T<sub>2</sub>, the first and second P2P devices may be determined as a GO and a GC, respectively. Conversely, when the first and second P2P devices may be determined as a GC and a GO, respectively.</div>
<div class="description-paragraph" id="p-0071" num="0070">When the first P2P2 device is determined as the GC through the comparison result of the T<sub>2 </sub>with the T<sub>1</sub>, the first P2P device allocates the received IP address as the first P2P device's IP address (<b>911</b>). When the first P2P device is determined as the GO, step <b>911</b> is omitted.</div>
<div class="description-paragraph" id="p-0072" num="0071"> <figref idrefs="DRAWINGS">FIG. 10</figref> illustrates a flowchart of a method for allocating an IP according to a fourth embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 10</figref>, a first P2P device selects a GOI value X<sub>1 </sub>from a preset GOI range (e.g., 0˜15) (<b>1001</b>). Further, the first P2P device selects a tie break value T<sub>1 </sub>(<b>1001</b>). The tie break value may be in an ascending or descending sequence in a preset range.</div>
<div class="description-paragraph" id="p-0073" num="0072">The first P2P device transmits the selected GOI value X<sub>1 </sub>and tie break value T<sub>1 </sub>to the second P2P device (<b>1002</b>). In this example, the X<sub>1 </sub>and T<sub>1 </sub>may be transmitted to be included in a GO negotiation request frame or a GO negotiation response frame. In this example, the T<sub>1 </sub>may not be transmitted to be included in a GO negotiation request frame or a GO negotiation response frame. That is, the tie break value may not be exchanged between two P2P devices.</div>
<div class="description-paragraph" id="p-0074" num="0073">The first P2P device receives a GOI value X<sub>2 </sub>and a tie break value T<sub>2 </sub>from the second P2P device (<b>1003</b>). Here, the GOI value X<sub>2 </sub>and the tie break value T<sub>2 </sub>are already received, step <b>1003</b> is omitted. A tie break value T<sub>2 </sub>may not be received.</div>
<div class="description-paragraph" id="p-0075" num="0074">The first P2P device determines whether the received GOI value X<sub>2 </sub>is identical with the transmitted GOI value X<sub>1 </sub>(<b>1004</b>). When the received GOI value X<sub>2 </sub>differs from the transmitted GOI value X<sub>1</sub>, the first P2P determines whether the received GOI value X<sub>2 </sub>is greater than the transmitted GOI value X<sub>1 </sub>(<b>1005</b>). When the received GOI value X<sub>2 </sub>is greater the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GC (<b>1006</b>). Further, the second P2P device determines itself as a GO. The first P2P device receives an IP address from the second P2P device and allocates a received IP address as the first P2P device's IP address (<b>1007</b>). The IP may be received to be included in a GO negotiation confirmation frame.</div>
<div class="description-paragraph" id="p-0076" num="0075">When the received GOI value X<sub>2 </sub>is less than the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GO (<b>1008</b>). Further, the second P2P device determines itself as a GC. Further, the first P2P device selects an optional IP address from a private IP address list and transmits the selected IP address to the second P2P device (<b>1009</b>).</div>
<div class="description-paragraph" id="p-0077" num="0076">When the received GOI value X<sub>2 </sub>is identical with the transmitted GOI value X<sub>1</sub>, the first P2P device determines whether the X<sub>1 </sub>and X<sub>2 </sub>are less than 15 (here, 15 is a maximum value of the GOI range) (<b>1010</b>). When the X<sub>1 </sub>and X<sub>2 </sub>are 15, exchange of the GOI value may be again performed. Although both of the X<sub>1 </sub>and X<sub>2 </sub>are 15, the process may go to step <b>1011</b>. That is, step <b>1010</b> may be omitted.</div>
<div class="description-paragraph" id="p-0078" num="0077">When both of the X<sub>1 </sub>and X<sub>2 </sub>are less than 15, the first P2P device compares the T<sub>2 </sub>with the T<sub>1</sub>, and determines a function thereof based on the comparison result (<b>1011</b>). That is, when the T<sub>1 </sub>is greater than T<sub>2</sub>, the first and second P2P devices may be determined as a GO and a GC, respectively. Conversely, when the first and second P2P devices may be determined as a GC and a GO, respectively.</div>
<div class="description-paragraph" id="p-0079" num="0078">When the first P2P2 device is determined as the GC through the comparison result of the T<sub>2 </sub>with the T<sub>1</sub>, the first P2P device allocates the received IP address as the first P2P device's IP address (<b>1012</b>). Meanwhile, when the first P2P device is determined as the GO, the first P2P device selects an optional IP address from a private IP address list and transmits the selected optional IP address to the second P2P device (<b>1012</b>).</div>
<div class="description-paragraph" id="p-0080" num="0079"> <figref idrefs="DRAWINGS">FIG. 11</figref> illustrates a flowchart of a method for allocating an IP according to a fifth embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 11</figref>, a first P2P device selects a GOI value X<sub>1 </sub>from a preset GOI range (e.g., 0˜15) (<b>1101</b>). The first P2P device transmits the selected GOI value X<sub>1 </sub>to the second P2P device (<b>1102</b>). In this example, the X<sub>1 </sub>may be transmitted to be included in a GO negotiation request frame or a GO negotiation response frame. The first P2P device receives a GOI value X<sub>2 </sub>from the second P2P device (<b>1103</b>). Here, the GOI value X<sub>2 </sub>is already received, step <b>1103</b> is omitted.</div>
<div class="description-paragraph" id="p-0081" num="0080">The first P2P device determines whether the received GOI value X<sub>2 </sub>is identical with the transmitted GOI value X<sub>1 </sub>(<b>1104</b>). When the received GOI value X<sub>2 </sub>is identical with the transmitted GOI value X<sub>1</sub>, the first P2P device and the second P2P device may again exchange the GOI value.</div>
<div class="description-paragraph" id="p-0082" num="0081">When the received GOI value X<sub>2 </sub>differs from the transmitted GOI value X<sub>1</sub>, the first P2P determines whether the received GOI value X<sub>2 </sub>is greater than the transmitted GOI value X<sub>1 </sub>(<b>1105</b>). When the received GOI value X<sub>2 </sub>is greater the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GC (<b>1106</b>). After that, the first P2P device receives an IP address from the second P2P device, and allocates the received IP address as the first P2P device's IP address (<b>1107</b>). Here, the IP address is received from the second P2P device through provision discovery. Meanwhile, the second P2P device determines itself as a GO.</div>
<div class="description-paragraph" id="p-0083" num="0082">When the received GOI value X<sub>2 </sub>is less than or equal to the transmitted GOI value X<sub>1</sub>, the first P2P device determines itself as a GO (<b>1108</b>). Further, the second P2P device determines itself as a GC.</div>
<div class="description-paragraph" id="p-0084" num="0083"> <figref idrefs="DRAWINGS">FIG. 12</figref> illustrates a diagram of an example of a GO Negotiation Confirmation frame according to an exemplary embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 12</figref>, a GO negotiation confirmation frame may include a vendor specific <b>1210</b>. Further, the vendor specific <b>1210</b> may include a private IP address <b>1020</b>, for instance, “165.213.30.23”. That is, the P2P device may select one from “165.213.30.2˜254” and includes the selected IP address in a GO negotiation confirmation frame, and transmit the GO negotiation confirmation frame to a P2P device of the other party. The P2P device may include the selected IP address in a GO negotiation request frame or a GO owner negotiation response frame, and the corresponding to the P2P device of the other party. For example, “165.213.30.2˜10” is a share to be allocated to a third P2P device, and may be excluded in the selection.</div>
<div class="description-paragraph" id="p-0085" num="0084"> <figref idrefs="DRAWINGS">FIG. 13</figref> illustrates a flowchart of a method for allocating an IP according to a sixth embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 13</figref>, a first P2P device <b>1310</b> is in a state completing connection with a second P2P device (not shown) through discovery and negotiation procedures. Further, the first P2P device <b>1310</b> is in a state determined as a GO in the negotiation procedure. Further, the first P2P device <b>1310</b> and a third P2P device <b>1320</b> are in a state discovered through the device discovery. The third P2P device <b>1320</b> transmits a provision discovery request frame to the first P2P device <b>1310</b> in this state (<b>1301</b>). The first P2P device <b>1310</b> transmits a provision discovery response frame to the third P2P device <b>1320</b> in response to reception of the provision discovery request frame (<b>1302</b>). In this example, according to the present disclosure, the provision discovery response frame may include an IP address, particularly, a private IP address. The third P2P device <b>1320</b> allocates the received IP address as the third P2P device's IP address and participates in a P2P group in which the first P2P device <b>1310</b> is a GO.</div>
<div class="description-paragraph" id="p-0086" num="0085">As described above, the P2P device according to the present disclosure is applicable of electronic device in the various forms. In particular, the P2P device of the present disclosure is applicable to a portable terminal. It will be apparent that the portable terminal is applicable to various information and communication devices and multi-media device such as a portable phone, a smart phone, a tablet PC, a net book PC, a notebook PC, a Portable Multimedia Player (PMP), an electronic book (e-book) reader, a Personal Digital Assistant (PDA), a digital broadcasting player, a music player (e.g., MP3 player), a portable game terminal, and application devices thereof.</div>
<div class="description-paragraph" id="p-0087" num="0086"> <figref idrefs="DRAWINGS">FIG. 14</figref> illustrates a block diagram of a portable terminal according to an exemplary embodiment of the present disclosure. Referring to <figref idrefs="DRAWINGS">FIG. 14</figref>, a portable terminal <b>1400</b> according to the present disclosure may include a touch screen <b>1410</b>, a key input unit <b>1420</b>, a display unit <b>1430</b>, a memory <b>1440</b>, a radio frequency (RF) communication unit <b>1450</b>, and a controller <b>1460</b>.</div>
<div class="description-paragraph" id="p-0088" num="0087">The touch screen <b>1410</b> is mounted in front of the display unit <b>1430</b>, generates a touch event in response to a user gesture input to the touch screen <b>1410</b>, and transfers the generated touch event to the controller <b>1460</b>. Accordingly, the controller <b>1460</b> may detect the touch event input from the touch screen <b>1410</b> to control the foregoing components.</div>
<div class="description-paragraph" id="p-0089" num="0088">The key input unit <b>1420</b> may include a plurality of input keys and function keys for receiving input of numerals and character information and for setting various functions. The key input unit <b>1420</b> generates and transfers a key signal associated with user setting and function control of the portable terminal <b>1400</b> to the controller <b>1460</b>. The controller <b>1460</b> controls the foregoing components in response to the key signal.</div>
<div class="description-paragraph" id="p-0090" num="0089">The display unit <b>1430</b> converts image data input from the controller <b>1460</b> into an analog signal, and displays the analog signal under control of the controller <b>1460</b>. That is, the display unit <b>1430</b> may provide various screens according to use of the portable terminal, for example, a lock screen, a home screen, an application execution screen, a menu screen, a keypad screen a message creation screen, and an Internet screen. The display unit <b>1430</b> may be configured by a flat panel display such as a Liquid Crystal Display (LCD), an Organic Light Emitted Diode (OLED), or an Active Matrix Organic Light Emitted Diode (AMOLED).</div>
<div class="description-paragraph" id="p-0091" num="0090">The memory <b>1440</b> may store an operating system (OS), applications necessary for the disclosure, and various data. The memory <b>1440</b> may chiefly include a program area and a data area. The data area of the memory <b>140</b> may store data generated by the portable terminal <b>1400</b> or data downloaded from the outside, namely, images, documents, video, messages, mails, music, and effect sounds. Further, the data area may store the screen displayed on the display unit <b>1430</b>. Moreover, the data area may temporarily store data which the user copies messages, photographs, web pages, or documents for copy and paste. In addition, the data area may store various setting values (e.g., screen brightness, presence of vibration when a touch occurs, presence of automatic rotation of a screen) for operating the portable terminal. Further, the data area may include a private IP address list <b>1441</b>. The program area of the memory <b>1440</b> may store an operating system (OS) for booting the portable terminal and the foregoing components, and various applications. In particular, the program area stores programs associated with an operation and control of a Wi-Fi direct terminal such as device discovery, provision discovery, and negotiation.</div>
<div class="description-paragraph" id="p-0092" num="0091">The RF communication unit <b>1450</b> performs a voice call, an image call or data communication under control of the controller <b>1460</b>. To do this, the RF communication unit <b>1450</b> may include an RF transmitter up-converting a frequency of a transmitted signal and amplifying the signal and an RF receiver low-noise-amplifying a received signal and down-converting the signal. Further, the RF communication unit <b>1450</b> may include mobile communication modules (e.g., a 3-Generation mobile communication module, a 3.5-Generation mobile communication module, or a 4-Generation mobile communication module, etc.) and a Wi-Fi module.</div>
<div class="description-paragraph" id="p-0093" num="0092">The Wi-Fi module <b>1451</b> supports wireless communication based on an IP of the portable terminal <b>1400</b>. In the present disclosure, the Wi-Fi module <b>1451</b> performs a function of an AP or a station under control of the controller <b>1460</b>. In other words, the Wi-Fi module <b>1451</b> acts as a GO or a GC under control of the controller <b>1460</b>.</div>
<div class="description-paragraph" id="p-0094" num="0093">The Wi-Fi module <b>1451</b> performs device discovery, provision discovery, and negotiation. Particularly, the Wi-Fi module <b>1451</b> may include an IP address in a Provision Discovery Request Frame, a Provision Discovery Response Frame, a GO Negotiation Request Frame, a GO Negotiation Response Frame, or a GO Negotiation Configuration Frame, and transmit the corresponding frame under control of the controller <b>1460</b>. Further, the Wi-Fi module <b>1451</b> may receive the IP address included in the Provision Discovery Request Frame, the Provision Discovery Response Frame, the GO Negotiation Request Frame, the GO Negotiation Response Frame, or the GO Negotiation Configuration Frame, and transfer the received IP address to the controller <b>1460</b>.</div>
<div class="description-paragraph" id="p-0095" num="0094">The controller <b>1460</b> controls an overall operation of the portable terminal <b>1400</b>, signal flow between internal components of the portable terminal <b>1400</b>, and processes data. Further, the controller <b>1460</b> controls power supply to the internal components in a battery. Moreover, the controller <b>1460</b> executes various applications stored in the program area.</div>
<div class="description-paragraph" id="p-0096" num="0095">The controller <b>1460</b> may receive an event from the touch screen <b>1410</b> or the key input unit <b>1420</b>, and detect command of the discovery from the received event. The controller <b>1460</b> controls the Wi-Fi module <b>1451</b> to perform the device discovery in response to the command of device discovery. The controller <b>1460</b> controls the Wi-Fi module <b>1451</b> to perform the provision discovery in response to the command of the provision discovery.</div>
<div class="description-paragraph" id="p-0097" num="0096">The controller <b>1460</b> may select a private IP address to be transmitted from a private IP address list <b>1441</b>, and control the Wi-Fi module <b>1451</b> to transmit the selected private IP address. The controller <b>1460</b> may receive the private IP address from an external device, namely, a P2P device through the Wi-Fi module <b>1451</b>. As a negotiation result, when the portable terminal <b>1400</b> is determined as a GC, the controller <b>1460</b> allocates the received private IP address as an IP address of the portable terminal <b>1400</b>, and operates the Wi-Fi module <b>1451</b> as a GC. As a negotiation result, when the portable terminal <b>1400</b> is determined as a GO, the controller <b>1460</b> operates the Wi-Fi module <b>1451</b> as a GO.</div>
<div class="description-paragraph" id="p-0098" num="0097">Meanwhile, although the structural elements can be variously changed according to convergence trend of a digital device, no elements can be listed. However, the portable terminal <b>1400</b> may further include constructions that are not mentioned such as a digital broadcasting module (e.g., DMB module), a GPS module, and a camera module. The terminal <b>1400</b> of the present disclosure may be substituted by specific constructions in the foregoing arrangements according to the provided form.</div>
<div class="description-paragraph" id="p-0099" num="0098">The foregoing method for allocating an Internet Protocol address of the present disclosure may be implemented in an executable program command form by various computer means and be recorded in a computer readable recording medium. In this example, the computer readable recording medium may include a program command, a data file, and a data structure individually or a combination thereof. In the meantime, the program command recorded in a recording medium may be specially designed or configured for the present disclosure or be known to a person having ordinary skill in a computer software field to be used. The computer readable recording medium includes Magnetic Media such as hard disk, floppy disk, or magnetic tape, Optical Media such as Compact Disc Read Only Memory (CD-ROM) or Digital Versatile Disc (DVD), Magneto-Optical Media such as optical disk, and a hardware device such as ROM. RAM, flash memory storing and executing program commands. Further, the program command includes a machine language code created by a complier and a high-level language code executable by a computer using an interpreter. The foregoing hardware device may be configured to be operated as at least one software module to perform an operation of the present disclosure.</div>
<div class="description-paragraph" id="p-0100" num="0099">The present disclosure provides a method for easily and rapidly allocating an IP address between terminals in a wireless communication network, and an apparatus thereof. The present disclosure can allocate an IP address without driving a DHCP server. Therefore, connection speed and usability between terminals are improved.</div>
<div class="description-paragraph" id="p-0101" num="0100">Although a method and apparatus for allocating an IP address according to exemplary embodiments of the present disclosure have been described in detail hereinabove, it should be clearly understood that many variations and modifications of the basic inventive concepts herein taught which may appear to those skilled in the present art will still fall within the spirit and scope of the present disclosure, as defined in the appended claims.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">20</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM194440832">
<claim-statement>What is claimed is:</claim-statement>
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. A method of operating a portable electronic device, the method comprising:
<div class="claim-text">determining a peer to peer communication group comprising a group owner device and one or more group client devices;</div>
<div class="claim-text">detecting, via a short range wireless communication, at least one external electronic device that is grouped with the portable electronic device in the peer to peer communication group;</div>
<div class="claim-text">performing, without using a dynamic host configuration protocol server, a connection based upon an internet protocol (IP) address to be used by the at least one external electronic device,
<div class="claim-text">wherein the IP address is determined from one or more IP addresses stored in a memory of the portable electronic device based at least in part on a determination that the portable electronic device is assigned as the group owner device and that the at least one external electronic device is assigned as one of the one or more group client devices; and</div>
</div>
<div class="claim-text">transmitting, via the short range wireless communication, the IP address to the at least one external electronic device that is grouped with the portable electronic device in the peer to peer communication group before the connection is completed for exchanging content between the at least one external electronic device and the portable electronic device in the peer to peer communication group.</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. An electronic device comprising:
<div class="claim-text">communication circuitry configured to perform a short range wireless communication;</div>
<div class="claim-text">a memory operably connected to the communication circuitry; and</div>
<div class="claim-text">a processor operably connected to the communication circuitry and the memory, the processor configured to:
<div class="claim-text">determine a peer to peer communication group comprising a group owner device and one or more group client devices;</div>
<div class="claim-text">detect, via the short range wireless communication, at least one external electronic device that is grouped with the electronic device in the peer to peer communication group;</div>
<div class="claim-text">receive, from the at least one external electronic device, an internet address that is used by the electronic device as a group client device of the one or more group client devices for the peer to peer communication group; and</div>
<div class="claim-text">transmit, as the group client device, content to the at least one external electronic device via the short range wireless communication using an internet protocol (IP) address based at least in part on a determination that the at least one external electronic device is assigned as the group owner device.</div>
</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00003" num="00003">
<div class="claim-text">3. A portable electronic device comprising:
<div class="claim-text">communication circuitry configured to perform a short range wireless communication;</div>
<div class="claim-text">a memory operably connected to the communication circuitry, the memory configured to store one or more internet protocol (IP) addresses; and</div>
<div class="claim-text">a processor operably connected to the communication circuitry and the memory, the processor configured to:
<div class="claim-text">determine a peer to peer communication group comprising a group owner device and one or more group client devices;</div>
<div class="claim-text">detect, via the short range wireless communication, at least one external electronic device that is grouped with the portable electronic device in the peer to peer communication group;</div>
<div class="claim-text">perform, without using a dynamic host configuration protocol server, a connection based upon an IP address to be used by the at least one external electronic device, wherein the IP address is determined from the one or more IP addresses based at least in part on a determination that the portable electronic device is assigned as the group owner device and that the at least one external electronic device is assigned as one of the one or more group client devices; and</div>
<div class="claim-text">transmit, via the short range wireless communication, the IP address to the at least one external electronic device that is grouped with the portable electronic device in the peer to peer communication group before the connection is completed for exchanging content between the at least one external electronic device and the portable electronic device in the peer to peer communication group.</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00004" num="00004">
<div class="claim-text">4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein performing the connection further comprises allocating the one or more IP addresses corresponding to one of the one or more group client devices including the at least one external electronic device based at least in part on the determination that the portable electronic device is assigned as the group owner device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00005" num="00005">
<div class="claim-text">5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the IP address is valid while the at least one external electronic device is grouped in the peer to peer communication group.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00006" num="00006">
<div class="claim-text">6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein transmitting the IP address further comprises transmitting a data frame including a vendor specific portion that includes the IP address and information associated with at least one of a vendor of the portable electronic device or the at least one external electronic device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00007" num="00007">
<div class="claim-text">7. The electronic device of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the IP address is determined from one or more IP addresses stored in the memory of the at least one external electronic device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00008" num="00008">
<div class="claim-text">8. The electronic device of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the processor is further configured to receive the IP address from the at least one external electronic device as at least part of a formation of the peer to peer communication group.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00009" num="00009">
<div class="claim-text">9. The electronic device of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the processor is further configured to perform a connection with the at least one external electronic device via the short range wireless communication based at least in part on a detection of the at least one external electronic device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00010" num="00010">
<div class="claim-text">10. The electronic device of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the processor is further configured to complete the connection after receiving the IP address from the at least one external electronic device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00011" num="00011">
<div class="claim-text">11. The electronic device of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the processor is further configured to transmit the content after completion of the connection.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00012" num="00012">
<div class="claim-text">12. The portable electronic device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising a display;
<div class="claim-text">wherein the processor is further configured to display, as at least part of the detection, an indication indicative of the at least one external electronic device via the display.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00013" num="00013">
<div class="claim-text">13. The portable electronic device of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the processor is further configured to perform the connection with the at least one external electronic device using the short range wireless communication based at least in part on a user input received in relation with the indication.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00014" num="00014">
<div class="claim-text">14. The portable electronic device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the processor is further configured to broadcast, as at least part of the detection, a beacon to scan one or more external electronic devices including the at least one external electronic device based at least in part on the determination that the portable electronic device is assigned as the group owner device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00015" num="00015">
<div class="claim-text">15. The portable electronic device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein:
<div class="claim-text">the one or more IP addresses comprise a first IP address and a second IP address,</div>
<div class="claim-text">the at least one external electronic device comprises a first external electronic device and a second external electronic device, and</div>
<div class="claim-text">the processor is further configured to allocate the first IP address to the first external electronic device and the second IP address to the second external electronic device, respectively, based at least in part on the determination that the portable electronic device is assigned as the group owner device.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00016" num="00016">
<div class="claim-text">16. The portable electronic device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the group owner device and the one or more group client devices are determined by the portable electronic device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00017" num="00017">
<div class="claim-text">17. The portable electronic device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the memory is further configured to store a first value representing a first power associated with the portable electronic device, and wherein the processor is further configured to:
<div class="claim-text">receive a second value representing a second power associated with the at least one external electronic device; and</div>
<div class="claim-text">assign the portable electronic device as the group owner device based at least in part on a determination that the first value is greater than the second value.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00018" num="00018">
<div class="claim-text">18. The portable electronic device of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor is configured to complete the connection with the at least one external electronic device after transmitting the IP address to the at least one external electronic device.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00019" num="00019">
<div class="claim-text">19. The portable electronic device of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the processor is further configured to receive the content from the at least one external electronic device after completion of the connection.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00020" num="00020">
<div class="claim-text">20. The portable electronic device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the processor is further configured to transmit the IP address using a data frame including information associated with at least one of a vendor of the portable electronic device or the at least one external electronic device.</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    