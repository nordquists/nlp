
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US10460781B2 - Memory device with a dual Y-multiplexer structure for performing two simultaneous operations on the same row of a memory bank 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="patent-office" mxw-id="PA335386317">
<div class="abstract" id="p-0001" num="0000">A memory device for storing data is disclosed. The memory device comprises a memory bank comprising a memory array of addressable memory cells and a pipeline configured to process read and write operations addressed to the memory bank. Further, the memory device comprises an x decoder circuit coupled to the memory array for decoding an x portion of a memory address for the memory array and a y multiplexer circuit coupled to the memory array and operable to simultaneously multiplex across the memory array based on two y portions of memory addresses and, based thereon with the x portion, for simultaneously writing a value and reading a value associated with two separate memory cells of the memory array, wherein the x decoder and the y multiplexer are implemented to provide a read port and a write port which are operable to simultaneously operate with respect to the memory array.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES217613772">
<heading id="h-0001">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<div class="description-paragraph" id="p-0002" num="0001">The present application is a Continuation-in-part of, claims the benefit of and priority to U.S. application Ser. No. 15/277,799, filed Sep. 27, 2016, entitled “DEVICE WITH DYNAMIC REDUNDANCY REGISTERS” and hereby incorporated by reference in its entirety.</div>
<heading id="h-0002">FIELD</heading>
<div class="description-paragraph" id="p-0003" num="0002">The present patent document relates to registers that are added to devices, and more particularly registers added to random access memory (RAM). The methods and devices described herein are particularly useful in spin-transfer torque magnetic memory (STT-MRAM) devices.</div>
<heading id="h-0003">BACKGROUND</heading>
<div class="description-paragraph" id="p-0004" num="0003">Magnetoresistive random-access memory (“MRAM”) is a non-volatile memory technology that stores data through magnetic storage elements. These magnetic storage elements are two ferromagnetic plates or electrodes that can hold a magnetic field and are separated by a non-magnetic material, such as a non-magnetic metal or insulator. In general, one of the plates has its magnetization pinned (i.e., a “reference layer”), meaning that this layer has a higher coercivity than the other layer and requires a larger magnetic field or spin-polarized current to change the orientation of its magnetization. The second plate is typically referred to as the free layer and its magnetization direction can be changed by a smaller magnetic field or spin-polarized current relative to the reference layer.</div>
<div class="description-paragraph" id="p-0005" num="0004">MRAM devices store information by changing the orientation of the magnetization of the free layer. In particular, based on whether the free layer is in a parallel or anti-parallel alignment relative to the reference layer, either a “1” or a “0” can be stored in each MRAM cell. Due to the spin-polarized electron tunneling effect, the electrical resistance of the cell changes due to the orientation of the magnetization of the two layers. The cell's resistance will be different for the parallel and anti-parallel states and thus the cell's resistance can be used to distinguish between a “1” and a “0.” MRAM devices are generally considered as non-volatile memory devices since they maintain the information even when the power is off. The two plates can be sub-micron in lateral size and the magnetization direction can still be stable with respect to thermal fluctuations.</div>
<div class="description-paragraph" id="p-0006" num="0005">MRAM devices are considered as the next generation structures for a wide range of memory applications. MRAM products based on spin torque transfer switching are already making its way into large data storage devices. Spin transfer torque magnetic random access memory (“STT-MRAM”) has an inherently stochastic write mechanism, wherein bits have certain probability of write failure on any given write cycle. The write failures are most generally random, and have a characteristic failure rate. A high write error rate (WER) may make the memory unreliable.</div>
<div class="description-paragraph" id="p-0007" num="0006">In memory devices, and especially STT-MRAM, methods and systems for verifying and re-writing data words are beneficial.</div>
<heading id="h-0004">SUMMARY AND CLAIMABLE SUBJECT MATTER</heading>
<div class="description-paragraph" id="p-0008" num="0007">In an embodiment, a device with dynamic redundancy registers is disclosed. In one aspect, a memory device comprising random access memory (RAM) device, and specifically an STT-MRAM device, is provided. The present disclosure provides backup dynamic redundancy registers that allow the device to operate with high write error rate (WER). The dynamic redundancy registers allow verifies, re-writes, and relocation of data words that fail to write correctly to a memory bank, generally, without loss of throughput, speed, or restriction on random access addressing.</div>
<div class="description-paragraph" id="p-0009" num="0008">In one aspect, the present disclosure teaches a memory bank that is coupled to an e1 register. The e1 register is coupled to the e2 register. The e1 register stores data words that are to be verified or re-written to the memory bank. The e1 register also stores an associated address for data words within the memory bank. Data words in the e1 register may be verified against data words in the memory bank at the associated address within the memory bank. If a system write operation fails on the memory bank, a re-write operation may be tried by writing a data word from the e1 register to the memory bank. The fact that the system write operation failed may be determined through a verify operation. Re-write operation from e1 register to memory bank may be tried as many times as necessary to successfully complete write operation or may not be tried at all. In one example, the number of re-write operations may be configurable based on control bit(s) associated with re-write attempts. In one aspect, the number of re-write operations may be configurable on a per-bank basis or per-segment of bank basis. These control bits may be stored in the e1 register and associated with a particular data word and communicated and updated as appropriate.</div>
<div class="description-paragraph" id="p-0010" num="0009">In one aspect, the re-write operation may be tried only when memory bank is idle (that is there are no write or read operations for that memory bank). In this way, re-write operations may be transparent to and with no delay of incoming system read and system write operations. After the desired number of re-write attempts (0 to n) from the e1 register, the memory device moves (relocates) data word from the e1 register to the e2 register. The memory device may also move associated address within memory bank for data word from the e1 register to the e2 register. In one aspect, the memory device does not comprise an e2 register. Instead, after a desired number of re-write attempts, the memory device relocates the data word and associated address from the e1 register to a secure area in memory reserved for storing data words associated with pending re-write and verify operations in the e1 register.</div>
<div class="description-paragraph" id="p-0011" num="0010">In one embodiment, a re-write operation may occur only once from the e1 register to the memory bank. The memory device then relocates the data word and associated address from the e1 register to the e2 register if the re-write operation failed. Alternatively, if there is no e2 register, the memory device then relocates the data word and associated address from the e1 register to the secure storage area in memory. Although explained with reference to one memory bank and two dynamic redundancy registers, one or more memory banks and two or more dynamic redundancy registers may also be used. Alternatively, in certain embodiments only one dynamic redundancy register may be used, e.g., embodiments without an e2 register.</div>
<div class="description-paragraph" id="p-0012" num="0011">Typically, the first level dynamic redundancy register (e1 register) may operate at clock cycle speed of memory bank (some operations may operate at clock cycle speed of memory bank while other operations may occur independent or multiples of memory bank clock cycle speed). The e1 register may be either non-volatile or volatile, and may typically comprise SRAM. The e1 register may also comprise a content addressable memory (CAM) array which allows reduced size of e1 register. In one embodiment, e1 register may be high-speed, smaller register than a last level register.</div>
<div class="description-paragraph" id="p-0013" num="0012">Typically, the last level dynamic redundancy register (e2 register) may operate at clock cycle speed of main memory bank (some operations may operate at clock cycle speed of memory bank while other operations may occur independent or multiples of memory bank clock cycle speed). The last level may be either non-volatile or volatile, and may typically comprise MRAM. The e2 register may also comprise a CAM. The last level dynamic register may beneficially comprise non-volatile memory which allows data to be backed up on power down. The e2 register typically prioritizes reliability over size as compared to memory bank. In one embodiment, the last level register may comprise more entries than the e1 register. In one embodiment, e2 register entries may be invalidated when a write operation occurs for a data word having associated address common with data word in e2 register. Alternatively, in an embodiment without an e2 register, entries in the secure memory storage area may be invalidated when a write operation occurs for a data word having an associated address common with data word in the secure memory storage.</div>
<div class="description-paragraph" id="p-0014" num="0013">In one aspect, the e1 register stores a data word and an associated address for data words in a pipeline structure that have not had an opportunity to verify. For example, a data word may not have an opportunity to verify because of row address change. That is, a write operation may occur on a different row address than a verify operation. Thus, the data word for a verify operation would be stored within e1 register and verify would be performed, if possible, on another data word from e1 register having common row address with the data word for write operation. This feature is especially beneficial in pseudo-dual port memory banks. A dual port memory bank allows read and write operations to be performed simultaneously. A pseudo-dual port allows read and write operations to be simultaneously (e.g., substantially within the same memory device clock cycle) performed on less than all ports. In one example, a pseudo-dual port MRAM may allow verify and write operations to be simultaneously performed as long as the operations share a common row address and different column addresses. In one aspect, a data word may be read from the e1 register rather than main memory bank if the data word failed to write or verify to memory bank.</div>
<div class="description-paragraph" id="p-0015" num="0014">In another aspect, the e1 or e2 register data word, associated address, and control bits can be deleted, overwritten, invalidated such that the data is not used, or otherwise considered garbage when another write operation for the same associated address occurs on the memory bank. In one aspect, a data word may be read from the e2 register rather than the main memory bank if such read operation is beneficial. For example, if e1 register relocated a data word to e2 register. In another aspect, data stored in the e2 SRAM and CAM is backed up onto the e2 non-volatile RAM for storage during power down. In another embodiment, data stored in e2 non-volatile RAM may be transferred to e2 volatile RAM during power up. In another aspect, the memory device may move data from the e1 register to the e2 register in order to free room in the e1 register. In another aspect, e2 register may not store data words and associated addresses but instead remap data words and associated addresses received from e1 register into a different area of memory bank. In another aspect e2 register may move data words to memory bank upon power down.</div>
<div class="description-paragraph" id="p-0016" num="0015">Typically, e2 register should be more reliable than memory bank because data may not be recoverable in case of e2 register failure. Thus, schemes can be implemented to increase reliability of e2 register. For example, e2 register may comprise status bits that allow data manipulation of a particular data word or other entry within e2 only if all or a predetermined number of status bits are set to one. In another scheme, multiple copies of data word may be maintained in e2 register and selected based on a voting scheme. In another scheme, a more stringent error correction code (ECC) scheme may be performed within e2 register than in memory bank. In another scheme, e2 register points to particular addresses within main memory for storing data words rather than storing the data word within e2 itself.</div>
<div class="description-paragraph" id="p-0017" num="0016">In one embodiment of the present invention, only one dynamic redundancy register, e.g., the e1 register may be used in a memory device. In other words, the memory device will have no e2 register. In one embodiment, upon receiving the power down signal, the e1 register may attempt to perform all the pending operations, e.g., verify and re-write operations associated with the data words stored in the e1 register prior to shutting down. In other words, upon receiving the power down signal, the e1 register may attempt to perform all the pending verify operations and move all the data words associated with pending re-write operations (e.g. operations that have failed verification) stored within it to the appropriate corresponding locations in the memory bank. In one embodiment, if the verify operations and re-write operations succeed, the corresponding entries for the data words in the e1 register may be deleted prior to shutting down (if the e1 register comprises non-volatile memory). Any data words in the e1 register that could not be successfully re-written or verified prior to shutting down will be stored in a secure memory storage area. In one embodiment, the memory device ensures that data is written securely to the secure memory storage area by using one or multiple schemes including voting, error-correcting code (ECC), or storing multiple copies.</div>
<div class="description-paragraph" id="p-0018" num="0017">In one embodiment where only the e1 register is used, upon power up of the memory device and receipt of power up signal, another attempt can be made to perform all the pending re-write or verify operations using the associated addresses for the data words. As stated above, subsequent to powering down, the secure memory storage area will comprise data words (with their associated addresses) that have not yet been verified or that have failed verification. The verify and re-write operations can be directly attempted from the secure memory storage area or they can be recalled to the e1 register prior to processing the pending operations to the pipeline. In one embodiment, if the attempt to verify or write the data words back to memory on power up succeeds, the corresponding entries for the data words in the secure memory storage area or the e1 register may be deleted. Any data words that could not be successfully re-written or verified subsequent to powering up will be stored in the e1 register.</div>
<div class="description-paragraph" id="p-0019" num="0018">In one aspect, the present disclosure teaches an access method and system into memory banks. Pseudo-dual ports allow using the disclosed Y-mux structure to simultaneously perform verify and write operations on two data words sharing a common row address (e.g., sharing a common word line). In other embodiments, dual port memory bank could allow simultaneous read and write operations. The Y-mux structure of the present disclosure operates using two column decoders for the column address. One column decoder allows decoding for write column addresses. The other column decoder allows decoding for read and verify column addresses. The disclosed pseudo-dual port memory bank with Y-mux structure requires only a single-port memory cell. As explained, a dual port memory bank may allow read and write operations to be simultaneously performed, but requires a dual port memory cell. A single port memory cells, for example an STT MRAM memory cell, may be more area efficient than a dual port memory cell, for example a dual port STT MRAM memory cell. Thus, the present disclosure teaches, in one embodiment, a Y-mux structure to create a pseudo dual port memory bank with single port memory cells. Thus, e1 register operates with the disclosed pseudo dual port memory bank to permit write and verify operations sharing common row address to occur simultaneously.</div>
<div class="description-paragraph" id="p-0020" num="0019">In another aspect, the memory device includes control bits and signals that are used for the control logic of this disclosure. The memory device may thus know whether data is located in a memory bank, memory pipeline, e1 register, or e2 register for read operations. In another aspect, data for operations may invalidated based on control bits and signals to maintain consistency of operations. Such control bits and signals may include valid bit, active bank signal, fail count bits, e2 entry inactive bit. A valid bit indicates that particular data within a register is valid for data manipulation operations. An active bank signal indicates whether the memory bank for operation is active (i.e., that a system write or system read is being performed in that bank). Fail count bits indicate the number of re-write operations have occurred for the data word. The e2 entry inactive bit indicates that the associated entry in e2 should not be used for data manipulation operations.</div>
<div class="description-paragraph" id="p-0021" num="0020">In another aspect, the present disclosure teaches a memory device having pipeline structure for write and verify, among other data manipulation operations. This pipeline structure may be used to control system write, verify, and re-write operations, among other data manipulation operations. Using the pipeline structure of the present disclosure, data integrity is maintained and data flow is structured. In one embodiment, a delay register implements a delay cycle allowing memory to reach stable state before performing a verify operation on a data word. This delay cycle allows a write operation to be performed for a data word, followed by a delay cycle, followed by a verify operation for the data word.</div>
<div class="description-paragraph" id="p-0022" num="0021">In one embodiment, a method of writing data into a memory device is disclosed. The method comprises utilizing a pipeline to process write operations of a first plurality of data words addressed to a memory bank. The method further comprises writing a second plurality of data words and associated memory addresses into a cache memory, e.g., an e1 register, wherein the cache memory is associated with the memory bank and wherein further each data word of the second plurality of data words is either awaiting write verification associated with the memory bank or is to be re-written into the memory bank. Further, the method comprises detecting a power down signal and responsive to the power down signal, transferring the second plurality of data words and associated memory addresses from the cache memory, e.g., the e1 register, into a secure memory storage area reserved in the memory bank. Finally, the method comprises powering down the memory device. It should be noted that in this embodiment only one dynamic redundancy register, e.g., the e1 register may be used in the memory device. In other words, the memory device will have no e2 register.</div>
<div class="description-paragraph" id="p-0023" num="0022">In one aspect of this embodiment, the memory bank comprises a plurality of spin-transfer torque magnetic random access memory (STT-MRAM) cells. In another aspect, the method further comprises responsive to the power down signal, transferring any partially completed write operations of the pipeline to the secure memory storage area. In a different aspect, the method further comprises responsive to the power down signal, and before the transferring, copying any partially completed write operations of the pipeline to the cache memory.</div>
<div class="description-paragraph" id="p-0024" num="0023">In one aspect of the embodiment, the transferring comprises utilizing a secure communication process that is substantially compliant with one of: voting; ECC encoding; use of multiple copies; comparing multiple copies; and voting from multiple copies. In another aspect, the power down signal originates from a system level software stack and represents a system wide orderly power down event. In a different aspect, the power down sequence is initiated when an analog detector detects that the operating power of the chip has decreased by a predetermined threshold level. In one aspect, the method further comprises removing a data word and its associated address from the cache memory responsive to an indication that the data word has been verified as properly written to the memory bank. In another, the method further comprises receiving a power up signal and responsive to the power up signal, transferring the second plurality of data words and associated memory addresses from the secure memory storage area to the cache memory and processing the second plurality of data words from the cache memory, through the pipeline for writing into the memory bank.</div>
<div class="description-paragraph" id="p-0025" num="0024">In one embodiment, a method of writing data into a memory device is disclosed. The method comprises utilizing a pipeline to process write operations of a first plurality of data words addressed to a memory bank. The method further comprises writing a second plurality of data words and associated memory addresses into a cache memory, wherein the cache memory is associated with the memory bank and wherein further each data word of the second plurality of data words is either awaiting write verification associated with the memory bank or is to be re-written into the memory bank. The method also comprises detecting a power down signal and responsive to the power down signal, and before the memory device is powered down, processing data words of the second plurality of data words and associated memory addresses through the pipeline to write data into the memory bank. The method finally comprises powering down the memory device.</div>
<div class="description-paragraph" id="p-0026" num="0025">In one aspect, the memory bank comprises a plurality of spin-transfer torque magnetic random access memory (STT-MRAM) cells. In another aspect, the power down signal originates from a system level software stack and represents a system wide orderly power down event. In a different aspect, the power down sequence is initiated when an analog detector detects that the operating power of the chip has decreased by a threshold level. In one aspect, the method further comprises removing a data word and its associated address from the cache memory responsive to an indication that the data word has been verified as properly written to the memory bank. In yet another aspect, the method further comprises subsequent to the processing the data words and before the power down, transferring any unprocessed data words of the second plurality of data words from the cache memory to a secure memory storage area of the memory bank. In one aspect, the transferring comprises utilizing a secure communication process substantially compliant with one of: voting; ECC encoding; use of multiple copies; comparing multiple copies; and voting from multiple copies.</div>
<div class="description-paragraph" id="p-0027" num="0026">In one aspect, the method also comprises receiving a power up signal and responsive to the power up signal, transferring any data words and associated memory addresses from the secure memory storage area to the cache memory and processing the data words, from the cache memory, through the pipeline for writing into the memory bank.</div>
<div class="description-paragraph" id="p-0028" num="0027">In one embodiment, a method of writing data into a memory device is disclosed. The method comprises utilizing a pipeline to process write operations of a first plurality of data words addressed to a memory bank. The method further comprises writing a second plurality of data words and associated memory addresses into a cache memory, wherein the cache memory is associated with the memory bank and wherein further each data word of the second plurality of data words is either awaiting write verification associated with the memory bank or is to be re-written into the memory bank. The method also comprises detecting a power down signal and responsive to the power down signal, transferring the second plurality of data words and associated memory addresses from the cache memory into a secure memory storage area in the memory bank. Additionally, the method comprises detecting a power up signal and responsive to the power up signal, and before the memory device is powered up, transferring the second plurality of data words and associated memory addresses from the secure memory storage area to the cache memory. Further, the method comprises responsive to the transferring, and before the memory device is powered up, processing the second plurality of data words and associated memory addresses from the cache memory to the pipeline for writing data to the memory bank during power up.</div>
<div class="description-paragraph" id="p-0029" num="0028">In one aspect, the memory bank comprises a plurality of spin-transfer torque magnetic random access memory (STT-MRAM) cells. Further, in one aspect, the method further comprises responsive to the power down signal, transferring any partially completed write operations of the pipeline to the secure memory storage area. In another aspect, the method further comprises responsive to the power down signal, copying any partially completed write operations of the pipeline to the cache memory. In one aspect, the transferring comprises utilizing a secure communication process substantially compliant with one of: voting; ECC encoding; use of multiple copies; comparing multiple copies; and voting from multiple copies.</div>
<div class="description-paragraph" id="p-0030" num="0029">In one embodiment, the power down signal originates from a system level software stack and represents a system wide orderly power down event. In a different aspect, the power down sequence is initiated when an analog detector detects that the operating power of the chip has decreased by a threshold level. In another aspect, the method further comprises removing a data word and its associated address from the cache memory responsive to an indication that the data word has been verified as properly written to the memory bank.</div>
<div class="description-paragraph" id="p-0031" num="0030">In one embodiment, a memory pipeline for performing a write operation in a memory device is disclosed. The memory pipeline comprises an initial pipe-stage comprising an input register operable to receive a first data word and an associated address to be written into a memory bank. The memory pipeline also comprises a pre-read register of the first pipe-stage coupled to the input register and operable to receive the first data word and the associated address from the input register and further operable to pre-read a second data word stored in the memory bank at the associated address, and wherein the pre-read register is further operable to store mask bits associated with pre-reading the second data word, wherein the mask bits comprise information regarding a bit-wise comparison between the first data word and the second data word. Further, the memory pipeline comprises a write register of the second pipe-stage operable to receive the first data word, the associated address and the mask bits from the pre-read register, wherein the write register is further operable to use information from the mask bits to write the first data word into the memory bank by changing those bits in the first data word that differ from the second data word, and wherein the second pipe-stage follows the first pipe-stage.</div>
<div class="description-paragraph" id="p-0032" num="0031">In one aspect the memory bank comprises memory cells that are spin-transfer torque magnetic random access memory (STT-MRAM) cells. In another aspect, the pre-read register further comprises ECC bits for correcting bit errors in data words read from the memory bank. In one aspect, the pre-read is performed as part of a bit redundancy remapping operation. In another aspect the pre-read register stores the mask bits in a first level dynamic redundancy register. In a further aspect, the memory pipeline further comprises a delay register of the third pipe-stage operable to provide delay cycles between the write register and a verify register, wherein the delay cycles are used to find a verify operation in a first level dynamic redundancy register with a row address in common with the first data word wherein the third pipe-stage follows the second pipe-stage. In one aspect the delay register is further operable to receive the first data word and associated address from the write register. In another aspect, the delay register is further operable to transmit the first data word and associated address to the first level dynamic redundancy register responsive to receipt of a row address change signal. In one aspect, the memory pipeline further comprises a verify register of the fourth pipe-stage operable to receive the first data word and associated address from the delay register, and further operable to read a third data word at the associated address from the memory bank, wherein the fourth pipe-stage follows the third pipe-stage. Further, the memory pipeline comprises compare logic operable to compare contents of the first data word and the third data word to determine if the first data word wrote correctly to the memory bank.</div>
<div class="description-paragraph" id="p-0033" num="0032">In one embodiment, a memory pipeline for performing a write operation in a memory device is disclosed. The memory pipeline comprises an initial pipe-stage comprising an input register operable to receive a first data word and an associated address to be written into a memory bank. Further, the pipeline comprises a first write register of a first pipe-stage coupled to the input register and operable to receive the first data word and the associated address from the input register in a first clock cycle, wherein the first write register is further operable to perform a first attempt at writing the data word into the memory bank at a location corresponding to the associated address. The pipeline also comprises a second write register of the second pipe-stage coupled to the first write register and operable to receive the first data word and the associated address from the first write register in a second clock cycle, wherein the second write register is further operable to perform a second attempt at writing the first data word into the memory bank at the location corresponding to the associated address, and further wherein a second data word is input into the first write register in the second clock cycle subsequent to writing the first data word into the second write register from the first write register, wherein the second pipe-stage follows the first pipe-stage.</div>
<div class="description-paragraph" id="p-0034" num="0033">In one aspect, the pipeline further comprises a delay register of the third pipe-stage operable to receive the first data word and the associated address from the second write register on a third cycle, wherein a third data word is input into the first write register and the second data word is transferred from the first write register into the second write register for a second attempt at writing the second data word on the third cycle into the memory bank, wherein the third pipe-stage follows the second pipe-stage. In one aspect, the delay register is further operable to provide a delay cycle between the write register and a verify register, wherein the delay cycle is used to find a verify operation in a first level dynamic redundancy register with a row address in common with the first data word. In one aspect, the delay register is further operable to transmit the first data word and the associated address to the first level dynamic redundancy register responsive to receipt of a row address change signal. In another aspect, the memory pipeline further comprises a verify register of the fourth pipe-stage coupled to the delay register wherein the verify register is operable to receive the first data word from the delay register on a fourth clock cycle, and wherein the verify register performs a read operation on the memory bank at the associated address to determine whether the first data word wrote correctly to the memory bank, wherein the fourth pipe-stage follows the third pipe-stage. In yet another aspect, the memory pipeline also comprises compare logic operable to perform a compare operation between the first data word in the verify register and a data word read from the memory bank at the associated address in the verify register.</div>
<div class="description-paragraph" id="p-0035" num="0034">In one aspect, the memory pipeline additionally comprises a verify results register of the fifth pipe-stage operable to receive the first data word and the associated address from the verify register, wherein responsive to a determination that a verify operation associated with the compare operation failed, the verify results register is further operable to transfer the first data word and the associated address to a first level dynamic redundancy register, wherein the fifth pipe-stage follows the fourth pipe-stage. In one aspect, the memory cells of the memory bank comprise spin-transfer torque magnetic random access memory (STT-MRAM) cells. In another aspect responsive to receiving a read operation, write operations associated with the memory pipeline are stalled until the read operation is completed.</div>
<div class="description-paragraph" id="p-0036" num="0035">In one embodiment of the present invention, a memory device for storing data is disclosed. The memory device comprises a memory bank comprising a plurality of addressable memory cells configured in a plurality of segments wherein each segment contains N rows per segment, wherein the memory bank comprises a total of B entries, and wherein the memory cells are characterized by having a prescribed write error rate, E. The memory device also comprises a pipeline comprising M pipestages and configured to process write operations of a first plurality of data words addressed to a given segment of the memory bank. Further, the memory comprises a cache memory, e.g., the e1 register comprising Y number of entries, the cache memory associated with the given segment of the memory bank wherein the cache memory is operable for storing a second plurality of data words and associated memory addresses, and wherein further each data word of the second plurality of data words is either awaiting write verification associated with the given segment of the memory bank or is to be re-written into the given segment of the memory bank, and wherein the Y number of entries is based on the M, the N and the prescribed word error rate, E, to prevent overflow of the cache memory.</div>
<div class="description-paragraph" id="p-0037" num="0036">In one aspect, the Y number of entries is at least (N*M)+(B*E) entries. In one aspect, the memory cells of the memory bank comprise spin-transfer torque magnetic random access memory (STT-MRAM) cells. In one aspect, the memory device further comprises a plurality of pipelines and a plurality of cache memories, and wherein further each segment of the plurality of segments has associated therewith a respective pipeline of the plurality of pipelines and a respective cache memory of the plurality of cache memories. In one aspect, the cache memory comprises one or more status indicators for indicating a partial occupancy level of the cache memory. In one aspect, the pipeline supports multiple write attempts for a given write operation. In another aspect, the pipeline supports a pre-read operation for a given write operation. In one aspect, the pipeline is operable to flush a currently processing first memory operation to the cache memory if a second memory operation enters the pipeline has a different row address as the first memory operation.</div>
<div class="description-paragraph" id="p-0038" num="0037">In one embodiment, a memory device for storing data is disclosed. The memory device comprises a plurality of memory banks, wherein each memory bank comprises a plurality of addressable memory cells and a plurality of pipelines each comprising a plurality of pipe-stages, wherein each pipeline is associated with a respective one of the plurality of memory banks, and wherein each pipeline is configured to process write operations of a first plurality of data words addressed to its associated memory bank. The memory device further comprises a plurality of cache memories, wherein each cache memory is associated with a respective one of the plurality of memory banks and a respective one of the plurality of pipelines, and wherein each cache memory is operable for storing a second plurality of data words and associated memory addresses, and wherein further each data word of the second plurality of data words is either awaiting write verification associated with the given segment of an associated memory bank or is to be re-written into the given segment of the associated memory bank.</div>
<div class="description-paragraph" id="p-0039" num="0038">In one aspect, the addressable memory cells of the associated memory bank comprise spin-transfer torque magnetic random access memory (STT-MRAM) cells. In one aspect, each pipeline is operable to flush a currently processing first memory operation to an associated cache memory if a second memory operation that enters the pipeline has a different row address as the first memory operation. In another aspect, each cache memory comprises one or more status indicators for indicating a partial occupancy level of the cache memory. In one aspect, each pipeline supports multiple write attempts for a given write operation. In another aspect, each pipeline supports a pre-read operation for a given write operation.</div>
<div class="description-paragraph" id="p-0040" num="0039">In one embodiment, a memory device for storing data is disclosed. The memory device comprises a memory bank comprising a memory array of addressable memory cells and a pipeline configured to process read and write operations addressed to the memory bank. Further, the memory comprises an x decoder circuit coupled to the memory array for decoding an x portion of a memory address for the memory array and a y multiplexer circuit coupled to the memory array and operable to simultaneously multiplex across the memory array based on two y portions of memory addresses and, based thereon with the x portion, for simultaneously writing a value and reading a value associated with two separate memory cells of the memory array, wherein the x decoder and the y multiplexer comprise a read port and a write port which are operable to simultaneously operate with respect to the memory array.</div>
<div class="description-paragraph" id="p-0041" num="0040">In one aspect, the x decoder is operable to assert a row line of the memory array and wherein the two separate memory cells share the row line in common. In another aspect, the read port and the write port allow a write operation and a read-verify operation, that share a common row, to simultaneously access the memory array. In one aspect, the read port and the write port allow a write operation and a read-verify operation, that share a common row and that have different y portions, to simultaneously access the memory array. In another aspect, the addressable memory cells comprise spin-transfer torque magnetic random access memory (STT-MRAM) cells. In one aspect of the invention, the x portion of the memory address decodes to a common row line shared by the two separate memory cells of the memory array and wherein further the two y portions of memory addresses respectively select first and second sets of bit lines associated with the two separate memory cells of the memory array. In one aspect, the memory device further comprises a plurality of input/output channels, the plurality of input/output channels coupled to the y multiplexer circuit.</div>
<div class="description-paragraph" id="p-0042" num="0041">These and other objects, features, aspects, and advantages of the embodiments will become better understood with reference to the following description and accompanying drawings. Moreover, the object, features, aspect, and advantages of the embodiments can be modified and combined without departing from the teachings of the present disclosure.</div>
<description-of-drawings>
<heading id="h-0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<div class="description-paragraph" id="p-0043" num="0042">The accompanying drawings, which are included as part of the present specification, illustrate the presently preferred embodiments and, together with the general description given above and the detailed description given below, serve to explain and teach the principles of the MTJ devices described herein.</div>
<div class="description-paragraph" id="p-0044" num="0043"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a block diagram of exemplary memory device of the present disclosure having redundancy registers.</div>
<div class="description-paragraph" id="p-0045" num="0044"> <figref idrefs="DRAWINGS">FIG. 2</figref> is an exemplary embodiment for a process flow showing a write operation using exemplary memory device of the present disclosure and illustrates the high-level write operation performed on a memory device.</div>
<div class="description-paragraph" id="p-0046" num="0045"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure having dynamic redundancy registers.</div>
<div class="description-paragraph" id="p-0047" num="0046"> <figref idrefs="DRAWINGS">FIG. 4</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing Y-mux structure.</div>
<div class="description-paragraph" id="p-0048" num="0047"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing pipeline structure that allows verification and re-write operations.</div>
<div class="description-paragraph" id="p-0049" num="0048"> <figref idrefs="DRAWINGS">FIG. 6</figref> is an exemplary process flow showing an embodiment of a system read operation using an embodiment of memory device of the present disclosure.</div>
<div class="description-paragraph" id="p-0050" num="0049"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a block diagram of an embodiment of a memory device showing a first level dynamic redundancy register.</div>
<div class="description-paragraph" id="p-0051" num="0050"> <figref idrefs="DRAWINGS">FIG. 8</figref> is a block diagram of an embodiment of a memory device of the present disclosure showing a last level dynamic redundancy register.</div>
<div class="description-paragraph" id="p-0052" num="0051"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a block diagram of exemplary memory device of the present disclosure having a single redundancy register.</div>
<div class="description-paragraph" id="p-0053" num="0052"> <figref idrefs="DRAWINGS">FIG. 10</figref> depicts an exemplary embodiment for a process flow showing the processing of pending memory related operations in a dynamic redundancy register on power down in an exemplary memory device of the present disclosure.</div>
<div class="description-paragraph" id="p-0054" num="0053"> <figref idrefs="DRAWINGS">FIG. 11</figref> depicts an exemplary embodiment for a process flow showing the processing of pending memory related operations in a secure memory storage area on power up using a dynamic redundancy register in an exemplary memory device of the present disclosure.</div>
<div class="description-paragraph" id="p-0055" num="0054"> <figref idrefs="DRAWINGS">FIG. 12</figref> depicts an exemplary embodiment for a process flow showing the processing of performing a blind save of the contents of a dynamic redundancy register on power down in an exemplary memory device of the present disclosure.</div>
<div class="description-paragraph" id="p-0056" num="0055"> <figref idrefs="DRAWINGS">FIG. 13</figref> depicts an exemplary embodiment for a process flow showing the processing of performing a blind recall of the contents of the memory bank into a dynamic redundancy register on power up in an exemplary memory device of the present disclosure.</div>
<div class="description-paragraph" id="p-0057" num="0056"> <figref idrefs="DRAWINGS">FIG. 14</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing pipeline structure that allows pipestages for performing a pre-read operation for a write operation.</div>
<div class="description-paragraph" id="p-0058" num="0057"> <figref idrefs="DRAWINGS">FIG. 15</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing pipeline structure that allows an additional cycle for write operation for storing a data word.</div>
<div class="description-paragraph" id="p-0059" num="0058"> <figref idrefs="DRAWINGS">FIG. 16</figref> is a block diagram of an exemplary pipeline structure for a memory device that comprises an additional write stage in accordance with an embodiment of the present invention.</div>
<div class="description-paragraph" id="p-0060" num="0059"> <figref idrefs="DRAWINGS">FIG. 17</figref> illustrates the manner in which a memory bank can be segmented in accordance with an embodiment of the present invention.</div>
<div class="description-paragraph" id="p-0061" num="0060"> <figref idrefs="DRAWINGS">FIG. 18</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing the operation of a row and column decoder in conjunction with a Y-mux structure in accordance with an embodiment of the present invention.</div>
<div class="description-paragraph" id="p-0062" num="0061"> <figref idrefs="DRAWINGS">FIG. 19</figref> depicts an exemplary embodiment for a process flow showing the manner in which a pre-read register is used to perform a write operation in an exemplary memory device of the present disclosure.</div>
<div class="description-paragraph" id="p-0063" num="0062"> <figref idrefs="DRAWINGS">FIG. 20</figref> is a block diagram of an exemplary pipeline structure for a memory device that comprises a pre-read pipe-stage for a write operation in accordance with an embodiment of the present invention.</div>
<div class="description-paragraph" id="p-0064" num="0063"> <figref idrefs="DRAWINGS">FIG. 21</figref> illustrates a smart design for a dynamic redundancy register in accordance with an embodiment of the present invention.</div>
</description-of-drawings>
<div class="description-paragraph" id="p-0065" num="0064">The figures are not necessarily drawn to scale and the elements of similar structures or functions are generally represented by like reference numerals for illustrative purposes throughout the figures. The figures are only intended to facilitate the description of the various embodiments described herein; the figures do not describe every aspect of the teachings disclosed herein and do not limit the scope of the claims.</div>
<heading id="h-0006">DETAILED DESCRIPTION</heading>
<div class="description-paragraph" id="p-0066" num="0065">The following description is presented to enable any person skilled in the art to create and use dynamic redundancy registers that allow devices, and especially magnetic semiconductor device such as an MRAM, to operate with high write error rate (WER). Each of the features and teachings disclosed herein can be utilized separately or in conjunction with other features to implement the disclosed system and method. Representative examples utilizing many of these additional features and teachings, both separately and in combination, are described in further detail with reference to the attached drawings. This detailed description is merely intended to teach a person of skill in the art further details for practicing preferred aspects of the present teachings and is not intended to limit the scope of the claims. Therefore, combinations of features disclosed in the following detailed description may not be necessary to practice the teachings in the broadest sense, and are instead taught merely to describe particularly representative examples of the present teachings.</div>
<div class="description-paragraph" id="p-0067" num="0066">In the following description, for purposes of explanation only, specific nomenclature is set forth to provide a thorough understanding of the present teachings. However, it will be apparent to one skilled in the art that these specific details are not required to practice the present teachings.</div>
<div class="description-paragraph" id="p-0068" num="0067"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a block diagram of exemplary memory device of the present disclosure having dynamic redundancy registers (e1 register <b>104</b> and e2 register <b>106</b>, in this case). <figref idrefs="DRAWINGS">FIG. 1</figref> shows memory devices <b>100</b> described herein that includes memory bank <b>102</b>, e1 register <b>104</b>, and e2 register <b>106</b>. Moreover, memory device <b>100</b> communicates with data signals, for example, address signal <b>108</b>, data word signal <b>110</b>, clock signal <b>112</b>, write and chip select signals <b>114</b>, power down signal <b>116</b>, power up signal <b>118</b>. Note that <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates certain teachings of the present disclosure. However, it should be understood that the specific signals <b>108</b>-<b>118</b> illustrated may be modified by those with ordinary skill in the art without departing from the teachings of the present disclosure. Moreover, other communication interfaces, for example a double data rate (DDR) interface, to the memory device may be used. Although shown with only two dynamic redundancy registers here (e1 register <b>104</b> and e2 register <b>106</b>) and one memory bank (memory bank <b>102</b>), memory device <b>100</b> may comprise two or more dynamic redundancy registers and one or more memory banks. The two or more dynamic redundancy registers could be implemented using some combination e1 register <b>104</b> and e2 register <b>106</b>. The two or more dynamic redundancy registers may also operate hierarchically or in parallel.</div>
<div class="description-paragraph" id="p-0069" num="0068">Memory bank <b>102</b> comprises an array of data storage elements comprising data bits and may be implemented by volatile or non-volatile RAM technologies such as static random-access memory (SRAM), dynamic random-access memory (DRAM), resistive random-access memory (RRAM), phase-change memory (PCM), MRAM, STT-MRAM, or other RAM technologies. In an exemplary embodiment, memory bank <b>102</b> may include an error correcting code block (not pictured). The teachings of the present disclosure are especially beneficial when memory bank <b>102</b> comprises STT-MRAM which suffers from an inherently stochastic write mechanism, wherein bits have certain probability of write failure on any given write cycle. The teachings of the present disclosure allow memory bank <b>102</b> to be operated with high WER. However, many such errors can be corrected using the teachings of the present disclosure. Operating with high WER may allow memory bank <b>102</b> to operate under other beneficial conditions. For example, memory bank <b>102</b> could operate under high write speed, low write voltage (which may enable higher bitcell endurance), reducing ECC bits, or increased ECC decode speed, among other beneficial conditions.</div>
<div class="description-paragraph" id="p-0070" num="0069">In one embodiment, memory bank <b>102</b> may comprise 65,536×50 addressable bits. Further, the 50 bits comprise a 32-bit data word and 18 parity bits for error correction. Operations may be performed on memory bank <b>102</b> including system read, system write, re-write and verify operations, among other data manipulations. A particular operation, for example a write operation, may occur at a particular address within memory bank <b>102</b>. The operation may have a row address, indicating a word line, and a column address. The address for write operations may be communicated through a write port of memory bank <b>102</b>. The address for read or verify operations may be communicated through a read port of memory bank <b>102</b>.</div>
<div class="description-paragraph" id="p-0071" num="0070">In one embodiment, memory bank <b>102</b> comprises a pseudo-dual port memory bank allowing memory device <b>100</b> to simultaneously (e.g., substantially within a memory device clock cycle) perform a write operation and a verify operation sharing a common row (word line) address. System read operations to memory bank <b>102</b> generally supersede write and verify operations. Thus, system read operation would be performed before the scheduled write and verify operations. Write and verify operation could then happen on a subsequent clock cycle.</div>
<div class="description-paragraph" id="p-0072" num="0071">It should be noted that if a dual-port memory bank <b>102</b> is used, read and write operations may be simultaneously performed. In other words, a dual-port memory bank would also permit two write operations (or two read operations) to be performed simultaneously. By contrast, a pseudo-dual port memory bank can comprise two ports, however, both ports may not be designed to service the same operations. For example, typically a write operation requires a write driver with corresponding sense amplifiers that can support the higher current requirements of a write operation. In other words, a write driver tends to occupy more surface area on the chip as compared to a read driver because of the high current requirements for a write operation. A dual port memory bank optimizes both ports to support write operations, which, in turn, means that both ports can also support read operations because the requirements for read drivers are less stringent than for write drivers. A pseudo dual port memory bank, on the other hand, optimizes one of the ports to support a write operation and one of the ports to support a read operation. In the current case, because memory device <b>100</b> will be receiving a write and a verify operation sharing a common row (word line) address in the same clock cycle, a pseudo-dual port memory bank can be used to process the write and verify operation simultaneously.</div>
<div class="description-paragraph" id="p-0073" num="0072">The e1 register <b>104</b> is coupled to memory bank <b>102</b> and e2 register <b>106</b>. The e1 register <b>104</b> comprises an array of data storage elements comprising data bits and may be implemented by volatile and non-volatile RAM technologies. The e1 register <b>104</b> may also comprise control bits and communicate using control signals that maintain consistency of operations within memory device <b>100</b>. Typically, data is more reliably written to e1 register <b>104</b> than within memory bank <b>102</b>. Thus, if memory bank <b>102</b> comprises STT-MRAM, then e1 register <b>104</b> might comprise SRAM. In other embodiments, e1 register may comprise non-volatile RAM such as STT-RAM. The e1 register may also comprise a dual-port STT-RAM to allow simultaneous read and write operations. In this case, e1 register <b>104</b> can run at the same cycle throughput speed as a memory bank. The e1 register <b>104</b> may also comprise content addressable memory (CAM). In one embodiment, the e1 register may be located off the memory chip and on a system card or even on the CPU. In other words, the e1 register can be located on a different chip besides the memory chip.</div>
<div class="description-paragraph" id="p-0074" num="0073">Generally, e1 register <b>104</b> stores data words and associated addresses for data in memory bank <b>102</b> that has not been verified or has failed verification. In one embodiment, e1 register <b>104</b> may store data words that have not been verified. For example, e1 register <b>104</b> receives a ROWchg signal that indicates row address change within a pipeline structure of the present disclosure. The ROWchg signal indicates that the data word and the associated address from the pipeline structure should be stored within e1 register <b>104</b>. The ROWchg signal may also indicate that another data word and associated address should be transmitted from e1 register <b>104</b> to the pipeline structure for a verify operation. If a pseudo-dual port memory bank is used, e1 register <b>104</b> may choose a data word and an associated address such that they share a common row address with a data word in the write register of the pipeline structure. In this way, a write operation and a verify operation can be simultaneously performed since the data words share a common row address.</div>
<div class="description-paragraph" id="p-0075" num="0074">In another embodiment, e1 register <b>104</b> may store data words that have failed verification. For example, the pipeline structure may transmit a signal to e1 register <b>104</b> indicating that a data word has failed to write (i.e., failed verification) to memory bank <b>102</b>. The pipeline structure may also transmit data word and associated address (in the case that e1 register <b>104</b> does not already contain the data word and associated address) to e1 register <b>104</b> in order to later try to re-write the data word to memory bank <b>102</b>. In another example, a read operation may occur and pipeline structure may determine that the read operation did not occur within a predetermined error budget. The pipeline structure may then transmit a signal indicating that the read operation failed and transmit the data word and associated address to e1 register <b>104</b> for storage.</div>
<div class="description-paragraph" id="p-0076" num="0075">From the preceding, one of ordinary skill in the art will understand that e1 register <b>104</b> may store data words and associated addresses for future verification. For example, a data word may not have had an opportunity to verify due to a row address change. Thus, e1 register <b>104</b> may transmit the data word and associated address to the pipeline structure of the present disclosure during some subsequent clock cycle to verify the data word. Typically, a control signal may indicate to e1 register <b>104</b> that a row address change will occur or that memory bank <b>102</b> will become inactive during subsequent clock cycles. The e1 register <b>104</b> may then determine the appropriate data word sharing a common row address with the data word to be written (in case of row address change) during the subsequent clock cycle. The e1 register <b>104</b> then transmits the data word and associated address to verify register of the pipeline structure. In one embodiment, e1 register <b>104</b> may also transmit the physical address within e1 register <b>104</b> if the data word is already stored within e1 register <b>104</b>. In this way, control bits associated with the data word may be updated.</div>
<div class="description-paragraph" id="p-0077" num="0076">From the preceding, a person skilled in the art will understand that e1 register <b>104</b> may also store data words for future re-write attempts. The e1 register <b>104</b> may receive data words that have failed verification from the pipeline structure of the present disclosure. Memory device <b>100</b> may have attempted a write operation and the data word failed a verify operation. Memory device <b>100</b> may also have attempted a read operation and the data word may have failed to read within a specified error budget. In both cases, the pipeline structure of the present disclosure may transmit the data word to e1 register <b>104</b>. Memory bank <b>102</b> may become inactive during a subsequent cycle. The e1 register <b>104</b> may then determine an appropriate data word to attempt to re-write to memory bank <b>102</b>. In this case, e1 register <b>104</b> may transmit a data word and associated address to the pipeline structure. The e1 register <b>104</b> transmits the data word such that a write register could re-write the data word during the clock cycle that memory bank <b>102</b> would otherwise be inactive.</div>
<div class="description-paragraph" id="p-0078" num="0077">Generally, e1 register <b>102</b> may also relocate data words, associated addresses, and control bits to e2 register <b>106</b>. If no more re-write attempts are desired, e1 register <b>104</b> may relocate data word and associated address to e2 register <b>106</b>. The e1 register may also relocate data to memory bank <b>102</b> or e2 register <b>106</b> on power down so that data is stored in non-volatile memory in the case that e1 register <b>104</b> comprises volatile memory. The e1 register <b>104</b> may also relocate data to e2 register <b>106</b> in the case that e1 register <b>104</b> lacks space for data words.</div>
<div class="description-paragraph" id="p-0079" num="0078">The e1 register comprises control bits and communicates using control signals. In one embodiment, e1 register comprises valid bits indicating whether the associated data word is a valid entry within e1 register. In another embodiment, e1 register comprises fail count bits indicating the number of re-write attempts associated with a data word. In this way, memory device <b>100</b> may try only a specified number of re-write attempts. In another embodiment, e1 register comprises bits indicating that the associated data word has not been verified due to row address change and should be verified.</div>
<div class="description-paragraph" id="p-0080" num="0079">The e2 register <b>106</b> is coupled to e1 register <b>104</b> and may also be coupled to memory bank <b>102</b>. The e2 register <b>106</b> comprises an array of data storage elements comprising data bits and may be implemented by volatile and non-volatile RAM technologies. The e2 register <b>106</b> may also comprise an ECC block and CAM. The e2 register <b>106</b> may comprise data words, associated addresses, and control bits. Typically, e2 register <b>106</b> will comprise a non-volatile memory technology, for example STT-MRAM. In one embodiment, the e2 register may be located off the memory chip and on a system card or even on the CPU. In other words, the e2 register can be located on a different chip besides the memory chip.</div>
<div class="description-paragraph" id="p-0081" num="0080">The e2 register <b>106</b> stores data words and associated addresses relocated from e1 register <b>104</b>. In another embodiment, rather than storing data words and associated data words from e1 register <b>104</b>, e2 register <b>106</b> remaps those data words to addresses within memory bank <b>102</b>. For example, e2 register <b>106</b> may store remap addresses in memory bank <b>102</b>. The e2 register <b>106</b> then temporarily stores a data word from e1 register and then writes it to an appropriate remap address in memory bank <b>102</b>. When a data word should be read, e2 register contains the appropriate remap address for reading the data word from memory bank <b>102</b>.</div>
<div class="description-paragraph" id="p-0082" num="0081">Data words and associated addresses may be relocated to e2 register <b>106</b> or remapped based on different conditions. In one embodiment, e1 register <b>104</b> relocates data words and associated addresses to e2 register <b>106</b> because the data words failed to write to memory bank <b>102</b> after the specified number of re-write attempts.</div>
<div class="description-paragraph" id="p-0083" num="0082">In another embodiment, e1 register <b>104</b> relocates data words and associated addresses to e2 register <b>106</b> because power down signal <b>116</b> indicates that data word and associated address should be moved to non-volatile memory, such as e2 register <b>106</b> comprising STT-MRAM. In one embodiment, e1 register <b>104</b> may attempt to process any pending verifies or re-write attempts associated with data words stored in e1 prior to relocating the contents of the e1 register to the e2 register upon receipt of the power down signal. In other words, when a power down signal is received, but before the chip powers down, the e1 register can, in one embodiment, attempt to process all the entries within the e1 register prior to storing the entries in the e2 register. For example, the e1 register may attempt sending data words associated with any pending re-write operations or verify operations to the pipeline structure to process them prior to moving them to the e2 register. Any operations that are successfully processed may then be deleted, overwritten or invalidated from the e1 register and would not need to be stored in the e2 register. Any operations that are not successfully processed on power down, will be stored in the e2 register.</div>
<div class="description-paragraph" id="p-0084" num="0083">In another embodiment, e1 register <b>104</b> relocates data words and associated addresses to e2 register <b>106</b> because e1 register <b>104</b> lacks space. One of ordinary skill in the art will understand that desired control bits may also be relocated with associated data word. In another embodiment, if data word fails to write to a physical address within e2 register <b>106</b> after a predetermined number of write attempts a different physical address may be chosen for data word.</div>
<div class="description-paragraph" id="p-0085" num="0084">The e2 register <b>106</b> may also be coupled to an input register of a pipeline structure. In this way, e2 register <b>106</b> may receive control signals indicating that a write operation for a data word sharing a common associated address with a data word within e2 register <b>106</b> may be occurring. Thus, control bits within e2 register <b>106</b> may indicate that a data word within e2 register <b>106</b> is invalid because of a system write operation.</div>
<div class="description-paragraph" id="p-0086" num="0085">Memory device <b>100</b> also communicates using exemplary signals <b>108</b>-<b>118</b>. Address signal <b>108</b> comprises address within memory bank <b>102</b> of data to be written to or read from (or otherwise manipulated). Data word signal <b>110</b> comprises a data word to be written to (or otherwise manipulated) memory bank <b>102</b>. Clock signal <b>112</b> comprises a memory device <b>100</b> clock signal or other clock signal (such as for specific components within memory device <b>100</b>). Write and chip select signals <b>114</b> comprise signals used to determine the operation to be performed within memory bank <b>102</b>. For example, if write signal is high and chip select signal is low a read operation might be performed on memory bank <b>102</b>.</div>
<div class="description-paragraph" id="p-0087" num="0086">Power down signal <b>116</b> indicates whether power will be removed from memory device <b>100</b> or specific components within memory device <b>100</b>. Thus, power down signal <b>116</b> may be used to determine that contents of e1 register <b>104</b> should be written to memory or e2 register <b>106</b>. As mentioned above, the e1 register <b>104</b> may attempt to process any pending verifies or re-write attempts associated with data words stored in e1 prior to relocating the contents of the e1 register to the e2 register upon receipt of the power down signal but before the device powers down.</div>
<div class="description-paragraph" id="p-0088" num="0087">Power up signal <b>118</b> indicates that power is provided to memory device <b>100</b>. Power up signal may indicate that e2 non-volatile memory contents should be loaded to e2 volatile memory. One of ordinary skill in the art will recognize that the specific signals <b>108</b>-<b>118</b> may be modified without departing from the present disclosure. In one embodiment, upon receipt of the power up signal and before loading the memory contents to e2 volatile memory, another attempt is made to process any pending verifies or re-write attempts associated with data words stored in the e2 register. If the e2 register is connected to the pipeline structure, the attempts to process the data words in the e2 register may occur directly from the e2 register. In a different embodiment, the e2 register may need to move its contents to the e1 register prior to attempting the verify and re-write operations through the pipeline.</div>
<div class="description-paragraph" id="p-0089" num="0088">Power down signal <b>116</b> may indicate that e2 register <b>106</b> volatile memory contents should be moved to e2 register <b>106</b> non-volatile memory. For example, e2 register <b>106</b> volatile memory contents not already stored in e2 non-volatile memory may be moved to e2 register <b>106</b> non-volatile memory. Again, in one embodiment, if the e2 register is connected to the pipeline structure, upon receipt of the power down signal, the e2 register may attempt to process any pending verify or re-write operations prior to moving the contents into non-volatile memory.</div>
<div class="description-paragraph" id="p-0090" num="0089">In another embodiment, power down signal <b>116</b> may indicate that e2 register <b>106</b> contents should be moved to non-volatile memory bank <b>102</b>.</div>
<div class="description-paragraph" id="p-0091" num="0090">In another embodiment, power down signal <b>116</b> may indicate that certain data words within e1 register <b>104</b> should be verified to memory bank <b>102</b>. In another embodiment, power down signal <b>116</b> indicates that certain data words within e1 register <b>104</b> should be re-written to memory bank <b>102</b>. If the verify or re-write operations are unsuccessful, as mentioned above, the data words associated with those operations would then be moved to the e2 register upon power down.</div>
<div class="description-paragraph" id="p-0092" num="0091"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a block diagram of exemplary memory device of the present disclosure having a single dynamic redundancy register (e1 register <b>904</b> in this case). <figref idrefs="DRAWINGS">FIG. 9</figref> shows memory devices <b>900</b> described herein that includes memory bank <b>902</b> and e1 register <b>904</b>. As compared to the embodiment shown in <figref idrefs="DRAWINGS">FIG. 1</figref>, the embodiment of <figref idrefs="DRAWINGS">FIG. 9</figref> does not comprise an e2 register. Instead memory bank <b>902</b> comprises a secure memory storage area <b>932</b> that may be reserved for the e1 register to relocate data words, associated addresses, and control bits. In one embodiment, the reserved secured memory storage area <b>932</b> performs substantially the same function as the e2 register described in <figref idrefs="DRAWINGS">FIG. 1</figref>. However, instead of dedicating a separate dedicated register, the e1 register is able to relocate its contents to a secured location in memory as will be further described below.</div>
<div class="description-paragraph" id="p-0093" num="0092">Additionally, memory device <b>900</b> communicates with data signals, for example, address signal <b>908</b>, data word signal <b>910</b>, clock signal <b>912</b>, write and chip select signals <b>914</b>, power down signal <b>916</b>, and power up signal <b>918</b>. Note that <figref idrefs="DRAWINGS">FIG. 9</figref> illustrates certain teachings of the present disclosure. However, it should be understood that the specific signals <b>908</b>-<b>918</b> illustrated may be modified by those with ordinary skill in the art without departing from the teachings of the present disclosure. Moreover, other communication interfaces, for example a double data rate (DDR) interface, to the memory device may be used. Although shown with only one memory bank (memory bank <b>102</b>), memory device <b>900</b> may comprise one or more memory banks. Note further that while write and chip select signals have been lumped into one signal <b>914</b> in <figref idrefs="DRAWINGS">FIG. 9</figref>, write, chip select and read may all comprise separate signals to memory device <b>900</b>.</div>
<div class="description-paragraph" id="p-0094" num="0093">Memory bank <b>902</b> comprises an array of data storage elements comprising data bits and may be implemented by volatile or non-volatile RAM technologies such as static random-access memory (SRAM), dynamic random-access memory (DRAM), resistive random-access memory (RRAM), phase-change memory (PCM), MRAM, STT-MRAM, or other RAM technologies. In an exemplary embodiment, memory bank <b>902</b> may include an error correcting code block (not pictured). As noted above, the teachings of the present disclosure are especially beneficial when memory bank <b>902</b> comprises STT-MRAM which suffers from an inherently stochastic write mechanism, wherein bits have certain probability of write failure on any given write cycle. The teachings of the present disclosure allow memory bank <b>902</b> to be operated with high WER. However, many such errors can be corrected using the teachings of the present disclosure. Operating with high WER may allow memory bank <b>902</b> to operate under other beneficial conditions. For example, memory bank <b>902</b> could operate under high write speed, low write voltage (which may enable higher bitcell endurance), reducing ECC bits, or increased ECC decode speed, among other beneficial conditions.</div>
<div class="description-paragraph" id="p-0095" num="0094">In one embodiment, memory bank <b>902</b> may comprise 65,536×50 addressable bits for instance. Further, the 50 bits comprise a 32-bit data word and 18 parity bits for error correction. Operations may be performed on memory bank <b>902</b> including system read, system write, re-write and verify operations, among other data manipulations. A particular operation, for example a write operation, may occur at a particular address within memory bank <b>902</b>. The operation may have a row address, indicating a word line, and a column address. The address for write operations may be communicated through a write port of memory bank <b>902</b>. The address for read or verify operations may be communicated through a read port of memory bank <b>902</b>.</div>
<div class="description-paragraph" id="p-0096" num="0095">In one embodiment, memory bank <b>902</b> comprises a pseudo-dual port memory bank allowing memory device <b>900</b> to simultaneously (e.g., substantially within a memory device clock cycle) perform a write operation and a verify operation sharing a common row (word line) address. System read operations to memory bank <b>902</b> generally supersede write and verify operations. Thus, system read operation would be performed before the scheduled write and verify operations. Write and verify operation could then happen on a subsequent clock cycle. As explained above, a pseudo-dual port memory bank can used to implement the write and verify operation on the same clock cycle.</div>
<div class="description-paragraph" id="p-0097" num="0096">The e1 register <b>904</b> is coupled to memory bank <b>902</b>. The e1 register <b>904</b> comprises an array of data storage elements comprising data bits and may be implemented by volatile and non-volatile RAM technologies. The e1 register <b>904</b> may also comprise control bits and communicate using control signals that maintain consistency of operations within memory device <b>900</b>. Typically, data is more reliably written to e1 register <b>904</b> than within memory bank <b>902</b>. Thus, if memory bank <b>902</b> comprises STT-MRAM, then e1 register <b>904</b> might comprise SRAM. In other embodiments, e1 register may comprise non-volatile RAM such as STT-RAM. The e1 register may also comprise a dual-port STT-RAM to allow simultaneous read and write operations. In this case, e1 register <b>904</b> can run at the same cycle throughput speed as a memory bank. The e1 register <b>904</b> may also comprise content addressable memory (CAM).</div>
<div class="description-paragraph" id="p-0098" num="0097">Generally, e1 register <b>904</b> stores data words and associated addresses for data in memory bank <b>902</b> that have not been verified or have failed verification. In one embodiment, e1 register <b>904</b> may store data words that have not been verified. For example, e1 register <b>904</b> receives a ROWchg signal that indicates row address change within a pipeline structure of the present disclosure. The ROWchg signal indicates that the data word and the associated address from the pipeline structure should be stored within e1 register <b>904</b>. The ROWchg signal may also indicate that another data word and associated address should be transmitted from e1 register <b>904</b> to the pipeline structure for a verify operation. If a pseudo-dual port memory bank is used, e1 register <b>904</b> may choose a data word and an associated address such that they share a common row address with a data word in the write register of the pipeline structure. In this way, a write operation and a verify operation can be simultaneously performed since the data words share a common row address.</div>
<div class="description-paragraph" id="p-0099" num="0098">In another embodiment, e1 register <b>904</b> may store data words that have failed verification. For example, the pipeline structure may transmit a signal to e1 register <b>904</b> indicating that a data word has failed to write (e.g., failed verification) to memory bank <b>902</b>. The pipeline structure may also transmit data word and associated address (in the case that e1 register <b>904</b> does not already contain the data word and associated address) to e1 register <b>904</b> in order to later try to re-write the data word to memory bank <b>902</b>. In another example, a read operation may occur and pipeline structure may determine that the read operation did not occur within a predetermined error budget. The pipeline structure may then transmit a signal indicating that the read operation failed to occur within the error budget and transmit the data word and associated address to e1 register <b>904</b> for storage.</div>
<div class="description-paragraph" id="p-0100" num="0099">From the preceding, one of ordinary skill in the art will understand that e1 register <b>904</b> may store data words and associated addresses for future verification. For example, a data word may not have had an opportunity to verify due to a row address change. Thus, e1 register <b>904</b> may transmit the data word and associated address to the pipeline structure of the present disclosure during some subsequent clock cycle to verify the data word. Typically, a control signal may indicate to e1 register <b>904</b> that a row address change will occur or that memory bank <b>902</b> will become inactive during subsequent clock cycles. The e1 register <b>904</b> may then determine the appropriate data word sharing a common row address with the data word to be written (in case of row address change) during the subsequent clock cycle. The e1 register <b>904</b> then transmits the data word and associated address to verify register of the pipeline structure. In one embodiment, e1 register <b>904</b> may also transmit the physical address within e1 register <b>904</b> if the data word is already stored within e1 register <b>904</b>. In this way, control bits associated with the data word may be updated.</div>
<div class="description-paragraph" id="p-0101" num="0100">From the preceding, a person skilled in the art will understand that e1 register <b>904</b> may also store data words for future re-write attempts. The e1 register <b>904</b> may receive data words that have failed verification from the pipeline structure of the present disclosure. Memory device <b>900</b> may have attempted a write operation and the data word failed a verify operation. Memory device <b>900</b> may also have attempted a read operation and the data word may have failed to read within a specified error budget. In both cases, the pipeline structure of the present disclosure may transmit the data word to e1 register <b>904</b>. Memory bank <b>902</b> may become inactive during a subsequent cycle. The e1 register <b>904</b> may then determine an appropriate data word to attempt to re-write to memory bank <b>902</b>. In this case, e1 register <b>904</b> may transmit a data word and associated address to the pipeline structure. The e1 register <b>904</b> transmits the data word such that a write register could re-write the data word during the clock cycle that memory bank <b>902</b> would otherwise be inactive.</div>
<div class="description-paragraph" id="p-0102" num="0101">In the embodiment of <figref idrefs="DRAWINGS">FIG. 9</figref>, the e1 register <b>902</b> may relocate data words, associated addresses, and control bits to secure memory storage <b>932</b> in memory bank <b>902</b>. If no more re-write attempts are desired, e1 register <b>904</b> may relocate data word and associated address to secure memory storage <b>332</b>. The e1 register may also relocate data to secure memory storage <b>932</b> on power down so that data is stored in non-volatile memory in the case that e1 register <b>104</b> comprises volatile memory. As mentioned above, generally, e1 register <b>904</b> stores data words and associated addresses for data in memory bank <b>902</b> that have not been verified or have failed verification.</div>
<div class="description-paragraph" id="p-0103" num="0102">Processing Operations Pending in a Dynamic Redundancy Register Prior to Powering Down</div>
<div class="description-paragraph" id="p-0104" num="0103">In one embodiment, upon receiving the power down signal, the e1 register <b>904</b> may attempt to perform all the pending operations associated with the data words stored in the e1 register prior to the device shutting down. For example, the e1 register may attempt to store all the data words to be re-written back into memory to the targeted locations in the memory bank <b>102</b> using the associated addresses for the data words (also stored within e1). It should be noted, however, that prior to attempting pending operations stored in the e1 register, the memory device will first flush out the pipeline and finish up any pending operations in the pipeline from before the power down signal was received.</div>
<div class="description-paragraph" id="p-0105" num="0104">Note that, in one embodiment, the power down signal originates from a system level software stack and represents a system wide orderly power down event. However, in a different embodiment, the power down signal may not be part of a system wide orderly power down event. In other words, an analog detector may be configured to monitor the power level of the chip (e.g., a VCC power supply pin) and initiate a power down sequence if the power level of the chip falls below a certain threshold level, e.g., falls 10% or more. Further, one or more capacitors may be configured to hold charge in order to sustain the power level above a threshold level, which allows the entire power down sequence to finish to completion.</div>
<div class="description-paragraph" id="p-0106" num="0105">In one embodiment, a status pin(s) or register may be configured that allows the system to determine whether a power down sequence is complete. This status pin(s) or register may be used whether the shut down sequence is a result of an orderly shut down process or not. The status pin(s) or register may, for example, be associated with a timer that is set to allow the system enough time to run the entire power down sequence to completion.</div>
<div class="description-paragraph" id="p-0107" num="0106">As mentioned above, the e1 register may comprise data words that have not yet been verified or that have failed verification. Upon receiving the power down signal, but before powering down, the e1 register may attempt to perform all the pending verify operations and move all the data words associated with pending re-write operations (e.g. operations that have failed verification) stored within it to the appropriate corresponding locations in the memory bank. In this embodiment, the power down sequence will typically take longer because it may take a few cycles for the e1 register to attempt to perform all the pending verify or re-write operations. In one embodiment, the power down signal <b>916</b> from the user or system warns the e1 register <b>904</b> to expect a shut down sequence. Upon notification of the power down signal, the e1 register can then attempt to perform the pending verify and re-write operations. In one embodiment, an option bit (or bits) or pin(s) (not shown) is provided to the user to disable the processing of the contents of the e1 register prior to shutting down. For example, if a user wants to avoid a long power down sequence, an option may be provided to disable this scheme. By way of further example, the option bit(s) may be used to disable the scheme during a test mode.</div>
<div class="description-paragraph" id="p-0108" num="0107">In one embodiment, the e1 register may simply transmit the data words to the appropriate registers in the pipeline structure. For example, a data word to be re-written into the memory bank may be transmitted to the write register in the pipeline from the e1 register. From the pipeline, the data can be directed to the targeted locations within the memory bank <b>902</b>.</div>
<div class="description-paragraph" id="p-0109" num="0108">Another data word to be verified may be transferred to the verify register in the pipeline. Further details regarding the pipeline are provided in connection with <figref idrefs="DRAWINGS">FIG. 5</figref>.</div>
<div class="description-paragraph" id="p-0110" num="0109">In one embodiment, if the verify operations or the attempt to re-write the data words back to memory succeed, the corresponding entries for the data words in the e1 register may be deleted prior to shutting down. In other words, any data words that were successfully re-written or verified can be deleted from the e1 register prior to shutting down. Any data words in the e1 register that could not be successfully re-written or verified prior to shutting down will be stored in secure memory storage area <b>932</b>. In one embodiment, where e1 comprises volatile memory, the data words that were successfully re-written or verified do not need to be pro-actively deleted, instead they will be deleted automatically once the power down sequence completes.</div>
<div class="description-paragraph" id="p-0111" num="0110">Memory bank <b>902</b> can comprise a secure area reserved for e1 register to transfer its contents into upon shutting down. In one embodiment, the memory device <b>900</b> ensures that data is written securely to the secure memory storage area <b>932</b> by using one or multiple schemes including voting, error-correcting code (ECC), or storing multiple copies. For example, in one embodiment, multiple copies of each of the data words can be written into secure memory storage area <b>932</b>. When one of the data words needs to be read, each of the copies of the data word are read from the secure memory storage area and compared to determine if the data between all the copies is consistent. In case of inconsistency, a voting scheme is used to determine the correct data word. In other words, the most frequently occurring version of the data word between the various copies is selected as the data word. In another embodiment, ECC is used to ensure that the data words are error corrected to ensure that they are written accurately into the secure memory storage area <b>932</b>.</div>
<div class="description-paragraph" id="p-0112" num="0111">Processing Operations Pending in Secured Memory Location Upon Powering Up Using a Dynamic Redundancy Register</div>
<div class="description-paragraph" id="p-0113" num="0112">In one embodiment, upon power up of the memory device and receipt of power up signal <b>918</b>, but before the device enters mission mode (or starts accepting commands), another attempt can be made to perform all the pending re-write or verify using the associated addresses for the data words. As mentioned previously, subsequent to powering down, the secure memory storage area will comprise data words (with their associated addresses) that have not yet been verified or that have failed verification. The pending re-write or verify operations will now be stored in non-volatile memory in secure memory storage area <b>932</b> where they were re-located to following power down. The verify and re-write operations can be directly attempted from the secure memory storage area <b>932</b> or they can be recalled to the e1 register prior to processing the pending operations.</div>
<div class="description-paragraph" id="p-0114" num="0113">If the contents of secure storage area <b>932</b> are moved to the e1 register prior to re-attempting the pending operations, subsequent to the receipt of the power up signal <b>918</b>, the e1 register may attempt to perform all the pending verify operations and move all the data words associated with pending re-write operations (e.g. operations that have failed verification) to the appropriate corresponding locations in the memory bank.</div>
<div class="description-paragraph" id="p-0115" num="0114">Alternatively, secure memory storage area <b>932</b> may be connected to the pipeline structure and the data words for the pending operations can be directed directly from secure memory storage area <b>932</b> to the pipeline structure. For example, a re-write operation can be sent directly from the secure memory storage area to a write register in the pipeline structure. Similarly, a pending verify operation may be sent to a verify register in the pipeline structure directly from the secure memory storage area. The verify and re-write operations that do not complete successfully can be transferred to the e1 register. In other words, the verify and re-write operations that cannot complete in the specified amount of time are transferred to the e1 register.</div>
<div class="description-paragraph" id="p-0116" num="0115">It should be noted that power up sequence in this scheme will typically take longer because it may take a few cycles to attempt to perform all the pending verify or re-write operations.</div>
<div class="description-paragraph" id="p-0117" num="0116">In one embodiment, an option bit(s) or pin(s) (not shown) can be set to determine whether to enable or disable this feature. Some users, for example, may not want a long power up sequence. In such cases, an option bit may be provided to users to disable this feature.</div>
<div class="description-paragraph" id="p-0118" num="0117">In one embodiment, the data words associated with pending operations may be simply transmitted to the appropriate registers in the pipeline structure (from either the e1 register or the secured memory storage). From the pipeline, the data can be directed to their targeted locations within the memory bank <b>902</b>.</div>
<div class="description-paragraph" id="p-0119" num="0118">In one embodiment, if the attempt to verify or write the data words back to memory on power up succeeds, the corresponding entries for the data words in the secure memory storage area <b>932</b> or the e1 register may be deleted prior to shutting down. In other words, any data words that were successfully re-written or verified can be deleted from both the secure memory storage area <b>932</b> and the e1 register <b>904</b>. Any data words that could not be successfully re-written or verified subsequent to powering up will be stored in the e1 register.</div>
<div class="description-paragraph" id="p-0120" num="0119">Performing a Blind Save into a Dynamic Redundancy Register on Power Down and a Blind Recall into a Dynamic Redundancy Register on Power Up</div>
<div class="description-paragraph" id="p-0121" num="0120">In one embodiment, instead of attempting to process entries in the e1 register on power down, the memory device blindly transfers all the contents of the e1 register into secure memory storage area <b>932</b> on power down. As mentioned previously, the power down signal <b>916</b> can be used to indicate that a power down sequence is expected. In response to the power down signal, e1 register <b>904</b> can dump the entirely of its contents into secure memory storage area <b>932</b>. The blind save on power down will typically require more time than a regular power down sequence, but will not consume as many cycles as trying to execute pending operations in the e1 register prior to shut down.</div>
<div class="description-paragraph" id="p-0122" num="0121">In one embodiment, the memory device <b>900</b> ensures that data is written securely to the secure memory storage area <b>932</b> by using one or multiple schemes including voting, error-correcting code (ECC), or storing multiple copies. For example, in one embodiment, multiple copies of each of the data words can be written into secure memory storage area <b>932</b>. When one of the data words needs to be read, each of the copies of the data word are read from the secure memory storage area and compared to determine if the data between all the copies is consistent. In case of inconsistency, a voting scheme can be used to determine the correct data word. In other words, the most frequently occurring version of the data word between the various copies is selected as the data word. In another embodiment, ECC is used to ensure that the data words are error corrected to ensure that they are written accurately into the secure memory storage area <b>932</b>.</div>
<div class="description-paragraph" id="p-0123" num="0122">In one embodiment, instead of attempting to process pending verify and re-write entries from the secure memory storage area <b>932</b> on power up, the memory device blindly transfers all the contents from the secure area of the memory array into the e1 register. In other words, no attempt is made to process the operations associated with the data words stored in the secure memory storage area <b>932</b> on power up. The data words are simply saved to the e1 register.</div>
<div class="description-paragraph" id="p-0124" num="0123">It should be noted that the design for memory device <b>900</b> does not necessitate attempting pending verify and re-write operations on both shut down and power up. In other words, memory device may attempt to process pending re-write and verify operations only on power up, but not on power down. Alternatively, in one embodiment, memory device may attempt pending operations only on power down, but not during the power up sequence (e.g., not before the device enters mission mode). In a different embodiment, memory device may attempt pending operations both on power down and power up. In cases where the pending verify and re-write operations are not processed, the corresponding data words are either transferred directly from the e1 register to the secure memory storage area <b>932</b> (on power down) or from the secure memory storage area to the e1 register (on power up).</div>
<div class="description-paragraph" id="p-0125" num="0124">The e1 register <b>904</b> may also relocate data to secure memory storage <b>932</b> in the case that e1 register <b>904</b> lacks space for data words. The e1 register comprises control bits and communicates using control signals. In one embodiment, e1 register comprises valid bits indicating whether the associated data word is a valid entry within e1 register. In another embodiment, e1 register comprises fail count bits indicating the number of re-write attempts associated with a data word. In this way, memory device <b>900</b> may try only a specified number of re-write attempts. In another embodiment, e1 register comprises bits indicating that the associated data word has not been verified due to row address change and should be verified.</div>
<div class="description-paragraph" id="p-0126" num="0125">Memory device <b>900</b> also communicates using exemplary signals <b>908</b>-<b>918</b>. Address signal <b>908</b> comprises address within memory bank <b>902</b> of data to be written to or read from (or otherwise manipulated). Data word signal <b>910</b> comprises a data word to be written to (or otherwise manipulated) memory bank <b>902</b>. Clock signal <b>912</b> comprises a memory device <b>900</b> clock signal or other clock signal (such as for specific components within memory device <b>900</b>). Write and chip select signals <b>914</b> comprise signals used to determine the operation to be performed within memory bank <b>902</b>. For example, if write signal is high and chip select signal is low a read operation might be performed on memory bank <b>902</b>. Note that in such case write and chip select signals can be separate signals.</div>
<div class="description-paragraph" id="p-0127" num="0126">Power down signal <b>916</b> indicates whether power will be removed from memory device <b>900</b> or specific components within memory device <b>900</b> in accordance with an orderly shut down. Thus, power down signal <b>916</b> may be used to determine that contents of e1 register <b>904</b> should be written to secure memory storage area <b>932</b> as detailed above. Further, as detailed above, in one embodiment, power down signal <b>916</b> may indicate that certain data words within e1 register <b>904</b> should be verified to memory bank <b>902</b>. In another embodiment, power down signal <b>916</b> indicates that certain data words within e1 register <b>904</b> should be re-written to memory bank <b>902</b>.</div>
<div class="description-paragraph" id="p-0128" num="0127">Power up signal <b>918</b> indicates that power is provided to memory device <b>900</b>. Power up signal may indicate that contents of the non-volatile secure memory storage area <b>932</b> should be loaded to the e1 volatile memory. Further, as detailed above, in one embodiment, power up signal <b>918</b> may indicate that certain data words within secure memory storage <b>932</b> should be verified to memory bank <b>902</b>. In another embodiment, power up signal <b>918</b> indicates that certain data words within secure memory storage <b>932</b> should be re-written to memory bank <b>902</b>.</div>
<div class="description-paragraph" id="p-0129" num="0128">One of ordinary skill in the art will recognize that the specific signals <b>908</b>-<b>918</b> may be modified without departing from the present disclosure.</div>
<div class="description-paragraph" id="p-0130" num="0129"> <figref idrefs="DRAWINGS">FIG. 10</figref> depicts an exemplary embodiment for a process flow <b>1000</b> showing the processing of pending memory related operations in a dynamic redundancy register on power down in an exemplary memory device of the present disclosure.</div>
<div class="description-paragraph" id="p-0131" num="0130">At step <b>1002</b>, a power down signal <b>916</b> is received. As stated above, the power down signal originates from a system level software stack and represents a system wide orderly power down event. In a different embodiment, the power down sequence is initiated when an analog detector detects that the operating power of the chip has fallen below a threshold level as noted above. At step <b>1004</b>, the memory device <b>900</b> determines if an option bit or pin is set for enabling the processing of pending operations in a dynamic redundancy register prior to shutting down.</div>
<div class="description-paragraph" id="p-0132" num="0131">If the option bit or pin is set, then at step <b>1006</b> the memory device processes data words associated with pending verify operations in the e1 register <b>904</b>. In other words, any verifies for which corresponding data words and addresses are stored in the e1 register <b>904</b> are attempted prior to powering down. Similarly, at step <b>1008</b>, the memory device processes any pending re-write operations in the e1 register. Data words corresponding to any verifies or re-writes that are successful are deleted from the dynamic redundancy register at step <b>1010</b>. As noted above, if the dynamic redundancy register comprises volatile memory then a pro-active deletion step is not necessary. At step <b>1012</b>, the remaining data words, if any, corresponding to operations that did not complete successfully are transferred to non-volatile secure memory storage area <b>932</b>. As noted previously, operations may not complete successfully because of certain specification mandated time limits on the power down sequence. At step <b>1018</b>, the memory device is ready for power down and/or powers down.</div>
<div class="description-paragraph" id="p-0133" num="0132">Alternatively, if at step <b>1004</b>, the option bit is not set, then at step <b>1014</b> all the contents of the e1 register are re-located directly to the non-volatile secure memory storage area <b>932</b> without attempting any of the verify and re-write operations associated with data words stored in the e1 register. At step <b>1016</b>, the memory device powers down.</div>
<div class="description-paragraph" id="p-0134" num="0133"> <figref idrefs="DRAWINGS">FIG. 11</figref> depicts an exemplary embodiment for a process flow <b>1100</b> showing the processing of pending memory related operations in a secure memory storage area on power up using a dynamic redundancy register in an exemplary memory device of the present disclosure.</div>
<div class="description-paragraph" id="p-0135" num="0134">At step <b>1102</b>, a power up signal <b>918</b> is received from system level resources. At step <b>1104</b>, the memory device <b>900</b> determines if an option bit is set for enabling the processing of pending operations in a secure memory storage area using a dynamic redundancy register prior to powering up.</div>
<div class="description-paragraph" id="p-0136" num="0135">If the option bit is set, then at step <b>1106</b> the memory device processes data words associated with pending verify operations in the secure memory storage area <b>932</b>. In other words, any verifies for which corresponding data words and addresses are stored in the secure memory are attempted prior to powering up. Similarly, at step <b>1008</b>, the memory device processes any pending re-write operations in the secure memory area <b>932</b>. As noted above, the data words and addresses associated with the pending verify and re-write operations can be injected directly into the pipeline structure from the secure memory storage area. Alternatively, in a different embodiment, the verify and re-write operations can be attempted by first transferring the corresponding data words and addresses to a dynamic redundancy register, e.g. the e1 register, then to the pipeline.</div>
<div class="description-paragraph" id="p-0137" num="0136">Data words corresponding to any verifies or re-writes that are successful are deleted from the secure memory storage area <b>932</b> (or the e1 register if transferred there prior to attempting the operations) at step <b>1110</b>. If the verifies and re-writes are attempted directly from the secure memory storage, then at step <b>1112</b>, the remaining data words corresponding to operations that did not complete successfully are transferred to the e1 register. As noted previously, operations may not complete successfully because of certain specification mandated time limits on the power up sequence. At step <b>1112</b>, the memory device is ready to power up and/or powers up.</div>
<div class="description-paragraph" id="p-0138" num="0137">Alternatively, if at step <b>1104</b>, the option bit is not set, then at step <b>1114</b> all the contents of the secure memory storage area <b>932</b> are re-located directly to the dynamic redundancy register without attempting any of the verify and re-write operations associated with data words stored in the secure memory storage. At step <b>1116</b>, the memory device powers down.</div>
<div class="description-paragraph" id="p-0139" num="0138"> <figref idrefs="DRAWINGS">FIG. 12</figref> depicts an exemplary embodiment for a process flow <b>1200</b> showing the processing of performing a blind save of the contents of a dynamic redundancy register on power down in an exemplary memory device of the present disclosure. Upon receipt of a power down signal <b>916</b> at step <b>1206</b>, all the contents of the dynamic redundancy register (e.g. the e1 register) are transferred to secure storage location <b>932</b> without attempting to perform any of the operations associated with the data words stored in the e1 register. At step <b>1206</b>, the memory device is then powered off.</div>
<div class="description-paragraph" id="p-0140" num="0139"> <figref idrefs="DRAWINGS">FIG. 13</figref> depicts an exemplary embodiment for a process flow <b>1300</b> showing the processing of performing a blind recall of the contents of the memory bank into a dynamic redundancy register on power up in an exemplary memory device of the present disclosure. Upon receipt of a power up signal <b>918</b> at step <b>1310</b>, at step <b>1312</b>, all the contents of the secure memory storage area <b>932</b> are transferred to the dynamic redundancy register (e.g. the e1 register) without attempting to perform any of the operations associated with the data words stored in the secure memory storage area. At step <b>1314</b>, the memory device is then powered off.</div>
<div class="description-paragraph" id="p-0141" num="0140"> <figref idrefs="DRAWINGS">FIG. 2</figref> depicts an exemplary embodiment for a process flow showing a write operation using an exemplary memory device of the present disclosure and illustrates the high-level write operation performed on a memory device. In step <b>202</b>, a write operation to be performed on primary memory (e.g., input register to memory bank <b>102</b>) exists within a memory device. In step <b>202</b>, the system write operation may be performed on primary memory. In step <b>204</b>, it is determined whether system write operation was successful. For example, a verify operation could determine whether the write operation successfully occurred (for example, whether the data word was written with an acceptable error budget or perfectly) within primary memory. If the write operation was successful, process flow <b>200</b> proceeds to end step <b>210</b>. On the other hand, if the write operation was unsuccessful, a determination is made whether write operation should be retried in step <b>206</b>. One retry is illustrated during process flow <b>200</b> of <figref idrefs="DRAWINGS">FIG. 2</figref>, but as many tries to write data into memory bank may be tried as desired (0 to n retries). If a retry should be tried, the data will be written from e1 register to primary memory when process flow <b>200</b> returns to step <b>202</b>. From this description a person having ordinary skill in the art will understand the operation of steps <b>202</b>-<b>206</b> and <b>210</b>. However, in some instances, a write operation from e1 register to primary memory may be unsuccessful despite the total desired number of retries. In that case, if a determination is made at step <b>206</b> that no more tries should be made to write data from e1 register to primary memory, process flow <b>200</b> will proceed to step <b>208</b>. In step <b>208</b>, data is written to alternate storage (e.g., from e1 register to e2 register).</div>
<div class="description-paragraph" id="p-0142" num="0141"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a block diagram of exemplary embodiment of a memory device <b>300</b> of the present disclosure having dynamic redundancy registers. <figref idrefs="DRAWINGS">FIG. 3</figref> is a block diagram of memory device <b>300</b> described herein that include memory banks <b>304</b> and <b>306</b>, pipeline banks <b>308</b> and <b>310</b>, input register <b>312</b>, e1 register <b>314</b>, and e2 register <b>316</b>. Memory device <b>300</b> communicates using signals <b>318</b>-<b>324</b>. Memory device <b>300</b> includes ports <b>326</b>-<b>336</b> for performing read, write, and verify (or other data manipulation) operations on memory banks <b>304</b> and <b>306</b>. Memory device <b>300</b> is described herein to describe aspects of the present disclosure. One of ordinary skill would understand how to modify memory device <b>300</b> without departing from the teachings of the present disclosure. Thus, for example, the specific signals <b>318</b>-<b>324</b> may be modified by those with ordinary skill in the art without departing from the teachings of the present disclosure. Although shown with only two dynamic redundancy registers here (e1 register <b>314</b> and e2 register <b>316</b>) and two memory banks (memory banks <b>304</b> and <b>306</b>), memory device <b>300</b> may comprise two or more dynamic redundancy registers and one or more memory banks. In one embodiment, memory device may only comprise a single dynamic redundancy register as discussed above.</div>
<div class="description-paragraph" id="p-0143" num="0142">Memory banks <b>304</b> and <b>306</b> have previously been described with respect to <figref idrefs="DRAWINGS">FIG. 1</figref>. Memory banks <b>304</b> and <b>306</b> also include two ports (<b>326</b> and <b>328</b>; <b>332</b> and <b>334</b>, respectively) for performing read, write, and verify (or other data manipulation) operations. Memory bank <b>304</b> could, for example, comprise data words having even addresses while memory bank <b>306</b> comprises data words having odd addresses. Two ports <b>326</b> and <b>328</b> of memory bank <b>304</b> are coupled to bit lines of memory bank <b>304</b>. Likewise, two ports <b>332</b> and <b>334</b> of memory bank <b>306</b> are coupled to bit lines of memory bank <b>306</b>. Although shown with one read and one write port per memory bank, memory device <b>300</b> may comprise any desired number of read and write ports. For example, in one embodiment, memory device can comprise two write ports and a single read port. In one embodiment, a dual port memory bank is used. Thus, each port <b>326</b>-<b>336</b> could perform simultaneous read and write operations. However, one of ordinary skill in the art will understand that the discussion proceeds with pseudo-dual port memory banks <b>304</b>-<b>306</b> in mind to highlight specific teachings of the present disclosure. The Y-mux structure of the present disclosure allows pseudo-dual port memory banks <b>304</b>-<b>308</b> to perform simultaneous write and verify operations sharing common row address and different column address. As explained above, a pseudo-dual port memory bank may have one port optimized to perform write operations and another port optimized to perform read operations.</div>
<div class="description-paragraph" id="p-0144" num="0143">As shown in <figref idrefs="DRAWINGS">FIG. 3</figref>, the memory device may comprise two memory banks. Alternatively, the memory device may comprise several memory banks, e.g., 2, 4, 8, 16 etc. In one embodiment, each memory bank will be associated its own respective pipeline. In another embodiment, each memory bank will be associated with a dedicated pipeline and a dedicate device redundancy register. In other words, the memory device will contain an e1 register for each of the memory banks. If each memory bank has a dedicated e1 register, the size of each of the e1 registers will likely be smaller than an e1 register that services all memory banks. This will likely increase re-write and verify efficiency.</div>
<div class="description-paragraph" id="p-0145" num="0144">With respect to memory bank <b>304</b>, write port <b>326</b> allows transmission of signals comprising write address and write data to memory bank <b>304</b> from pipeline bank <b>308</b>. Port <b>328</b> allows transmission of data signals comprising read address or verify address to memory bank <b>304</b> from pipeline bank <b>308</b>. Port <b>330</b> allows transmission of data signals comprising read data word from memory bank <b>304</b> to pipeline bank <b>308</b>.</div>
<div class="description-paragraph" id="p-0146" num="0145">Pipeline banks <b>308</b> and <b>310</b> comprise data registers for implementing the write, read, and verify (and other data manipulation) operations of the present disclosure. Pipeline banks <b>308</b> and <b>310</b> are coupled to memory banks <b>304</b> and <b>306</b>, respectively, using pseudo-dual port structures, as explained above, for providing simultaneous write and verify operations. Moreover, pipeline banks <b>308</b> and <b>310</b> are coupled to input register <b>312</b>. As explained in connection with <figref idrefs="DRAWINGS">FIG. 5</figref>, pipeline banks <b>308</b> and <b>310</b> implement a pipeline structure that allows verify and write operations to be simultaneously performed on memory banks <b>304</b> and <b>306</b>. Moreover, pipeline banks communicate with e1 register <b>314</b> to implement a pipeline structure of the present disclosure.</div>
<div class="description-paragraph" id="p-0147" num="0146">Input register <b>312</b> comprises data storage elements comprising data bits. Input register comprises a data word, an associated addresses within memory banks, and control bits indicating a system operation such as system read or system write. For example, input register <b>312</b> may comprise a data word to be written to memory banks (received from data signal <b>322</b>), the address of the data (received from address signal <b>324</b>), and control bits. Input register <b>312</b> may be coupled to pipeline bank <b>308</b> and pipeline bank <b>310</b> to communicate a data word, its associated address, and control bits. One of ordinary skill in the art will recognize that other connections are possible and consistent with the teachings of the present disclosure and the specific connections are shown for ease of understanding. For example, input register <b>312</b> may be coupled to e1 register <b>314</b> for transferring the associated address of data word to e1 register <b>312</b> and control signals.</div>
<div class="description-paragraph" id="p-0148" num="0147">The e1 register <b>314</b> has been described in connection with <figref idrefs="DRAWINGS">FIG. 1</figref>, and will also be further described in connection with <figref idrefs="DRAWINGS">FIG. 7</figref>. The e1 register <b>314</b> is coupled to pipeline banks <b>308</b> and <b>310</b> and e2 register <b>316</b>. The e1 register <b>314</b> comprises data storage elements comprising data bits. For example, e1 register <b>314</b> may comprise data word and associated addresses for data words that have failed to verify correctly within memory banks <b>304</b> and <b>306</b>. The e1 register <b>314</b> may comprise data words and associated addresses for data words that have not yet been verified within memory banks <b>304</b> and <b>306</b>. The e1 register <b>314</b> may also comprise data words and associated addresses for data words that have failed to read from memory banks <b>304</b> and <b>306</b> within an associated error budget.</div>
<div class="description-paragraph" id="p-0149" num="0148">The e2 register <b>316</b> has been described in connection with <figref idrefs="DRAWINGS">FIG. 1</figref>, and will also further be described in connection with <figref idrefs="DRAWINGS">FIG. 8</figref>. The e2 register <b>316</b> may be coupled to e1 register <b>314</b>. As noted above, the e2 register <b>316</b> can, in one embodiment, be optional. The e2 register <b>316</b> comprises data storage elements comprising data bits. The e2 register <b>316</b> comprises data words, associated addresses, and control bits. These data words have typically failed to write to memory banks <b>304</b> and <b>306</b>. These words may have also been written from e1 register <b>314</b> to e2 register <b>316</b> because of power down of memory device <b>300</b> or lack of space within e1 register. In one embodiment, e2 register <b>316</b> may optionally be coupled to pipeline banks <b>308</b> and <b>310</b> or memory banks <b>304</b> and <b>306</b> in order to write data words (or other signals). For example, rather than storing data words and associated address from e1 register <b>316</b>, e2 register may store remap addresses within memory banks <b>304</b> and <b>306</b> for writing directly to memory banks through a remap process. In another embodiment, e2 register <b>316</b> writes data to memory banks <b>304</b> and <b>306</b> during power down.</div>
<div class="description-paragraph" id="p-0150" num="0149"> <figref idrefs="DRAWINGS">FIG. 4</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing a Y-mux structure. The Y-mux structure of the present disclosure allows pseudo-dual port memory banks to perform simultaneous write and verify operations sharing common row address and different column address. Accordingly, the Y-mux structure prevents the e1 register from overflowing by allowing both a write and verify operation to take place in the same cycle (provided they share a common row address). <figref idrefs="DRAWINGS">FIG. 4</figref> shows portion of memory device <b>400</b> comprising memory bank <b>402</b>, row decoder <b>404</b>, write column decoder and y-mux <b>406</b>, read column decoder and y-mux <b>408</b>, and muxes <b>410</b>-<b>412</b>.</div>
<div class="description-paragraph" id="p-0151" num="0150"> <figref idrefs="DRAWINGS">FIG. 4</figref> shows a Y-mux structure for decoders <b>406</b>-<b>408</b>. As mentioned above, the Y-mux structure allows simultaneous verify and write operations for data words sharing a common row address (word line) in the memory bank but different column address. In one embodiment, one set of x addresses (common row address) and two sets of y addresses (one for the write and another for the verify operation) are inputted into the Y-mux structure. The row address (x address) for both the verify and the write operation need to be the same. Further, the addresses for verify and write operations need to address different columns. In other words, the verify and write operation cannot be performed at the same column address. In one embodiment, instead of a pseudo-dual port memory bank utilizing the Y-mux structure, a dual ported memory bank can be used that allows two writes or two reads to be performed simultaneously.</div>
<div class="description-paragraph" id="p-0152" num="0151">Memory bank <b>402</b> is coupled to decoders <b>404</b>-<b>408</b>. Row decoder <b>404</b> takes as an input the row of address for data word that is to be written to or read or verified from memory bank <b>402</b>. Row decoder then determines appropriate row for the data word. In various embodiments, a data word is a pre-defined number of bits for a piece of information handled by a memory device. For example, a data word may comprise 8, 16, 24, etc. bits. The size of a data word is dependent on the memory device and may be varied as necessary.</div>
<div class="description-paragraph" id="p-0153" num="0152">Mux <b>410</b> is coupled to row decoder <b>404</b>. Mux <b>410</b> takes as inputs the pipeline row address (Pipeline_A_Row) and read row address (Read_A_Row). Pipeline row address indicates the row address for data words received from the pipeline for either a write or verify operation. Typically, the pipeline row address indicates a shared row address between a data word to be written to memory bank <b>402</b> and another data word to be simultaneously verified in memory bank <b>402</b>. Read row address indicates a row address for a data word to be read from memory bank <b>402</b>. Read row address generally takes precedence over pipeline row address when pseudo-dual port memory bank <b>402</b> is used. Mux <b>410</b> then outputs appropriate row address to row decoder <b>404</b>. Row address decoder <b>404</b> then activates the appropriate row in memory bank <b>402</b>. Appropriate activation schemes will be known to those with ordinary skill in the art.</div>
<div class="description-paragraph" id="p-0154" num="0153">Write column decoder and y-mux <b>406</b> is coupled to memory bank <b>402</b>. Write column decoder and y-mux <b>406</b> takes as inputs write address column WR_A_Col and write data WR_D, such as data word. Write address column indicates a column address for a system write or re-write operation received from the pipeline structure of the present disclosure. Write column decoder and y-mux <b>406</b> then determines appropriate column address for write operation. Write column decoder and y-mux <b>406</b> then activates the appropriate column in memory bank <b>402</b>. Appropriate activation schemes will be known to those with ordinary skill in the art.</div>
<div class="description-paragraph" id="p-0155" num="0154">Read column decoder and y-mux <b>408</b> is coupled to memory bank <b>402</b>. Read column decoder and y-mux <b>408</b> takes as its input the column address output from mux <b>412</b>. Read column decoder and y-mux <b>408</b> then determines the appropriate column for read operation. Read column decoder and y-mux <b>408</b> then activates the appropriate column in memory bank <b>402</b>. Appropriate activation schemes will be known to those with ordinary skill in the art.</div>
<div class="description-paragraph" id="p-0156" num="0155">Mux <b>412</b> is coupled to read column decoder and y-mux <b>408</b>. Mux <b>412</b> takes as inputs pipeline column address (Pipeline_A_Col) and read column address (Read_A_Col). Pipeline column address indicates column address of data word that should be verified in memory bank <b>402</b>. Pipeline column address is received from the pipeline structure. Read column address indicates a column address for a data word that should be read from memory bank <b>402</b>. Typically, read column address takes precedence when a pseudo-dual port memory bank <b>402</b> is used. Mux <b>412</b> outputs signal comprising column address for read operation or verify operation to read column decoder and y-mux <b>408</b>. Thus, operating together, row and column decoders <b>404</b>-<b>408</b> perform operation on specific addresses within memory bank <b>402</b> (for example, read, write, or verify).</div>
<div class="description-paragraph" id="p-0157" num="0156">One of ordinary skill in the art will understand that the Y-mux structure of column decoders and y-mux <b>406</b>-<b>408</b> allows memory bank <b>402</b> to be operated as a pseudo-dual port memory bank. A single port memory cell may thus be used, but memory bank <b>402</b> may simultaneously perform verify and write operations when those operations share a common row address but different column addresses. If a dual port memory bank <b>402</b> was used, read and write or verify and write operations could be performed simultaneously (and not necessarily on a common row address). Further, with a dual port memory bank, two writes or two reads could be performed simultaneously as well. As mentioned above, in one embodiment, the pseudo-dual port of the memory bank is designed so that one port is optimized for a read operation and the other port is optimized for a write operation. The port that is optimized for a write operation can also perform reads because write ports typically require a strong driver. However the read port typically cannot perform writes because the driver does not support write operations with higher current requirements.</div>
<div class="description-paragraph" id="p-0158" num="0157">A Memory Device with a Plurality of Memory Banks where Each Memory Bank is Associated with a Corresponding Memory Instruction Pipeline and a Dynamic Redundancy Register</div>
<div class="description-paragraph" id="p-0159" num="0158"> <figref idrefs="DRAWINGS">FIG. 17</figref> illustrates the manner in which a memory bank can be segmented in accordance with an embodiment of the present invention. As shown in <figref idrefs="DRAWINGS">FIG. 17</figref>, a memory bank can be split into segments, memory bank A <b>1702</b> and memory bank B <b>1703</b>. Instead of being driven by one set of row and column decoders, the memory bank is now split into two and driven from both sides with two sets or row and column decoders. The row decoders <b>1704</b> and <b>1754</b> perform substantially the same function as the row decoder <b>404</b> in <figref idrefs="DRAWINGS">FIG. 4</figref>. Similarly, the two segments can each be driven by a Write column decoder and Y-mux (e.g., <b>1706</b> and <b>1726</b>) and a Read column decoder and Y-mux (e.g., <b>1708</b> and <b>1728</b>). The write column decoder and Y-mux and the Read column decoder and Y-mux structures perform substantially the same function as the Write column decoder and Y-mux <b>406</b> and the Read column decoder and Y-mux <b>408</b> shown in <figref idrefs="DRAWINGS">FIG. 4</figref>.</div>
<div class="description-paragraph" id="p-0160" num="0159">Each of the segments may be considered a separate memory bank. As mentioned above, in an alternate embodiment, the memory device may comprise several memory banks or segments, e.g., 2, 4, 8, 16 etc. In one embodiment, each memory bank or segment will be associated its own pipeline. In another embodiment, each memory segment will be associated with a dedicated pipeline and a dedicated device redundancy register. In other words, the memory device will contain an e1 register for each of the memory banks or segments.</div>
<div class="description-paragraph" id="p-0161" num="0160">A Memory Device with a Dual Y-Multiplexer Structure for Performing Two Simultaneous Operations on the Same Row of a Memory Bank</div>
<div class="description-paragraph" id="p-0162" num="0161"> <figref idrefs="DRAWINGS">FIG. 18</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing the operation of a row and column decoder in conjunction with a Y-mux structure in accordance with an embodiment of the present invention. As mentioned above, the Y-mux structure of the present disclosure allows pseudo-dual port memory banks to perform simultaneous write and verify operations sharing common row address and different column address. <figref idrefs="DRAWINGS">FIG. 18</figref> shows portion of memory device <b>1800</b> comprising memory bank <b>1802</b>, row decoder <b>1804</b>, write column decoder and y-mux <b>1806</b>, and read column decoder and y-mux <b>1808</b>. Note that memory bank <b>1802</b>, row decoder <b>1804</b>, write column decoder and y-mux <b>1806</b>, and read column decoder and y-mux <b>1808</b> perform substantially similar functions as the corresponding components in <figref idrefs="DRAWINGS">FIG. 4</figref>. Further note that write column decoder and y-mux <b>1806</b>, row decoder <b>1804</b> and read column decoder and y-mux <b>1808</b> together comprise a read/write port for the pseudo dual port memory bank.</div>
<div class="description-paragraph" id="p-0163" num="0162"> <figref idrefs="DRAWINGS">FIG. 18</figref> shows a Y-mux structure for decoders <b>1806</b> and <b>1808</b>. Memory bank <b>1850</b> will typically comprise a plurality of rows and column bit-lines. The Y-mux structure allows simultaneous verify and write operations for data words sharing a common row address (word line) in the memory bank but different column address. For example, the row decoder <b>1804</b> may activate a row address <b>1850</b> (an x address). At the same time, column decoder and Y-mux <b>1806</b> multiplexes the column bit-lines <b>1851</b> based on a column address (WR_A_COL) to arrive at the column lines associated with the addressed data word in the Y-mux. In other words, the WR_A_COL signal is used to select the appropriate column bit-lines <b>1851</b> to write the data inputted through the WR_D signal. In the same cycle as column decoder and Y-mux <b>1806</b> are writing a data word to the memory bank <b>1802</b>, the read column decoder and Y-mux is used to perform the verify operation that shares the common row address (on row <b>1850</b>) as the write operation. For example, the read address <b>1852</b> is used to select the appropriate bit-lines for the verify (or read) operation and the result is outputted through the D-out signal. Accordingly, the column decoder and Y-mux <b>1806</b> is used to write a data word into the memory bank <b>1802</b> at a row address <b>1850</b> in the same cycle as the read column decoder and Y-mux <b>1808</b> is used to verify (or read) a data word from row address <b>1850</b>.</div>
<div class="description-paragraph" id="p-0164" num="0163"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing pipeline structure that allows verification and re-write operations. <figref idrefs="DRAWINGS">FIG. 5</figref> shows exemplary pipeline <b>500</b> for implementing the pipeline flow for system write, re-write, and verify operations, among other data manipulation operations. Pipeline <b>500</b> is implemented using system operations <b>502</b>, input register <b>504</b>, memory pipeline <b>506</b>, e1 register <b>508</b>, and memory bank <b>510</b>. Memory pipeline <b>506</b> comprises write register <b>512</b>, delay register <b>514</b>, verify register <b>516</b>, and verify results register <b>518</b>. Moreover pipeline <b>500</b> comprises compare memory logic <b>520</b>.</div>
<div class="description-paragraph" id="p-0165" num="0164">System operation <b>502</b> comprises signals for performing a desired operation such as system write and system read, among other data manipulation operations. As such, system operation <b>502</b> typically includes signals indicating a data word, the associated data address within memory bank <b>510</b>, and control signals indicating the operation to be performed on memory bank <b>510</b> (such as write or chip select signal), among other signals for performing data manipulation operations and maintaining appropriate states. Typically, the signals from system operation <b>502</b> are stored in input register <b>504</b>. Other configurations for signals from system operation <b>502</b> may be used without departing from the scope of the present disclosure. Moreover, other embodiments of pipeline <b>500</b> are possible without departing from the teachings of this disclosure. For example, delay register <b>514</b> allows delay between write and verify operation on a data word. STT-MRAM may require a delay between write operations at a particular address and verify operation at the common address. The delay cycle allows data storage elements within memory bank <b>510</b> to return to a stable state before performing verify operation. Other RAM technologies, and in some instances STT-MRAM itself, may not require such delay and delay register <b>514</b> is not necessary.</div>
<div class="description-paragraph" id="p-0166" num="0165">Input register <b>504</b> is coupled to write register <b>512</b>. Input register <b>504</b> comprises data storage elements comprising data bits. In certain embodiments, input register <b>504</b> can include data bits for a data word, associated address, a valid bit, and other desired control bits. The input register <b>504</b> comprises the initial stage of the pipeline.</div>
<div class="description-paragraph" id="p-0167" num="0166">In one embodiment, for example, where a pseudo-dual bank memory bank is used, the input register <b>504</b> adds a delay in the pipeline that allows the memory device time to search for a data word and an associated address in the e1 register <b>508</b> that shares a common row address with a data word (associated with a write operation) in the input register. For example, a write operation may be received into the input register <b>504</b> from system operations <b>502</b> along with the data word to be written and its corresponding address. The input register provides the requisite delay to be able to search in the e1 register for a verify operation that shares a common row address with the data word associated with the write operation. As discussed above, e1 register <b>904</b> can receive a ROWchg signal that indicates row address change within a pipeline structure of the present disclosure. The ROWchg signal may indicate that another data word and associated address should be transmitted from e1 register <b>904</b> to the pipeline structure for a verify operation. If a pseudo-dual port memory bank is used, e1 register <b>904</b> may choose a data word and an associated address such that they share a common row address with a data word to be written into the write register of the pipeline structure. In this way, a write operation and a verify operation can be simultaneously performed since the data words share a common row address. The input register <b>504</b> provides the necessary delay in the pipeline to be able to look for the matching verify operation in the e1 register before the data word to be written is inserted into the write register <b>512</b>. In other words, the delay of input register <b>504</b> allows enough time to search for the matching verify operation in the e1 register prior to inserting the data words to be written and verified into the write register <b>512</b> and the verify register <b>516</b> respectively.</div>
<div class="description-paragraph" id="p-0168" num="0167">The valid bit indicates whether data manipulation operations such as system write operation should be performed or the register should not be used to perform such operations. For example, valid bits based on a write signal and chip select signal provided by system operation <b>502</b> may indicate whether data word in input register is used for write. Input register <b>504</b> may also be coupled to e1 register <b>508</b>, for example, to transmit associated address and control bits to e1 register <b>508</b>. This associated address and control bits may be used in case of row address change in the pipeline or to invalidate an e1 register <b>500</b> entry with the same associated address, for example. For example, the address and control bits may be used to look for a pending verify operation in the e1 register that shares a common row address with a data word to be written into the memory bank.</div>
<div class="description-paragraph" id="p-0169" num="0168">An active memory bank of an embodiment of the present disclosure denotes a memory bank in which a system write or system read is taking place. Thus, an active bank signal (or an active bank bit) prevents re-writes during that clock cycle, and instead indicates that a system write or read will occur during that clock cycle. For example, an active bank signal indicates that write register <b>512</b> will write a data word previously received from input register <b>504</b> to memory bank <b>510</b> during that clock cycle. Thus, e1 register knows that data word for re-write operation should not be transmitted to write register <b>512</b> during that clock cycle. Input register <b>504</b> transmits data word, associated address, and desired control bits to write register <b>512</b>.</div>
<div class="description-paragraph" id="p-0170" num="0169">The e1 register <b>508</b> has previously been described with respect to <figref idrefs="DRAWINGS">FIG. 1</figref> and will be described in conjunction with <figref idrefs="DRAWINGS">FIG. 7</figref>. The e1 register <b>508</b> is coupled to input register <b>504</b>, write register <b>512</b>, delay register <b>514</b>, verify register <b>516</b>, and verify results register <b>520</b>. The e1 register <b>508</b> may supply data word, associated address of a data word within memory bank <b>510</b>, and control signals to write register <b>512</b>, and verify register <b>516</b>. The e1 register <b>508</b> may receive a data word, its associated address, and control signals from delay register <b>514</b> and verify results register <b>518</b>. The e1 register <b>508</b> may also transmit a physical address within e1 register <b>508</b> in case the data word is already stored within e1 register <b>508</b>. Although not shown, if delay register <b>514</b> were not used, e1 register <b>508</b> may receive data word, associated address, and control signals from write register <b>512</b>. Moreover, e1 register <b>508</b> may communicate with input register to receive signals such as data word signal and control signal such as inactive bank signal.</div>
<div class="description-paragraph" id="p-0171" num="0170">Write register <b>512</b> is coupled to delay register <b>514</b> and memory bank <b>510</b>. In other embodiments, write register <b>512</b> may be coupled to verify register <b>516</b>. Write register <b>512</b> comprises data storage elements comprising data bits. Typically, write register <b>512</b> comprises data bits for a data word, its associated address, valid bit, and other desired control bits. The valid bit is a valid register bit and may be set to one when write register <b>512</b> contents are valid such that write operation may occur. Write register <b>504</b> receives data word, associated address, and desired control bits from input register <b>504</b> for system write operations. For memory bank clock cycles that write register <b>504</b> would not otherwise be writing system data words to that memory bank, e1 register <b>508</b> transmits data words, associated address, and desired control bits to write register <b>512</b>. This allows write register <b>512</b> to attempt re-write operations when write register <b>512</b> would not otherwise be writing system data words to memory bank <b>510</b>. As previously explained, when pseudo-dual port memory bank <b>510</b> is used, read operations generally take precedence over write operations from write register <b>512</b>. Moreover, when pseudo-dual port memory bank <b>510</b> is used, write register <b>512</b> may perform write operation simultaneously with verify operation performed by verify register <b>516</b> if the operations share a common row address. Write register <b>512</b> also transmits data word, associated address, and desired control bits to delay register <b>514</b> (or verify register <b>516</b> if no delay register is used).</div>
<div class="description-paragraph" id="p-0172" num="0171">Delay register <b>514</b> is coupled to verify register <b>516</b> and e1 register <b>508</b>. Delay register <b>514</b> comprises data storage elements comprising data bits. Typically, delay register <b>514</b> comprises a data word, associated address bits, a valid bit, and other desired control bits. Valid bit indicates if delay register <b>514</b> contents are valid. The delay register or multiple delay register could provide more clock cycle delay between write and verify. As previously explained, the delay register <b>514</b> is optional for RAM technologies that require delay between write and verify operations for a particular address within memory bank <b>510</b>. If row address change occurs within memory pipeline <b>504</b>, delay register <b>514</b> transmits data word, associated address, and desired control bits to e1 register <b>508</b>. Thus, data word may be verified on a later clock cycle when write register will write a data word sharing a common row address. In another embodiment, data word may be verified on a later clock cycle when no verify operation will otherwise occur to the memory bank. If no row address change occurs within memory pipeline <b>504</b>, after desired delay clock cycles, delay register <b>514</b> transmits the data word, associated address, and desired control bits to verify register <b>516</b>.</div>
<div class="description-paragraph" id="p-0173" num="0172">Verify register <b>516</b> is coupled to memory bank <b>510</b> and verify results register <b>520</b>. Verify register <b>516</b> comprises data storage elements comprising data bits. Typically, verify register <b>516</b> comprises a data word, its associated address, valid bit, and other desired control bits. Verify register <b>156</b> may comprise internal e1 address if data word was received as a result of re-write operation or verify operation from e1 register. Valid bit indicates whether verify register <b>516</b> contents are valid for verify operation. Verify register <b>516</b> contents, such as data word, can be sourced from either delay register <b>514</b> (or write register <b>512</b> in case delay register <b>512</b> is not used) or e1 register <b>508</b>. Verify register <b>516</b> would receive contents from delay register <b>514</b> if no row address change has occurred. Verify register <b>516</b> would receive contents from e1 register <b>508</b> if row address change occurred. In one embodiment, verify register <b>516</b> receives the data word, its associated address, address within e1 register, fail count bits, and other desired control bits from e1 register <b>508</b>. Verify register <b>516</b> transmits the associated address to memory bank <b>510</b> for the data word to be verified. Verify register <b>516</b> transmits the data word, fail count bits, and other desired status bits to compare data logic <b>520</b>. Verify register <b>516</b> transmits the data word and its associated address to verify results register <b>518</b> in case of a system write. Verify register <b>516</b> transmits internal e1 address in case of re-write operation or verify from e1 register <b>508</b>. Thus, if the data word and the associated address already exist e1 register <b>508</b>, verify register <b>516</b> need not transmit the data word and the associated address to verify results register <b>518</b>.</div>
<div class="description-paragraph" id="p-0174" num="0173">Compare memory logic <b>520</b> is coupled to verify register <b>516</b>. Compare memory logic <b>520</b> comprises data storage elements comprising data bits. Compare memory logic <b>520</b> may comprise read or sense amplifiers to read a data word from memory bank <b>510</b>. Hardware logic for implementing compare memory logic <b>520</b> can be used by those with ordinary skill in the art.</div>
<div class="description-paragraph" id="p-0175" num="0174">In the case of verify operation, compare memory logic <b>520</b> receives input from verify register <b>516</b> and memory bank <b>510</b>. Memory bank <b>510</b> outputs a data word to compare memory logic <b>520</b> based on the associated address transmitted from verify register <b>516</b>. Compare memory logic <b>520</b> also receives the data word from verify register <b>516</b>. Thus, compare memory logic <b>520</b> determines whether the write operation passed or failed. Compare memory logic <b>520</b> makes the pass/fail determination based on methods desired by those with ordinary skill in the art. In one embodiment, compare memory logic <b>520</b> determines whether the data word from verify register <b>516</b> matches the data word from memory bank <b>510</b>. In other embodiments, compare memory logic <b>520</b> deems that the operation passed if a predetermined number of bits match. If verify operation passed, compare memory logic <b>520</b> passes appropriate control bits to verify results register <b>518</b>, for example fail count bits may be set to 0. Verify results register <b>518</b> may then invalidate the entry within e1 register if needed. If verify operation failed, verify results register <b>518</b> updates fail count bits within e1 register (in case of re-write or verify from e1) or transmits the data word, the associated address, and control bits to e1 register (in case of system write).</div>
<div class="description-paragraph" id="p-0176" num="0175">In the case of read operation, memory bank <b>510</b> outputs a data word, the associated address, and desired control bits to compare memory logic <b>520</b>. Compare memory logic <b>520</b> determines whether the read operation passed or whether re-write operation should be performed on memory bank <b>510</b> because too many errors occurred while reading the data word. In one embodiment, compare memory logic <b>520</b> corrects data words using ECC and parity bits associated with data words. If ECC determines that too many errors occurred (e.g., errors above a predetermined threshold), compare memory logic <b>520</b> also transmits the data word and control bits to verify results register <b>518</b>.</div>
<div class="description-paragraph" id="p-0177" num="0176">Verify results register <b>518</b> is coupled to compare memory logic <b>520</b> and e1 register <b>508</b>. Verify results register <b>518</b> comprises data storage elements comprising data bits. Typically, verify results register <b>518</b> comprises data bits for a data word, associated address, valid bit, and desired control bits. Valid bit indicates that contents of verify results stage register <b>518</b> are valid to be written to e1 register <b>508</b>. Verify results register <b>518</b> may also comprise internal e1 address. Verify results register <b>518</b> transmits data to e1 register as previously explained.</div>
<div class="description-paragraph" id="p-0178" num="0177">One of ordinary skill in the art will understand that pipeline structure <b>500</b> is exemplary and may include more write, delay, verify, verify results registers, and compare logic blocks to allow more re-write attempts before writing failed data words to e1 register. Moreover, more registers and memory banks may be added without departing from the scope of the present disclosure.</div>
<div class="description-paragraph" id="p-0179" num="0178">Increased Pipeline Depth to Support Pre-Read Operations in a Memory Device</div>
<div class="description-paragraph" id="p-0180" num="0179"> <figref idrefs="DRAWINGS">FIG. 14</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing pipeline structure that allows pipestages for performing a pre-read operation for a write operation. <figref idrefs="DRAWINGS">FIG. 14</figref> shows exemplary pipeline <b>1400</b> for implementing the pipeline flow for system pre-read, write, re-write, and verify operations, among other data manipulation operations. Pipeline <b>1400</b> is implemented using system operations <b>1402</b>, input register <b>1404</b>, memory pipeline <b>1406</b>, e1 register <b>1408</b>, and memory bank <b>1410</b>. Memory pipeline <b>1406</b> comprises pre-read register <b>1460</b>, write register <b>1412</b>, delay register <b>1414</b>, verify register <b>1416</b>, and verify results register <b>1418</b>. Moreover pipeline <b>1400</b> comprises compare memory logic <b>1420</b>.</div>
<div class="description-paragraph" id="p-0181" num="0180">It should be noted that pipeline <b>1400</b> can be distinguished from pipeline <b>500</b> in that the memory pipeline <b>1406</b> comprises a pre-read register and pipe-stage <b>1460</b> prior to the write register <b>1412</b> and pipe-stage.</div>
<div class="description-paragraph" id="p-0182" num="0181">System operation <b>1402</b> performs substantially the same function as system operations <b>502</b> in <figref idrefs="DRAWINGS">FIG. 5</figref>. For example, system operation <b>1402</b> comprises signals for performing a desired operation such as system write and system read, among other data manipulation operations. As such, system operation <b>1402</b> typically includes signals indicating a data word, the associated data address within memory bank <b>1410</b>, and control signals indicating the operation to be performed on memory bank <b>1410</b> (such as write or chip select signal), among other signals for performing data manipulation operations and maintaining appropriate states. Typically, the signals from system operation <b>1402</b> are stored in input register <b>1404</b>. Other configurations for signals from system operation <b>1402</b> may be used without departing from the scope of the present disclosure. Moreover, other embodiments of pipeline <b>1400</b> are possible without departing from the teachings of this disclosure. For example, delay register <b>1414</b> allows delay between write and verify operation on a data word. STT-MRAM may require a delay between write operations at a particular address and verify operation at the common address. The delay cycle allows data storage elements within memory bank <b>1410</b> to return to a stable state before performing verify operation. Other RAM technologies, and in some instances STT-MRAM itself, may not require such delay and delay register <b>1414</b> is not necessary.</div>
<div class="description-paragraph" id="p-0183" num="0182">Input register <b>1404</b> is coupled to pre-read register <b>1460</b>. Input register <b>1404</b> comprises data storage elements comprising data bits. In certain embodiments, input register <b>1404</b> can include data bits for a data word, associated address, a valid bit, and other desired control bits. The input register <b>1404</b> comprises the initial stage of the pipeline.</div>
<div class="description-paragraph" id="p-0184" num="0183">As mentioned above, in one embodiment, for example, where a pseudo-dual bank memory bank is used, the input register <b>1404</b> adds a delay in the pipeline that allows the memory device time to search for a data word and an associated address in the e1 register <b>1408</b> that shares a common row address with a data word (associated with a write operation) in the input register. For example, a write operation may be received into the input register <b>1404</b> from system operations <b>1402</b> along with the data word to be written and its corresponding address. The input register provides the requisite delay to be able to search in the e1 register for a verify operation that shares a common row address with the data word associated with the write operation. In this way, a write operation and a verify operation can be simultaneously performed since the data words share a common row address.</div>
<div class="description-paragraph" id="p-0185" num="0184">The valid bit, as discussed above, indicates whether data manipulation operations such as system write operation should be performed or the register should not be used to perform such operations. For example, valid bits based on a write signal and chip select signal provided by system operation <b>1402</b> may indicate whether data word in input register is used for write. Input register <b>1404</b> may also be coupled to e1 register <b>1408</b>, for example, to transmit associated address and control bits to e1 register <b>1408</b>. This associated address and control bits may be used in case of row address change in the pipeline or to invalidate an e1 register <b>1400</b> entry with the same associated address, for example. For example, the address and control bits may be used to look for a pending verify operation in the e1 register that shares a common row address with a data word to be written into the memory bank.</div>
<div class="description-paragraph" id="p-0186" num="0185">An active memory bank of an embodiment of the present disclosure denotes a memory bank in which a system write or system read is taking place. Thus, an active bank signal (or an active bank bit) prevents re-writes during that clock cycle, and instead indicates that a system write or read will occur during that clock cycle. For example, an active bank signal indicates that write register <b>1412</b> will write a data word previously received from input register <b>1404</b> to memory bank <b>1410</b> during that clock cycle. Thus, e1 register knows that data word for re-write operation should not be transmitted to write register <b>1412</b> during that clock cycle.</div>
<div class="description-paragraph" id="p-0187" num="0186">Input register <b>1404</b> transmits data word, associated address, and desired control bits to pre-read register <b>1460</b>. A pre-read register <b>1460</b> can be used in the pipeline for several purposes. For example, the data word, associated address and control bits received from the input register <b>1404</b> could be associated with a write operation. If the information transmitted from input register <b>1404</b> into the pre-read register is associated with a write operation, a pre-read register <b>1460</b> can be used to reduce power consumption by pre-reading the data word to be written from memory bank <b>1410</b>. Power consumption is reduced as a result of performing a pre-read because instead of writing the data word received from the input register <b>1404</b> directly into the memory bank at the associated address, the current data word stored at the associated address in the memory bank <b>1410</b> is pre-read to determine how many bits in the current data word need to be flipped in order to conform it to the newly received data word. For example, if the newly received data word to be written into the memory bank comprises all 1's, but the pre-read operation determines that the data word already written into memory bank at the associated address also comprises all 1's, then power is saved because the newly received data word would not need to be re-written into the memory. Accordingly, the pre-read operation reduces power consumption by reducing the number of bits that need to be written for each write operation. In other words, the pre-read operation takes into account that some of the bits in a given word may already be in the correct orientation so a write operation does not need to typically write all the bits in the word.</div>
<div class="description-paragraph" id="p-0188" num="0187">In another embodiment, a pre-read operation is performed as part of a bit-redundancy remapping protocol. Examples of on-the-fly bit failure detection and bit redundancy remapping techniques are described in U.S. patent application Ser. No. 15/792,672, filed Oct. 24, 2017, entitled “ON-THE-FLY BIT FAILURE DETECTION AND BIT REDUNDANCY REMAPPING TECHNIQUES TO CORRECT FOR FIXED BIT DEFECTS” and hereby incorporated by reference in its entirety.</div>
<div class="description-paragraph" id="p-0189" num="0188">In one embodiment, the pre-read register <b>1460</b> may require extra bits to carry the information acquired as a result of the pre-read operation. In other words, the pre-read register <b>1460</b> not only needs to store the data word, associated address, and desired control bits received from the input register <b>1404</b>, but it also needs to store information acquired as a result of the pre-read operation, e.g., the bits read from memory bank <b>1410</b>. For example, the pre-read register <b>1460</b> may need to store mask bits comprising information regarding the bits in the data word received from the input register that need to be flipped in order to correctly perform the write operation. Further, the mask bits also need to store information regarding the direction in which the bits get flipped. In one embodiment of the present invention, pre-read register may also need to store ECC bits in order to perform error correction on the bits that are read from and written to memory bank <b>1410</b>.</div>
<div class="description-paragraph" id="p-0190" num="0189">In one embodiment, instead of carrying the additional bits of storage within the pre-read register itself, the memory device can store the additional bits within e1 register <b>1408</b>. However, as shown in <figref idrefs="DRAWINGS">FIG. 14</figref>, the connection between the pre-read register <b>1460</b> and the e1 register <b>1408</b> is optional. In a more typical embodiment, the additional bits will be stored within the pre-read register <b>1460</b>, because storing the additional data in the e1 register may not be desirable in certain circumstances because of size considerations.</div>
<div class="description-paragraph" id="p-0191" num="0190">The e1 register <b>1408</b> performs substantially the same function as the e1 register described in conjunction with <figref idrefs="DRAWINGS">FIG. 5</figref>. The e1 register <b>1408</b> is coupled to input register <b>1404</b>, write register <b>1412</b>, delay register <b>1414</b>, verify register <b>1416</b>, and verify results register <b>1420</b>. The e1 register may, in one embodiment, be also coupled to pre-read register <b>1460</b>. The e1 register <b>1408</b> may supply data word, associated address of a data word within memory bank <b>1410</b>, and control signals to write register <b>1412</b>, and verify register <b>1416</b>. The e1 register <b>1408</b> may receive a data word, its associated address, and control signals from delay register <b>1414</b> and verify results register <b>1418</b>. The e1 register <b>1408</b> may also transmit a physical address within e1 register <b>1408</b> in case the data word is already stored within e1 register <b>1408</b>. Although not shown, if delay register <b>1414</b> were not used, e1 register <b>1408</b> may receive data word, associated address, and control signals from write register <b>1412</b>. Moreover, e1 register <b>1408</b> may communicate with input register to receive signals such as data word signal and control signal such as inactive bank signal.</div>
<div class="description-paragraph" id="p-0192" num="0191">Write register <b>1412</b> is coupled to delay register <b>1414</b> and memory bank <b>1410</b>. Write register <b>1412</b> performs substantially the same function as write register <b>512</b> in <figref idrefs="DRAWINGS">FIG. 5</figref>.</div>
<div class="description-paragraph" id="p-0193" num="0192">Delay register <b>1414</b> is coupled to verify register <b>1416</b> and e1 register <b>1408</b>. Delay register <b>1414</b> performs substantially the same function as delay register <b>514</b> in <figref idrefs="DRAWINGS">FIG. 5</figref>.</div>
<div class="description-paragraph" id="p-0194" num="0193">Verify register <b>1416</b> is coupled to memory bank <b>1410</b> and verify results register <b>1420</b>. Verify register <b>1416</b> performs substantially the same function as verify register <b>516</b> in <figref idrefs="DRAWINGS">FIG. 5</figref>.</div>
<div class="description-paragraph" id="p-0195" num="0194">Compare memory logic <b>1420</b> is coupled to verify register <b>1416</b>. Compare memory logic <b>1420</b> performs substantially the same function as compare logic <b>520</b> in <figref idrefs="DRAWINGS">FIG. 5</figref>. Verify results register <b>1418</b> is coupled to compare memory logic <b>1420</b> and e1 register <b>1408</b>. Verify results register <b>1418</b> performs substantially the same function as verify result register <b>518</b> in <figref idrefs="DRAWINGS">FIG. 5</figref>.</div>
<div class="description-paragraph" id="p-0196" num="0195">One of ordinary skill in the art will understand that pipeline structure <b>1400</b> is exemplary and may include more write, delay, verify, verify results registers, and compare logic blocks to allow more re-write attempts before writing failed data words to e1 register. Moreover, more registers and memory banks may be added without departing from the scope of the present disclosure.</div>
<div class="description-paragraph" id="p-0197" num="0196"> <figref idrefs="DRAWINGS">FIG. 19</figref> depicts an exemplary embodiment for a process flow showing the manner in which a pre-read register is used to perform a write operation in an exemplary memory device of the present disclosure.</div>
<div class="description-paragraph" id="p-0198" num="0197">At step <b>1902</b>, a data word, an associated address and control bits are received into the input register <b>1404</b> from system operations <b>1402</b>.</div>
<div class="description-paragraph" id="p-0199" num="0198">At step <b>1904</b>, as mentioned above, in one embodiment, the input register <b>1404</b> adds a delay in the pipeline that allows the memory device time to search for a data word and an associated address in the e1 register <b>1408</b> that shares a common row address with a data word (associated with a write operation) in the input register.</div>
<div class="description-paragraph" id="p-0200" num="0199">At step <b>1906</b>, the input register <b>1404</b> transmits data word, associated address, and desired control bits to pre-read register <b>1460</b>. As indicated above, the pre-read register <b>1460</b> can be used in the pipeline for several purposes. For example, the data word, associated address and control bits received from the input register <b>1404</b> could be associated with a write operation. If the information transmitted from input register <b>1404</b> into the pre-read register is associated with a write operation, a pre-read register <b>1460</b> can be used to reduce power consumption by pre-reading the data word to be written from memory bank <b>1410</b>.</div>
<div class="description-paragraph" id="p-0201" num="0200">Accordingly, at step <b>1908</b>, the data word stored in the memory bank at the associated address received from the input register is pre-read.</div>
<div class="description-paragraph" id="p-0202" num="0201">At step <b>1910</b>, the data word pre-read from the memory bank is compared to the data word received from the input register to determine which bits need to be flipped in the data word stored in the memory bank in order to successfully write the new data word received from the input register into the memory bank. The results of the comparison can, in one embodiment, be stored as mask bits in the pre-read register. In one embodiment, compare logic may be built into the pipeline to perform this comparison. As mentioned above, in one embodiment, the pre-read register <b>1460</b> may require extra bits to carry the information acquired as a result of the pre-read operation. In other words, the pre-read register <b>1460</b> not only needs to store the data word, associated address, and desired control bits received from the input register <b>1404</b>, but it also needs to store information acquired as a result of the pre-read operation, e.g., the bits related to the results of the compare operation.</div>
<div class="description-paragraph" id="p-0203" num="0202">At step <b>1912</b>, at least the mask bits, the associated address and control bits may be transmitted to the write register. In a different embodiment, the data word to be written to the memory bank (received from the input register) may also be transmitted along with the mask bits.</div>
<div class="description-paragraph" id="p-0204" num="0203">At step <b>1916</b>, the write operation is performed using the mask bits. Further, if a data word and an associated address is received from the e1 register at step <b>1904</b>, the verify operation that shares a common row address with the write operation is also performed in the same cycle as the write operation.</div>
<div class="description-paragraph" id="p-0205" num="0204"> <figref idrefs="DRAWINGS">FIG. 20</figref> is a block diagram of an exemplary pipeline structure for a memory device that comprises a pre-read pipe-stage for a write operation in accordance with an embodiment of the present invention. As shown in pipeline structure <b>2000</b>, at any given slice of time, e.g., T=3, T=4 and T=5, there will be a pre-read operation and a write operation being performed simultaneously. As each write is being performed in the write register, at any given slice of time, another write operation is coming into the pre-read register from the input register. For example, Instruction <b>1</b> <b>2004</b> enters the pre-read pipestage at time T=2. At time, T=3, when Instruction <b>1</b> <b>2004</b> enters the write register, Instruction <b>2</b> <b>2005</b> enters the pre-read register. Similarly, at time T=4, Instruction <b>1</b> <b>2004</b> enters the delay cycle, Instruction <b>2</b> enters the write register and new Instruction <b>3</b> <b>2006</b> enters the pre-read register.</div>
<div class="description-paragraph" id="p-0206" num="0205">Accordingly, a read and a write operation will need to be performed to the memory bank <b>1410</b> at any given period of time. The memory device will, therefore, need an extra port into memory bank <b>1410</b>. As mentioned earlier, a pseudo-dual port memory bank works in cases where in a single cycle at most a write operation is performed concurrently with a verify operation. The pipeline structure of <figref idrefs="DRAWINGS">FIG. 14</figref> would require that a read and a write operation be performed concurrently with a verify operation. Accordingly, two read ports (one for a verify operation and one for a read operation) and one write port will be needed.</div>
<div class="description-paragraph" id="p-0207" num="0206">Increased Pipeline Depth to Support Additional Write Operations in a Memory Device</div>
<div class="description-paragraph" id="p-0208" num="0207"> <figref idrefs="DRAWINGS">FIG. 15</figref> is a block diagram of exemplary embodiment of a memory device of the present disclosure showing pipeline structure that allows an additional cycle for a write operation for storing a data word. The additional write cycle in <figref idrefs="DRAWINGS">FIG. 15</figref> allows incoming data words to be written an additional window to be written accurately into the memory bank. <figref idrefs="DRAWINGS">FIG. 15</figref> shows exemplary pipeline <b>1500</b> for implementing the pipeline flow for system write, re-write, and verify operations, among other data manipulation operations. Pipeline <b>1500</b> is implemented using system operations <b>1502</b>, input register <b>1504</b>, memory pipeline <b>1506</b>, e1 register <b>1508</b>, and memory bank <b>1510</b>. Memory pipeline <b>506</b> comprises write register A <b>1560</b>, write register B <b>1512</b>, delay register <b>1514</b>, verify register <b>1516</b>, and verify results register <b>1518</b>. Moreover pipeline <b>1500</b> comprises compare memory logic <b>1520</b>.</div>
<div class="description-paragraph" id="p-0209" num="0208">System operation <b>1502</b> comprises signals for performing a desired operation such as system write and system read, among other data manipulation operations. As such, system operation <b>1502</b> typically includes signals indicating a data word, the associated data address within memory bank <b>1510</b>, and control signals indicating the operation to be performed on memory bank <b>1510</b> (such as write or chip select signal), among other signals for performing data manipulation operations and maintaining appropriate states. Typically, the signals from system operation <b>1502</b> are stored in input register <b>1504</b>. Other configurations for signals from system operation <b>1502</b> may be used without departing from the scope of the present disclosure.</div>
<div class="description-paragraph" id="p-0210" num="0209">Moreover, other embodiments of pipeline <b>1500</b> are possible without departing from the teachings of this disclosure. For example, delay register <b>1514</b> allows delay between write and verify operation on a data word. STT-MRAM may require a delay between write operations at a particular address and verify operation at the common address. The delay cycle allows data storage elements within memory bank <b>1510</b> to return to a stable state before performing verify operation. Other RAM technologies, and in some instances STT-MRAM itself, may not require such delay and delay register <b>1514</b> is not necessary.</div>
<div class="description-paragraph" id="p-0211" num="0210">Input register <b>1504</b> is coupled to write register <b>1512</b>. Input register <b>1504</b> comprises data storage elements comprising data bits. In certain embodiments, input register <b>1504</b> can include data bits for a data word, associated address, a valid bit, and other desired control bits. The input register <b>1504</b> comprises the initial stage of the pipeline.</div>
<div class="description-paragraph" id="p-0212" num="0211">In one embodiment, for example, where a pseudo-dual bank memory bank is used, the input register <b>1504</b> adds a delay in the pipeline that allows the memory device time to search for a data word and an associated address in the e1 register <b>1508</b> corresponding to a verify operation that shares a common row address with a data word in the input register. The data word in the input register would be associated with a write operation that shares a common row address with the data word for the verify operation in the e1 register. For example, a write operation may be received into the input register <b>1504</b> from system operations <b>1502</b> along with the data word to be written and its corresponding address. The input register provides the requisite delay to be able to search in the e1 register for a verify operation that shares a common row address with the data word associated with the write operation. The input register <b>1504</b> provides the necessary delay in the pipeline to be able to look for the matching verify operation in the e1 register before the data word to be written is inserted into the write register <b>1512</b>. In other words, the delay of input register <b>1504</b> allows enough time to search for the matching verify operation in the e1 register prior to inserting the data words to be written and verified into the write register <b>1512</b> and the verify register <b>1516</b> respectively.</div>
<div class="description-paragraph" id="p-0213" num="0212">The valid bit indicates whether data manipulation operations such as system write operation should be performed or the register should not be used to perform such operations. For example, valid bits based on a write signal and chip select signal provided by system operation <b>1502</b> may indicate whether data word in input register is used for write. Input register <b>1504</b> may also be coupled to e1 register <b>1508</b>, for example, to transmit associated address and control bits to e1 register <b>1508</b>. This associated address and control bits may be used in case of row address change in the pipeline or to invalidate an e1 register entry with the same associated address, for example. For example, the address and control bits may be used to look for a pending verify operation in the e1 register that shares a common row address with a data word to be written into the memory bank.</div>
<div class="description-paragraph" id="p-0214" num="0213">An active memory bank of an embodiment of the present disclosure denotes a memory bank in which a system write or system read is taking place. Thus, an active bank signal (or an active bank bit) prevents re-writes during that clock cycle, and instead indicates that a system write or read will occur during that clock cycle. For example, an active bank signal indicates that write register <b>1560</b> will write a data word previously received from input register <b>1504</b> to memory bank <b>1510</b> during that clock cycle. Thus, e1 register knows that data word for re-write operation should not be transmitted to write register <b>1512</b> during that clock cycle. Input register <b>1504</b> transmits data word, associated address, and desired control bits to write register A <b>1560</b>.</div>
<div class="description-paragraph" id="p-0215" num="0214">The e1 register <b>1508</b> performs substantially the same functions as the e1 register discussed in conjunction with <figref idrefs="DRAWINGS">FIGS. 5 and 14</figref>. The e1 register <b>1508</b> is coupled to input register <b>1504</b>, write register A <b>1560</b>, write register B <b>1512</b>, delay register <b>1514</b>, verify register <b>1516</b>, and verify results register <b>1520</b>. The e1 register <b>1508</b> may supply data word, associated address of a data word within memory bank <b>1510</b>, and control signals to write register A <b>1560</b>, write register B <b>1512</b>, and verify register <b>1516</b>. The e1 register <b>508</b> may receive a data word, its associated address, and control signals from delay register <b>1514</b> and verify results register <b>1518</b>. The e1 register <b>1508</b> may also transmit a physical address within e1 register <b>1508</b> in case the data word is already stored within e1 register <b>1508</b>. Although not shown, if delay register <b>1514</b> were not used, e1 register <b>1508</b> may receive data word, associated address, and control signals from one of the write registers. Moreover, e1 register <b>1508</b> may communicate with input register to receive signals such as data word signal and control signal such as inactive bank signal.</div>
<div class="description-paragraph" id="p-0216" num="0215">Write register A <b>1560</b> is coupled to write register B <b>1512</b> and to memory bank <b>1510</b>. Write register <b>512</b> comprises data storage elements comprising data bits. Typically, write register A <b>1560</b> comprises data bits for a data word, its associated address, valid bit, and other desired control bits. The valid bit is a valid register bit and may be set to one when write register A contents are valid such that write operation may occur. Write register A <b>1560</b> receives data word, associated address, and desired control bits from input register <b>1504</b> for system write operations. For memory bank clock cycles that write register A <b>1560</b> would not otherwise be writing system data words to that memory bank, e1 register <b>1508</b> transmits data words, associated address, and desired control bits to write register <b>1560</b>. This allows write register <b>1560</b> to attempt re-write operations when write register <b>1560</b> would not otherwise be writing system data words to memory bank <b>1510</b>.</div>
<div class="description-paragraph" id="p-0217" num="0216">In one embodiment, write register A <b>1560</b> is coupled to another write register B <b>1512</b>. Accordingly, pipeline <b>1500</b> comprises two write stages. The purpose of two write stages in the pipeline is to attempt each write operation at least twice prior to the verification stage. As mentioned earlier, STT-MRAM may suffer from a high write error rate (WER) and, accordingly, attempting to write each word at least twice prior to verification may reduce the WER associated with the memory.</div>
<div class="description-paragraph" id="p-0218" num="0217">In one embodiment, an extra port in the memory bank will be required to support an additional write operation. <figref idrefs="DRAWINGS">FIG. 16</figref> is a block diagram of an exemplary pipeline structure for a memory device that comprises an additional write stage in accordance with an embodiment of the present invention. As shown in pipeline structure <b>1600</b>, at any given slice of time, e.g., T=3, T=4 and T=5, there will be two write operations being performed simultaneously. Each write will be performed twice, however, at any given slice of time, as one write is going through its second cycle in write register B <b>1512</b>, a new write will be incoming into write register A <b>1560</b>. For example, Instruction <b>1</b> <b>1605</b> enters write register A at time T=2. At time T=3, when Instruction <b>1</b> <b>1605</b> enters write register B, Instruction <b>2</b> <b>1604</b> enters write register A. Similarly, at time T=4, Instruction <b>1</b> <b>1605</b> enters the delay cycle, Instruction <b>2</b> enters write register B and new Instruction <b>3</b> <b>1606</b> enters write register A.</div>
<div class="description-paragraph" id="p-0219" num="0218">Accordingly, two write operations will need to be performed to the memory bank <b>1510</b> at any given period of time. The memory device will, therefore, need an extra port into memory bank <b>1510</b>. As mentioned earlier, a pseudo-dual port memory bank works in cases where in a single cycle at most a write operation is performed concurrently with a verify operation. The pipeline structure of <figref idrefs="DRAWINGS">FIG. 15</figref> would require that two write operations be performed concurrently with a verify operation. Accordingly, two write ports and a single read (or verify) port into memory bank <b>1510</b> will be needed. Two write ports are necessary because simply performing one write in a given cycle and inserting the other write into the e1 register would increase the size of the e1 register beyond practical limits.</div>
<div class="description-paragraph" id="p-0220" num="0219">In one embodiment, a tri-ported memory bank structure can be obtained by adding an extra write port to the pseudo-dual port memory bank structure using the Y-mux structure as explained in conjunction with <figref idrefs="DRAWINGS">FIG. 4</figref>. In a different embodiment, three separate ports are implemented into the memory bank <b>1510</b>, wherein two ports are optimized for write operations and one port is optimized for read operations. As explained earlier, ports that are optimized for write operations will have higher current requirements and occupy more physical space than ports that are optimized for read operations. In one embodiment, the three ports are all implemented using the Y-mux structure discussed in conjunction with <figref idrefs="DRAWINGS">FIG. 4</figref>. In one embodiment, a true dual port memory bank is implemented for the two write operations and an extra port is added using the Y-mux structure for the read port.</div>
<div class="description-paragraph" id="p-0221" num="0220">In one embodiment, instead of two separate write stages in the pipeline <b>1500</b>, a single write pulse that is double the width of a traditional write pulse can also be used. Within the time period of the single write pulse, there can be two attempts at writing the data word into memory bank <b>1510</b>.</div>
<div class="description-paragraph" id="p-0222" num="0221">Write register A <b>1560</b> transmits data word, associated address, and desired control bits to write register B <b>1512</b>. This way the same data word can be written twice to the memory bank <b>1510</b> in two separate cycles.</div>
<div class="description-paragraph" id="p-0223" num="0222">It should be noted that read operations generally take precedence over write operations from either of write registers. If a read operation occurs, then the pipeline is typically stalled to allow the read operation to terminate.</div>
<div class="description-paragraph" id="p-0224" num="0223">As discussed above, e1 register <b>1908</b> can receive a ROWchg signal that indicates row address change within a pipeline structure of the present disclosure. When a ROWchng signal is received in the embodiment of <figref idrefs="DRAWINGS">FIG. 15</figref>, there will be an unfinished write in write register A <b>1560</b> and a write that has not been verified yet in write register B <b>1512</b>. Accordingly, in the embodiment of <figref idrefs="DRAWINGS">FIG. 15</figref>, the e1 register will typically be larger than other embodiments because upon receiving a ROWchg signal, two entries from the pipeline will be inserted into the e1 register while the memory operation causing the row change signal to assert is allowed to enter the pipeline. The entry from write register A <b>1560</b> will need to be re-written and the entry from write register B <b>1512</b> will need to be verified. In one embodiment, if a ROWchg signal is received, the data word that has only passed through one write stage can be transferred to the e1 register through connection <b>1590</b> while the other data word that has passed through both write stages can be transferred to the e1 register through the delay register <b>1514</b>. The data word sent to the e1 register through connection <b>1590</b> would need to be re-written while the data word transmitted from the delay register <b>1514</b> would need to be verified during a later cycle.</div>
<div class="description-paragraph" id="p-0225" num="0224">Further, similar to the embodiments discussed in connection with <figref idrefs="DRAWINGS">FIGS. 5 and 14</figref>, the ROWchg signal may also be used to indicate that another data word and associated address should be transmitted from e1 register <b>1508</b> to the pipeline structure for a verify operation. If a pseudo-dual port memory bank is used, e1 register <b>1508</b> may choose a data word and an associated address such that they share a common row address with a data word to be written into the write register of the pipeline structure. In this way, a write operation and a verify operation can be simultaneously performed since the data words share a common row address. The input register <b>504</b> provides the necessary delay in the pipeline to be able to look for the matching verify operation in the e1 register before the data word to be written is inserted into the write register <b>512</b>. In other words, the delay of input register <b>1504</b> allows enough time to search for the matching verify operation in the e1 register prior to inserting the data words to be written and verified into the write registers and the verify register <b>516</b> respectively. In the embodiment of <figref idrefs="DRAWINGS">FIG. 15</figref>, since the write operation passes through two stages of the pipeline, the e1 register has another cycle to be able to look for the matching verify operation. Accordingly, the delay in the input register <b>1504</b> may not be necessary to provide sufficient time to find a matching verify operation.</div>
<div class="description-paragraph" id="p-0226" num="0225">Write register B <b>1512</b> is coupled to delay register <b>1514</b> and memory bank <b>1510</b>. In other embodiments, write register <b>1512</b> may be coupled to verify register <b>1516</b>. Write register <b>1512</b> comprises data storage elements comprising data bits. Typically, write register <b>1512</b> comprises data bits for a data word, its associated address, valid bit, and other desired control bits. The valid bit is a valid register bit and may be set to one when write register <b>1512</b> contents are valid such that write operation may occur. Write register <b>1504</b> receives data word, associated address, and desired control bits from write register A <b>1560</b> so that the data word can be written into memory bank <b>1510</b> a second time.</div>
<div class="description-paragraph" id="p-0227" num="0226">For memory bank clock cycles that write register <b>1504</b> would not otherwise be writing system data words to that memory bank, e1 register <b>1508</b> transmits data words, associated address, and desired control bits to write register <b>1512</b>. This allows write register <b>1512</b> to attempt re-write operations when write register <b>1512</b> would not otherwise be writing system data words to memory bank <b>1510</b>. In one embodiment, the e1 register <b>1508</b> can also transmit data words associated with re-write operations to write register A <b>1560</b> so that the re-write operations may also be attempted at least twice in the pipeline.</div>
<div class="description-paragraph" id="p-0228" num="0227">Delay register <b>1514</b> is coupled to verify register <b>1516</b> and e1 register <b>1508</b>. Delay register <b>1514</b> comprises data storage elements comprising data bits. Typically, delay register <b>1514</b> comprises a data word, associated address bits, a valid bit, and other desired control bits. Valid bit indicates if delay register <b>1514</b> contents are valid. The delay register or multiple delay register could provide more clock cycle delay between write and verify.</div>
<div class="description-paragraph" id="p-0229" num="0228">As previously explained, the delay register <b>1514</b> is optional for RAM technologies that require delay between write and verify operations for a particular address within memory bank <b>1510</b>. If row address change occurs within memory pipeline <b>1504</b>, delay register <b>1514</b> transmits data word, associated address, and desired control bits to e1 register <b>1508</b>. Thus, data word may be verified on a later clock cycle when write register will write a data word sharing a common row address. In another embodiment, data word may be verified on a later clock cycle when no verify operation will otherwise occur to the memory bank. If no row address change occurs within memory pipeline <b>1504</b>, after desired delay clock cycles, delay register <b>1514</b> transmits the data word, associated address, and desired control bits to verify register <b>1516</b>. The addition of a delay between the write register <b>1560</b> and the verify register <b>1516</b> also allows the data transferred from the write register <b>1512</b> to stabilize before transferring the information to the verify register <b>1516</b>. This prevents noise from being injected into the verify cycle.</div>
<div class="description-paragraph" id="p-0230" num="0229">Verify register <b>1516</b> is coupled to memory bank <b>1510</b> and verify results register <b>1520</b>. Verify register <b>1516</b> performs substantially the same function as verify register <b>516</b> in <figref idrefs="DRAWINGS">FIG. 5</figref>.</div>
<div class="description-paragraph" id="p-0231" num="0230">It should be noted that in one embodiment the second write register B <b>1512</b> may be placed subsequent to the verify register <b>1516</b>. In other words, instead of having two write registers back to back in the pipeline, one of the write registers may follow the verify register <b>1516</b>. This way a write operation can be attempted in the first write cycle and verified thereafter to ensure that the operation completed successfully. If the write operation did not complete successfully, then another write cycle subsequent to the verify operation can be used to attempt a re-write. This may be more efficient in certain cases than performing two write operations consecutively on the same data word. Similarly, other combinations are possible that attempt one or more re-write operations at different stages of the pipeline.</div>
<div class="description-paragraph" id="p-0232" num="0231">In one embodiment, the pipeline illustrated in <figref idrefs="DRAWINGS">FIG. 15</figref> could also have a pre-read register that performs substantially the same function as pre-read register <b>1460</b> in <figref idrefs="DRAWINGS">FIG. 14</figref>.</div>
<div class="description-paragraph" id="p-0233" num="0232">Compare memory logic <b>1520</b> is coupled to verify register <b>1516</b>. Compare memory logic <b>1520</b> performs substantially the same function as compare logic <b>520</b> in <figref idrefs="DRAWINGS">FIG. 5</figref>. Verify results register <b>1518</b> is coupled to compare memory logic <b>1520</b> and e1 register <b>1508</b>. Verify results register <b>1518</b> performs substantially the same function as verify result register <b>518</b> in <figref idrefs="DRAWINGS">FIG. 5</figref>.</div>
<div class="description-paragraph" id="p-0234" num="0233">One of ordinary skill in the art will understand that pipeline structure <b>1500</b> is exemplary and may include more write, delay, verify, verify results registers, and compare logic blocks to allow more re-write attempts before writing failed data words to e1 register. Moreover, more registers and memory banks may be added without departing from the scope of the present disclosure.</div>
<div class="description-paragraph" id="p-0235" num="0234">One of ordinary skill in the art will understand that pipeline structure <b>1500</b> is exemplary and may include more write, delay, verify, verify results registers, and compare logic blocks to allow more re-write attempts before writing failed data words to e1 register. Moreover, more registers and memory banks may be added without departing from the scope of the present disclosure.</div>
<div class="description-paragraph" id="p-0236" num="0235"> <figref idrefs="DRAWINGS">FIG. 6</figref> is an exemplary process flow showing an embodiment of a system read operation using an embodiment of memory device of the present disclosure. <figref idrefs="DRAWINGS">FIG. 6</figref> shows process flow <b>600</b> for system read operation of the present disclosure. Process flow <b>600</b> illustrates the high-level read operation performed on a memory device. In step <b>602</b>, a system read operation to be performed on memory bank exists within a memory device. In step <b>604</b>, the valid address stored in both pipeline banks are checked to determine whether the data word associated with system read operation exists there. If no, e1 register checks address to determine whether the data word associated with system read operation exists there in step <b>606</b>. If no, e2 register checks the address to determine whether the data word associated with system read operation exists there in step <b>608</b>. If no, the data word is read from memory bank at the associated address of system read operation in step <b>610</b>. If the result of step <b>608</b> is yes, the data word is read from e2 register in step <b>618</b>. If the answer to step <b>604</b> returned yes, then data word is read from pipeline <b>614</b>. If the answer to step <b>606</b> is yes, then the data word is read from e1 register in step <b>616</b>. One of ordinary skill in the art may recognize other process flows for system read operations without departing from the teachings of the present disclosure.</div>
<div class="description-paragraph" id="p-0237" num="0236">System read process flow <b>600</b> may include additional steps. After step <b>610</b>, compare logic may determine whether system data word from memory bank was read within a predetermined error budget in step <b>612</b>. If the data word output from memory bank contains errors, such errors may be corrected though ECC. If the data word output from memory bank contained more errors than allowed by a predetermined error budget, the data word may also be corrected and stored in e1 register in step <b>619</b>. In this way, e1 register may attempt to re-write data word back to memory bank so that the data word may be read within a predetermined error budget on future read operations. The corrected data word and associated address would be stored within e1 register.</div>
<div class="description-paragraph" id="p-0238" num="0237">It should be noted that as discussed above, in one embodiment, the e2 register is optional. For memory devices without the additional dynamic redundancy register, the process flows from step <b>606</b> directly to step <b>610</b>. In other words, at step <b>606</b>, e1 register checks address to determine whether the data word associated with system read operation exists there. If no, then at step <b>610</b>, the data word is read from memory bank at the associated address of system read operation in step <b>610</b>.</div>
<div class="description-paragraph" id="p-0239" num="0238"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a block diagram of an embodiment of a memory device showing a first level dynamic redundancy register. <figref idrefs="DRAWINGS">FIG. 7</figref> shows exemplary e1 register <b>700</b> described herein that comprises physical address decoder <b>702</b>, CAM <b>704</b>, mux <b>706</b>, RAM <b>708</b>, status logic <b>710</b>, and control logic <b>712</b>. One of ordinary skill in the art will recognize that e1 register <b>700</b> is exemplary, and includes features such as CAM <b>704</b> which are not required for achieving the teachings of the present disclosure. Moreover, e1 register <b>700</b> communicates control signals for maintaining consistency of operations both internally and to communicate with components of memory device such as pipeline banks, e2 register and secure memory storage, e.g., <b>932</b>. Such control signals may be modified without departing from the teachings of the present disclosure.</div>
<div class="description-paragraph" id="p-0240" num="0239">Physical address decoder <b>702</b> is coupled to CAM <b>704</b>, mux <b>706</b>, and control logic <b>712</b>. Physical address decoder <b>702</b> receives an address input from control logic <b>712</b>. Physical address decoder <b>702</b> uses the address input to determine the appropriate physical addresses within CAM <b>704</b> and RAM <b>708</b> for performing data manipulation operation, such as read and write. Physical address decoder <b>702</b> selects an entry within CAM <b>704</b> using decode signal. Physical address decoder <b>702</b> may also select an entry within RAM <b>708</b> using decode signal to mux <b>706</b>.</div>
<div class="description-paragraph" id="p-0241" num="0240">In one embodiment, physical address decoder <b>702</b> may take pointers as input from control logic <b>712</b>. Different pointers from control logic <b>712</b> indicate available addresses for writing data to CAM <b>704</b> and RAM <b>708</b> or reading data from CAM <b>704</b> and RAM <b>708</b>, or other pointers may be used. For example, pointers from control logic <b>712</b> may keep track of lowest open addresses within CAM <b>704</b> and RAM <b>704</b>. Thus, e1 register <b>700</b> keeps track of addresses for storing new data. Pointers from control logic <b>712</b> may also keep track of oldest stored data within CAM <b>704</b> and RAM <b>708</b>. Thus, re-write operations may be tried on a First-In-First-Out (FIFO) basis. Other schemes for addressing data within e1 register <b>700</b> and selecting data for data manipulation operations may be used by those with ordinary skill in the art without departing from the scope of this disclosure.</div>
<div class="description-paragraph" id="p-0242" num="0241">CAM <b>704</b> is coupled to mux <b>706</b>. CAM <b>704</b> takes as input decode signal from physical address decoder <b>702</b>. CAM <b>704</b> also takes as input an associated address which may be received from input register, delay register, or verify results register of a pipeline structure. CAM <b>704</b> also takes as input control bits such as read, write, or search signal received from control logic <b>712</b>. CAM <b>704</b> also takes as input other control bits from status logic <b>710</b>.</div>
<div class="description-paragraph" id="p-0243" num="0242">The associated address signals indicate addresses within a memory bank. Associated address signal is typically received from input register, delay register, or verify results register. Thus, e1 register <b>700</b> receives an address within a memory bank where data word should be verified or written. The e1 register <b>700</b> may also receive associated address from input register to be searched for words with matching row addresses which may be verified. As mentioned above, the input register allows a delay period for searching words associated with pending verify operations in the e1 register that have matching row addresses. CAM <b>704</b> will typically write associated address from delay register or verify results registers to itself, so that associated address may be used later for re-write or verify operation.</div>
<div class="description-paragraph" id="p-0244" num="0243">Status signal, such as valid bit, indicates whether physical address within CAM <b>704</b> contains valid data for data manipulation operation. CAM <b>704</b> may receive status signal from status logic <b>710</b>.</div>
<div class="description-paragraph" id="p-0245" num="0244">Read signal indicates that CAM <b>704</b> should output an associated address, and RAM <b>708</b> should output the corresponding data word. CAM <b>704</b> may use decode and read signal to output an associated address of the data word stored in RAM <b>708</b>. For example CAM <b>704</b> may output an associated address of the data word to write register. In this way, write register may write data from e1 register in a clock cycle during which it would otherwise be inactive.</div>
<div class="description-paragraph" id="p-0246" num="0245">Write signal indicates that the associated address should be stored within CAM <b>704</b> and the corresponding data word should be stored within RAM <b>708</b>. For example, CAM <b>704</b> may use the associated address signal, decode signal, and write signal to write the associated address to a physical address within CAM <b>704</b>. In one embodiment, this may occur because row address change occurred within pipeline structure and delay register sent a data word, an associated address, and control bits to e1 register <b>700</b> for storage. In another embodiment, verify results register may send a data word, an associated address, and control bits to e1 register <b>700</b> for storage because verify operation failed or data was not read within a predetermined error budget.</div>
<div class="description-paragraph" id="p-0247" num="0246">Search signal indicates that CAM <b>704</b> should search itself for an appropriate address. For example, CAM <b>704</b> uses search signal received from control logic <b>712</b> to search itself for an associated address to output to verify register. Thus, if row change has occurred in pipeline structure, CAM <b>704</b> may output the associated address of a data word sharing a common row address with the data word to be written from the pipeline. In addition, e1 RAM <b>708</b> outputs a data word matching the associated address within CAM <b>704</b> to the pipeline.</div>
<div class="description-paragraph" id="p-0248" num="0247">CAM <b>704</b> outputs associated addresses to the pipeline structure, such as to write register and verify register. CAM <b>704</b> also outputs associated addresses to e2 register or to secure memory storage area <b>932</b> (as discussed in connection with <figref idrefs="DRAWINGS">FIG. 9</figref>). CAM <b>704</b> may only output a portion of associated address. For example, if row address change occurred and CAM <b>704</b> searched itself for an appropriate address for verify operation, CAM <b>704</b> may output only the column address since the row address may be known. CAM <b>704</b> also outputs match signal to mux <b>706</b>. Match signal indicates the physical address within RAM <b>708</b> of a data word that corresponds to the associated address within CAM <b>704</b>. Match signal may be used when reading a data word from RAM <b>708</b>.</div>
<div class="description-paragraph" id="p-0249" num="0248">Mux <b>706</b> takes as input read, write, search signal from control logic <b>712</b>. Mux <b>706</b> also takes as input decode signal received from physical address decoder. Mux <b>706</b> also takes as input match signal from CAM <b>704</b>. Mux then transmits select signal to RAM <b>708</b> for data manipulation operation. If mux <b>706</b> receives read signal, mux <b>706</b> typically transmits decode signal to RAM <b>708</b> because decode signal indicates the physical address within RAM <b>708</b> for read operation. If mux <b>706</b> receives write signal, mux <b>706</b> typically transmits decode signal to RAM <b>708</b> because decode signal indicates the physical address within RAM <b>708</b> for write operation. If mux <b>706</b> receives search signal, mux <b>706</b> typically transmits match signal to RAM <b>708</b> because match signal indicates the physical address within RAM <b>708</b> for outputting data word.</div>
<div class="description-paragraph" id="p-0250" num="0249">RAM <b>708</b> takes as input select signal from mux <b>706</b>. RAM <b>708</b> also takes as input a data word received from pipeline structure, such as from delay register or verify results register. RAM <b>708</b> also takes as input read and write signals received from control logic <b>712</b>. Select signal from mux <b>706</b> indicates the physical address within RAM <b>708</b> for performing data manipulation operation such as read or write operation. Data word signal indicates the data word for storage within RAM <b>708</b>. Read signal indicates whether the physical address signal should be used for read operation such that data should be read from RAM <b>708</b> and output to pipeline structure or e2 register or secure memory storage. Write signal indicates whether select signal should be used for write operation such that data word signal should be written to RAM <b>708</b>. RAM <b>708</b> typically comprises volatile memory such as SRAM, but may comprise non-volatile memory such as STT-MRAM.</div>
<div class="description-paragraph" id="p-0251" num="0250">Status logic <b>710</b> comprises hardware logic that drives the selection of addresses within control logic <b>710</b>. Status logic <b>710</b> takes as input control signals from pipeline structure and e2 register. Control signals may include ROWchg flag previously discussed. Control signals may also indicate whether data words associated with verify and re-write operations in the e1 register should be processed prior to re-locating them to secure memory storage or if the contents of the e1 register should be dumped in their entirety into the secure memory storage area <b>932</b>. Pipeline structure may also transmit fail count bits to status logic <b>710</b>. In one embodiment, status logic <b>710</b> updates a valid bit associated with a data word to invalid in the case that status logic <b>710</b> receives fail count bits set to 0. That is, because control signals received from verify results register indicated that verify operation passed, e1 register <b>700</b> invalidates the entry associated with data word (associated addresses, data word, any associated control bits). Status logic may also take as input inactive signal indicating that memory bank may become inactive during a subsequent clock cycle. Thus, e1 register should output a data word to write register for a re-write operation. Status logic <b>710</b> may also receive control signals from e2 register. For example, status logic <b>710</b> may receive signal indicating that e2 register is ready for a new data word. Status logic <b>710</b> may also receive a signal from the secure memory storage indicating that it is ready for a new data word in embodiments where there is no e2 register. Status logic <b>710</b> may also receive decode signal from physical decoder <b>702</b>. Decode signal will indicate the entry or entries within e1 register <b>700</b> which are being updated.</div>
<div class="description-paragraph" id="p-0252" num="0251">Status logic <b>710</b> transmits status signals. Status logic <b>710</b> transmits status signals both internally and externally. Status logic <b>710</b> transmits status signals to control logic <b>710</b>. Status logic <b>710</b> may also transmit status signals, such as fail count bit, to pipeline structure and e2 register. Thus, control signals from status logic <b>710</b> may be used to maintain consistency of operations both within e1 register <b>700</b> and within pipeline structure.</div>
<div class="description-paragraph" id="p-0253" num="0252">Control logic <b>712</b> comprises hardware logic for determining operations to be performed on CAM <b>704</b> and RAM <b>708</b>. Control logic <b>712</b> also comprises hardware logic for outputting address signal to physical address decoder <b>702</b>. Control logic <b>712</b> takes as input status signals from status logic <b>710</b>. Status signals drive the selection of addresses by control logic <b>712</b>. For example, status signals may indicate that write operation should be performed on CAM <b>704</b> and RAM <b>708</b>. Control logic may then increment a pointer to next address, indicating empty addresses within CAM <b>704</b> and RAM <b>708</b> for writing associated addresses and data words. The address signal output from control logic <b>712</b> may comprise pointers that are decoded by physical address decoder <b>702</b> to select appropriate physical addresses within CAM <b>704</b> or RAM <b>708</b> for performing data manipulation operation. The address signal output from control logic <b>712</b> may also be output to the pipeline to indicate physical addresses within e1 register <b>700</b>.</div>
<div class="description-paragraph" id="p-0254" num="0253">In this way, e1 register <b>700</b> may transmit a data word, its associated address, and its physical address within e1 register <b>700</b> to pipeline structure. The physical address within e1 register <b>700</b> may be used to update e1 register <b>700</b> control bits after verify or re-write operation occurs. If the re-write operation failed, for example, fail count bits within e1 register <b>700</b> may be updated using the physical address within e1 register <b>700</b>.</div>
<div class="description-paragraph" id="p-0255" num="0254">Smart Dynamic Redundancy Register Design to Prevent E<b>1</b> Overflow</div>
<div class="description-paragraph" id="p-0256" num="0255">In one embodiment of the present invention, a memory device may comprise multiple banks or segments. As noted above, the memory bank may comprise STT-MRAM which suffers from an inherently stochastic write mechanism, wherein bits have certain probability of write failure on any given write cycle. In other words, the memory cells are characterized by having a high write error rate. The dynamic redundancy registers of the present disclosure allow the memory bank to be operated with high WER (write error rate). However, designers of the memory device need to ensure that the size of a dynamic redundancy register or cache memory, e.g., an e1 register used to store data words associated with pending verify and re-write operations does not exceed practical limitations.</div>
<div class="description-paragraph" id="p-0257" num="0256">Accordingly, the e1 register needs to be designed with a sufficient fixed size so that overflow is avoided in all cases. One of the factors that need to be taken into consideration in determining an optimal size for the e1 register is the WER. For example, for a higher error rate, the e1 register will need to be larger than for a lower error rate. In one embodiment, the number of entries in the e1 register will be at least the WER*the size of the memory bank.</div>
<div class="description-paragraph" id="p-0258" num="0257">Further, in one embodiment, the e1 register will contain at least one entry per row segment. In one embodiment, the e1 register can contain 2 entries per row segment. For example, if each row segment in a memory bank has a 100 rows, then the size of the e1 register would be at least 200 entries.</div>
<div class="description-paragraph" id="p-0259" num="0258">In one embodiment, the number of entries the e1 register needs to contain per row segment is related to the depth of the pipeline. In other words, the number of entries the e1 register contains is directly proportional to the number of pipeline stages (or pipe-stages). This is because with a longer pipeline, there will be more data words that need to be stored in the e1 register in case of a row change, e.g., when a RowChg signal is received. For example, as seen in <figref idrefs="DRAWINGS">FIGS. 5, 14 and 15</figref>, the pipeline can have several stages. The more stages the pipeline has, the higher the number of entries that e1 needs to be designed to contain. If the pipeline has an additional write stage, as shown in <figref idrefs="DRAWINGS">FIG. 15</figref>, receiving a RowChg signal would mean that the entries in both a write register and a verify register would need to be saved to be verified at a later time. Accordingly, additional storage space will be needed in the e1 register as compared to a case where there's only a single write stage in the pipeline.</div>
<div class="description-paragraph" id="p-0260" num="0259">In one embodiment, if the e1 register comprises N rows per segment and the pipeline has M number of stages, then, the e1 register will comprise at least N*M entries.</div>
<div class="description-paragraph" id="p-0261" num="0260">As mentioned above, the number of entries in the e1 register can also be a function of the WER. In one embodiment, the size of the e1 register can be at least (N*M)+(WER*number of entries in the memory bank).</div>
<div class="description-paragraph" id="p-0262" num="0261">In one embodiment, the memory device can comprise a plurality of memory banks as discussed above, wherein each of the memory banks (or segments) can have its own pipeline and a dedicated e1 register. Or alternatively, the memory device can comprise a plurality of memory banks, wherein each of the memory banks (or segments) can have its own pipeline, but a single e1 register serves all the segments (instead of a dedicated e1 register per segment).</div>
<div class="description-paragraph" id="p-0263" num="0262">In one embodiment, a warning pin or status bit can be used to indicated to the user the occupancy level of the e1 register. For example, status bits may indicate to a user that the e1 register is 25%, 50%, 75% or completely full.</div>
<div class="description-paragraph" id="p-0264" num="0263"> <figref idrefs="DRAWINGS">FIG. 21</figref> illustrates a smart design for a dynamic redundancy register in accordance with an embodiment of the present invention. The memory bank <b>2100</b> comprises multiple addressable memory cells configured in multiple segments, wherein each segment contains N rows per segment. Each of the segments can be associated with its own pipeline. As shown in <figref idrefs="DRAWINGS">FIG. 21</figref>, segment <b>1</b> of memory bank <b>2100</b> can be associated with pipeline <b>2150</b> while segment <b>2</b> can be associated with pipeline <b>2151</b>. Each pipeline comprises M pipestages and are configured to process write operations for data words addressed to a given segment of a of the memory bank. Alternatively, in one embodiment, a single pipeline can service all the segments in the memory bank. In other words, the entire memory bank comprises a single pipeline.</div>
<div class="description-paragraph" id="p-0265" num="0264">The memory device can also comprise a dynamic redundancy register or cache memory E<b>1</b> <b>2110</b>. The number of entries, Y, in e1 is based on M, N and a prescribed word error rate (WER) so as to prevent overflow of the cache memory. In a different embodiment, each of the segments of memory bank <b>2100</b> can have its own associated e1 register. However, in a typical embodiment, a single e1 register services all the segments of the memory bank.</div>
<div class="description-paragraph" id="p-0266" num="0265">In one embodiment, the number of entries Y in e1 can be calculated using the formula: (N*M+B*E), wherein B indicates the number of rows in the memory bank.</div>
<div class="description-paragraph" id="p-0267" num="0266">In one embodiment, a warning pin(s) or status bit(s) <b>2105</b> can be used to indicate to the user the occupancy level of the e1 register. For example, status bits may indicate to a user that the e1 register is 25%, 50%, 75% or completely full.</div>
<div class="description-paragraph" id="p-0268" num="0267">One of ordinary skill in the art will understand that the specific control signals, logic and structures disclosed with respect to <figref idrefs="DRAWINGS">FIG. 7</figref> are merely exemplary, and illustrate one of many possible implementations of e1 register <b>700</b>. Other implementations of e1 register <b>700</b> may be used in conjunction with the teachings of the present disclosure.</div>
<div class="description-paragraph" id="p-0269" num="0268"> <figref idrefs="DRAWINGS">FIG. 8</figref> is a block diagram of an embodiment of a memory device of the present disclosure showing a last level dynamic redundancy register. <figref idrefs="DRAWINGS">FIG. 8</figref> shows exemplary e2 register <b>800</b> described herein that comprises CAM/RAM/Enbl/Pointers block <b>802</b>, mux <b>816</b>, e2 RAM <b>818</b>, and physical y-mux <b>832</b>, sense amplifier <b>834</b>, error correction code bits <b>836</b>, write register <b>838</b>, and control logic <b>840</b>. One of ordinary skill in the art will recognize that e2 register <b>800</b> is exemplary, and includes features such as RAM Memory bank FC <b>814</b> which are not necessary for achieving the teachings of the present disclosure. Moreover, e2 register <b>800</b> communicates control signals for maintaining consistency of operations both internally and to communicate with components of memory device such as pipeline banks, memory banks, and e1 register. Such control signals may be modified without departing from the teachings of the present disclosure.</div>
<div class="description-paragraph" id="p-0270" num="0269">CAM/RAM/Enbl/Pointers block <b>802</b> comprises physical address decoder <b>804</b>, address CAM <b>806</b>, RAM update flag <b>807</b>, RAM enable <b>808</b>, RAM e2 fail count <b>810</b>, RAM used count <b>812</b>, and RAM memory bank FC <b>814</b>. Thus, block <b>802</b> comprises data storage elements comprising data bits. Block <b>802</b> is used for storing control bits and associated addresses of data words.</div>
<div class="description-paragraph" id="p-0271" num="0270">Physical address decoder <b>804</b> receives an address inputs from control logic <b>840</b>. As explained in relation to e1 register and <figref idrefs="DRAWINGS">FIG. 7</figref>, physical address decoder <b>804</b> uses address inputs to determine physical addresses for writing associated addresses and data words to CAM <b>806</b> and RAM <b>818</b>, respectively. Physical address decoder <b>804</b> outputs decode signal to CAM <b>806</b> and mux <b>816</b>. Moreover, physical address decoder <b>804</b> may output decode signal to physical y-mux <b>832</b>.</div>
<div class="description-paragraph" id="p-0272" num="0271">CAM <b>806</b> stores associated addresses for data words. As explained in relation to e1 register and <figref idrefs="DRAWINGS">FIG. 7</figref>, CAM <b>806</b> may take as inputs various control signals and associated addresses. CAM <b>806</b> can then write associated addresses to itself or determine appropriate physical address within RAM <b>818</b> for matching data word. Typically, such data word would be output, for example, to pipeline banks or memory banks.</div>
<div class="description-paragraph" id="p-0273" num="0272">RAM update flag <b>807</b> comprises control bits for determining whether associated data should be updated within RAM <b>818</b>. For example, control signals received from control logic <b>840</b> may indicate that RAM <b>818</b> entry should be updated based on a new data word. RAM update flag <b>807</b> thus provides a mechanism to track data words that should be updated in case it is not possible to update the data word immediately.</div>
<div class="description-paragraph" id="p-0274" num="0273">RAM enable <b>808</b> comprises control bits indicating whether e2 RAM <b>818</b> contains a valid data word. RAM enable <b>808</b> may thus require that all bits be set to one, for example, to provide a stringent mechanism to ensure that RAM <b>818</b> includes valid data. RAM enable <b>808</b> may be output to control logic <b>840</b> so that control logic may keep track of valid data within block <b>802</b> and RAM <b>818</b>. One of ordinary skill in the art will recognize that other schemes may be used to ensure reliability of data words. For example, multiple copies of data word may be maintained in RAM <b>818</b> and selected based on a voting scheme. In another scheme, a more stringent error correction code (ECC) scheme may be performed within e2 register <b>800</b> than in memory bank. In another scheme, RAM <b>818</b> points to particular addresses within main memory for storing data words rather than storing the data words within e2 register <b>800</b> itself.</div>
<div class="description-paragraph" id="p-0275" num="0274">RAM e2 fail count <b>810</b> indicates the number of times a data word has failed to write to e2 RAM <b>818</b>. For example, RAM <b>818</b> may comprise non-volatile STT-MRAM in an embodiment. In that case, e2 register <b>800</b> may write to RAM <b>818</b> until write operation is successful in order to maintain reliability within e2 register <b>800</b>. Thus, e2 fail count indicates the number of times a data word has failed to write to RAM <b>818</b>. RAM e2 fail count <b>810</b> may be output to control logic <b>840</b>, so that control logic <b>840</b> may output appropriate addresses for writing to RAM <b>818</b>.</div>
<div class="description-paragraph" id="p-0276" num="0275">RAM used count <b>812</b> indicates the number of times that a physical address within e2 RAM <b>818</b> has been used. The e2 register <b>800</b> may desire to keep track of the number of times that a particular physical address within RAM <b>818</b> has been used. For example, the number of times that a read operation has occurred, write operation has occurred, or both to a specific physical address within RAM <b>818</b>.</div>
<div class="description-paragraph" id="p-0277" num="0276">RAM memory bank FC <b>814</b> indicates the number of times that a data word has failed to write to a memory bank. For example, e2 register <b>800</b> may desire to keep track of the number of times that a write operation from e2 register <b>800</b> has failed to the memory bank. This may be useful so that only a desired number of re-write operations are tried. The specific components of block <b>802</b> are exemplary and may be modified without departing from the teachings of the present disclosure. For example, one of ordinary skill in the art will recognize that RAM memory bank FC <b>814</b> is optional and provides a mechanism for controlling the number of re-write attempts to memory bank.</div>
<div class="description-paragraph" id="p-0278" num="0277">Mux <b>816</b> is coupled to CAM/RAM/Enbl/Pointers block <b>802</b> and e2 RAM <b>818</b>. Mux <b>816</b> takes as input decode signal from physical address decoder <b>804</b> indicating physical address within e2 RAM <b>818</b> and match signal from CAM <b>806</b> indicating that match exists within e2 RAM <b>818</b>. Thus, as explained with respect to e1 register <b>700</b> of <figref idrefs="DRAWINGS">FIG. 7</figref>, e2 RAM <b>818</b> can perform read or write operation. If e2 RAM <b>818</b> comprises MRAM, write operations may be tried a number of times based on RAM e2 fail count <b>810</b>. In another embodiment, after a predetermined number of write attempts to physical address within e2 RAM <b>818</b>, RAM used count <b>812</b> may operate to indicate that another location within e2 RAM <b>818</b> should be chosen for write operation.</div>
<div class="description-paragraph" id="p-0279" num="0278">The e2 RAM <b>818</b> comprises RAM data <b>820</b>, RAM address <b>822</b>, RAM enable <b>824</b>, RAM used count <b>826</b>, and Memory Bank FC <b>830</b>. The e2 RAM <b>818</b> may comprise volatile or non-volatile memory. In one embodiment, The e2 RAM <b>818</b> comprises non-volatile memory such as MRAM so that contents may be saved on during power down.</div>
<div class="description-paragraph" id="p-0280" num="0279">RAM data <b>820</b> comprises data storage elements comprising data bits storing a data word received from e1 register. RAM address <b>822</b> stores an associated address within a memory bank for the data word stored within RAM data <b>820</b>. For example, CAM <b>806</b> may store an associated address to RAM address <b>822</b>. RAM enable <b>824</b> stores the same enable bits as RAM enable <b>808</b>. RAM used count <b>826</b> stores the same used count as in RAM used count <b>812</b>. Memory Bank FC <b>830</b> stores the same fail count as RAM Memory Bank FC <b>814</b>. Thus, block <b>802</b> comprising volatile storage (e.g., SRAM) may be backed up to non-volatile storage (e.g., MRAM).</div>
<div class="description-paragraph" id="p-0281" num="0280">Similar to the explanation given with respect to <figref idrefs="DRAWINGS">FIG. 4</figref>, y-mux <b>832</b> allows read and write operations to be performed on RAM <b>818</b>. Sense amplifiers <b>824</b> are used to read RAM <b>818</b>. ECC block <b>836</b> allows error correcting on RAM <b>818</b>. Write Register <b>938</b> may comprise CAM for searching write register contents. Write register <b>838</b> receives data word and address from e1 register. Write register <b>838</b> also communicates with e2 control logic <b>840</b> to, for example, send ready e2 ready signal when write register <b>838</b> is ready for new data word from e1 register.</div>
<div class="description-paragraph" id="p-0282" num="0281">Control logic <b>840</b> comprises hardware logic. Control logic <b>840</b> determines appropriate operations (such as read, write, and search) to be performed on e2 register <b>800</b>. Control logic <b>840</b> also determines addresses. As previously explained in connection with <figref idrefs="DRAWINGS">FIG. 7</figref>, control logic <b>840</b> may use many different addressing schemes. In one embodiment, control logic <b>840</b> uses pointers to determine physical addresses within block <b>802</b> and RAM <b>818</b> for writing data words. Control logic <b>840</b> may also communicate with other components of memory device including pipeline banks, memory banks, and e1 register. For example control logic <b>840</b> transmits e2 flag to e1 register to indicate that e2 register <b>800</b> may receive a new data word to write register <b>838</b>.</div>
<div class="description-paragraph" id="p-0283" num="0282">The above description and drawings are only to be considered illustrative of specific embodiments, which achieve the features and advantages described herein. Modifications and substitutions to specific process conditions can be made. Accordingly, the embodiments in this patent document are not considered as being limited by the foregoing description and drawings.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">17</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM211813688">
<claim-statement>We claim:</claim-statement>
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. A memory device for storing data, the memory device comprising:
<div class="claim-text">a memory bank comprising a memory array of addressable memory cells;</div>
<div class="claim-text">a pipeline configured to process read and write operations addressed to said memory bank;</div>
<div class="claim-text">an x decoder circuit coupled to said memory array for decoding an x portion of a memory address for said memory array; and</div>
<div class="claim-text">a y multiplexer circuit coupled to said memory array and operable to simultaneously multiplex across said memory array based on two y portions of memory addresses and, based thereon with said x portion, for simultaneously writing a value and reading a value associated with two separate memory cells of said memory array, and</div>
<div class="claim-text">wherein said x decoder and said y multiplexer are implemented to provide a read port and a write port which are operable to simultaneously operate with respect to said memory array.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. A memory device as described in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said x decoder is operable to assert a row line of said memory array and wherein said two separate memory cells share said row line in common.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00003" num="00003">
<div class="claim-text">3. A memory device as described in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said read port and said write port allow a write operation and a read-verify operation, that share a common row, to simultaneously access said memory array.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00004" num="00004">
<div class="claim-text">4. A memory device as described in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said read port and said write port allow a write operation and a read-verify operation, that share a common row and that have different y portions, to simultaneously access said memory array.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00005" num="00005">
<div class="claim-text">5. A memory device as described in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said addressable memory cells comprise spin-transfer torque magnetic random access memory (STT-MRAM) cells.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00006" num="00006">
<div class="claim-text">6. A memory device as described in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said x portion of said memory address decodes to a common row line shared by said two separate memory cells of said memory array and wherein further said two y portions of memory addresses respectively select first and second sets of bit lines associated with said two separate memory cells of said memory array.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00007" num="00007">
<div class="claim-text">7. A memory device as described in <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising a plurality of input/output channels, said plurality of input/output channels coupled to said y multiplexer circuit.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00008" num="00008">
<div class="claim-text">8. A memory device for storing data, the memory device comprising:
<div class="claim-text">a memory bank comprising a memory array of addressable memory cells, wherein said addressable memory cells comprise spin-transfer torque magnetic random access memory (STT-MRAM) cells;</div>
<div class="claim-text">a pipeline configured to process read and write operations addressed to said memory bank, wherein said pipeline comprises a write pipestage followed by a verify-read pipestage;</div>
<div class="claim-text">a row decoder circuit coupled to said memory array for decoding a row portion of a memory address and for asserting a row line of said memory array; and</div>
<div class="claim-text">a column multiplexer circuit coupled to said memory array and operable to simultaneously multiplex based on two column portions of memory addresses and, based thereon with said row portion, for simultaneously writing a value and reading a value associated with two separate memory cells of said memory array,</div>
<div class="claim-text">wherein said row decoder and said column multiplexer are implemented to provide a read port and a write port which are operable to simultaneously operate with respect to said memory array.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00009" num="00009">
<div class="claim-text">9. A memory device as described in <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein said two separate memory cells share said row line in common and are in different columns within said memory array.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00010" num="00010">
<div class="claim-text">10. A memory device as described in <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein said read port and said write port allow a write operation and a read-verify operation, that have addresses that share a common row portion but with different column portions, to simultaneously access said memory array.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00011" num="00011">
<div class="claim-text">11. A memory device as described in <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein said row portion of said memory address is applied to said row line shared by said two separate memory cells of said memory array and wherein further said two column portions of memory addresses respectively select first and second sets of bit lines associated with said two separate memory cells of said memory array.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00012" num="00012">
<div class="claim-text">12. A memory device as described in <claim-ref idref="CLM-00008">claim 8</claim-ref> further comprising a plurality of input/output data channels, said plurality of input/output data channels coupled to said column multiplexer circuit.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00013" num="00013">
<div class="claim-text">13. A method of accessing a memory device, said method comprising:
<div class="claim-text">processing read and write operations addressed to a memory bank using a pipeline, wherein said pipeline comprises a write pipestage followed by a verify-read pipestage and wherein further said memory bank comprises a memory array of addressable memory cells that comprise spin-transfer torque magnetic random access memory (STT-MRAM) cells;</div>
<div class="claim-text">decoding a row portion of a memory address and asserting a row line of said memory array using a row decoder circuit coupled to said memory array; and</div>
<div class="claim-text">simultaneously multiplexing column lines of said memory array based on two column portions of memory addresses and, based thereon with said row portion, simultaneously writing a value and reading a value associated with two separate memory cells of said memory array using a column multiplexer circuit coupled to said memory array, and</div>
<div class="claim-text">wherein said row decoder and said column multiplexer are implemented to provide a read port and a write port which are operable to simultaneously operate with respect to said memory array.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00014" num="00014">
<div class="claim-text">14. A method as described in <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said two separate memory cells share said row line in common and are in different columns of said memory array.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00015" num="00015">
<div class="claim-text">15. A method as described in <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said read port and said write port allow a write operation and a read-verify operation, that have addresses that share a common row portion but with different column portions, to simultaneously access said memory array.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00016" num="00016">
<div class="claim-text">16. A method as described in <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said row portion of said memory address is applied to said common row line shared by said two separate memory cells of said memory array and wherein further said two column portions of memory addresses respectively select first and second sets of bit lines associated with said two separate memory cells of said memory array.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00017" num="00017">
<div class="claim-text">17. A method as described in <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said column multiplexer circuit is coupled to a plurality of input/output data channels.</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    