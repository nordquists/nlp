
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US10666401B2 - Method, UE and basestation for reporting/receiving HARQ ACK/NACK for PDSCH in dynamic TDD configurations 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="docdb" mxw-id="PA398276216" source="national office">
<div class="abstract">The present disclosure relates to a method used in a User Equipment (UE) for reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK)/non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations. In the method, a plurality of PDSCHs are received in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The DL subframes are divided into a first subset of DL subframes and a second subset of DL subframes. The first subset of DL subframes is also indicated by an UL reference TDD configuration. A first set of Physical Uplink Control Channel (PUCCH) resource indices are assigned based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes. A second set of PUCCH resource indices are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the second subset of DL subframes. For each of the received PDSCHs, HARQ ACK/NACK is reported by using PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs received in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs received in the DL subframes of the second subset of DL subframes. The present disclosure also relates to a UE and BS for respectively reporting and receiving HARQ ACK/NACK for PDSCHs in TDD configurations.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES265038324">
<heading id="h-0001">PRIORITY</heading>
<div class="description-paragraph" id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 15/488,638 filed on Apr. 17, 2017 which is a continuation of U.S. application Ser. No. 14/780,034 filed on Sep. 25, 2015 entitled “Method, UE and Basestation for Reporting/Receiving HARQ ACK/NACK For PDSCH in Dynamic TDD Configurations” which is a U.S. National Stage Filing under 35 U.S.C. § 371 of International Patent Application Serial No. PCT/SE2014/050423 filed Apr. 5, 2014, and entitled “Method, UE and Basestation for Reporting/Receiving HARQ ACK/NACK For PDSCH in Dynamic TDD Configurations” which claims priority to International Patent Application Serial No. PCT/CN2013/073770 filed Apr. 5, 2013, both of which are hereby incorporated by reference in their entirety.</div>
<heading id="h-0002">TECHNICAL FIELD</heading>
<div class="description-paragraph" id="p-0003" num="0002">The technology presented in this disclosure generally relate to radio communication networks, particularly, though not exclusively, radio communication networks using Time Division Duplex (TDD), for example Long-Term Evolution (LTE) TDD. More particularly, the present disclosure relates to a method and user equipment (UE) reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK)/non-acknowledgement (NACK) for Physical Downlink Shared Channel (PDSCH) in dynamic time division duplex (TDD) configurations and a method and Base Station (BS) receiving HARQ ACK/NACK for PDSCH in dynamic TDD configurations.</div>
<heading id="h-0003">BACKGROUND</heading>
<div class="description-paragraph" id="p-0004" num="0003">This section is intended to provide a background to the various embodiments of the technology described in this disclosure. The description in this section may include concepts that could be pursued, but are not necessarily ones that have been previously conceived or pursued. Therefore, unless otherwise indicated herein, what is described in this section is not prior art to the description and/or claims of this disclosure and is not admitted to be prior art by the mere inclusion in this section.</div>
<div class="description-paragraph" id="p-0005" num="0004">In a typical cellular radio system, user equipments (UEs) can communicate via a radio access network (RAN) to one or more core networks (CN). The RAN generally covers a geographical area which is divided into radio cell areas. Each radio cell area can be served by a base station, e.g., a radio base station (RBS), which in some networks may also be called, for example, a “NodeB” (UMTS) or “eNodeB” (LTE). A radio cell is a geographical area where radio coverage is generally provided by the radio base station at a base station site. Each radio cell can be identified by an identity within the local radio area, which is broadcast in the radio cell. The base stations communicate over the air interface operating on radio frequencies with the UEs within range of the base stations. In some radio access networks, several base stations may be connected, for example by landlines or microwave, to a radio network controller (RNC) or a base station controller (BSC). The radio network controller may be configured to supervise and coordinate the various activities of the plurality of base stations connected thereto. The radio network controllers may also be connected to one or more core networks.</div>
<div class="description-paragraph" id="p-0006" num="0005">The Universal Mobile Telecommunications System (UMTS) is a third generation mobile communication system, which evolved from the Global System for Mobile Communications (GSM). The Universal Terrestrial Radio Access Network (UTRAN) is essentially a radio access network using Wideband Code Division Multiple Access (WCDMA) for UEs. As an alternative to WCDMA, Time Division Synchronous Code Division Multiple Access (TD-SCDMA) could be used. In a standardization forum known as the Third Generation Partnership Project (3GPP), telecommunications suppliers propose and agree upon standards for third generation networks and UTRAN specifically, and investigate e.g. enhanced data rate and radio capacity. The 3GPP has undertaken to evolve the UTRAN and GSM based radio access network technologies. The first releases for the Evolved Universal Terrestrial Radio Access Network (E-UTRAN) specification have been issued. The Evolved Universal Terrestrial Radio Access Network (E-UTRAN) comprises the Long Term Evolution (LTE) and System Architecture Evolution (SAE). Long Term Evolution (LTE) is a variant of a 3GPP radio access technology where the radio base station nodes are connected to a core network, e.g., via Access Gateways (AGWs), rather than to radio network controller (RNC) nodes. In general, in LTE the functions of a radio network controller (RNC) node are distributed between the radio base stations nodes (eNodeB's in LTE) and AGWs. As such, the radio access network (RAN) of an LTE system has what is sometimes referred to as a “flat” architecture including radio base station nodes without reporting to radio network controller (RNC) nodes.</div>
<div class="description-paragraph" id="p-0007" num="0006">Transmission and reception from a node, e.g., a radio terminal like a UE in a cellular system such as LTE, can be multiplexed in the frequency domain or in the time domain, or according to combinations thereof. In Frequency Division Duplex (FDD), downlink (DL) and uplink (UL) transmission take place in different, sufficiently separated, frequency bands. In TDD, DL and UL transmission take place in different, non-overlapping time slots. Thus, TDD can operate in unpaired frequency spectrum, whereas FDD generally requires paired frequency spectrum.</div>
<div class="description-paragraph" id="p-0008" num="0007">Typically, a transmitted signal in a radio communication system is organized in some form of frame structure, or frame configuration. For example, LTE generally uses ten equally sized subframes 0-9 of length 1 ms per radio frame as illustrated in <figref idrefs="DRAWINGS">FIG. 1</figref>. In case of TDD as shown in <figref idrefs="DRAWINGS">FIG. 1</figref>, there is generally only a single carrier frequency, and UL and DL transmissions are separated in time. Because the same carrier frequency is used for UL and DL transmission, both the base station and the UEs need to switch from transmission to reception and vice versa. An important aspect of a TDD system is to provide a sufficiently large guard time where neither DL nor UL transmissions occur in order to avoid interference between UL and DL transmissions. For LTE, special subframes, e.g., subframe #1 and, in some cases, subframe #6 as indicated by “S” in Table 1 below, provide this guard time. A TDD special subframe is generally split into three parts: a DL part (DwPTS), a guard period (GP), and an UL part (UpPTS). The remaining subframes are either allocated to UL or DL transmission. Example UL-DL configurations, also referred to as “TDD configuration” in the present disclosure, are shown in Table 1 below where “U” indicates a subframe allocated to UL transmission and “D” indicates a subframe allocated to DL transmission. Also, exemplary special subframe configurations are shown in Table 2 below.</div>
<div class="description-paragraph" id="p-0009" num="0008">
<tables id="TABLE-US-00001" num="00001">
<patent-tables colsep="0" frame="none" rowsep="0">
<table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 1</td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Exemplary UL and DL configurations in TDD</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="3" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">DL-to-UL</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">Switch-</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">UL-DL</td>
<td class="description-td">point</td>
<td class="description-td">Subframe number</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="12" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">configuration</td>
<td class="description-td">periodicity</td>
<td class="description-td">0</td>
<td class="description-td">1</td>
<td class="description-td">2</td>
<td class="description-td">3</td>
<td class="description-td">4</td>
<td class="description-td">5</td>
<td class="description-td">6</td>
<td class="description-td">7</td>
<td class="description-td">8</td>
<td class="description-td">9</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="12" nameend="12" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">0</td>
<td class="description-td">5 ms</td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
</tr>
<tr class="description-tr">
<td class="description-td">1</td>
<td class="description-td">5 ms</td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
</tr>
<tr class="description-tr">
<td class="description-td">2</td>
<td class="description-td">5 ms</td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
</tr>
<tr class="description-tr">
<td class="description-td">3</td>
<td class="description-td">10 ms </td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
</tr>
<tr class="description-tr">
<td class="description-td">4</td>
<td class="description-td">10 ms </td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
</tr>
<tr class="description-tr">
<td class="description-td">5</td>
<td class="description-td">10 ms </td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
<td class="description-td">D</td>
</tr>
<tr class="description-tr">
<td class="description-td">6</td>
<td class="description-td">5 ms</td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
<td class="description-td">S</td>
<td class="description-td">U</td>
<td class="description-td">U</td>
<td class="description-td">D</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="12" nameend="12" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0010" num="0009"> <tables id="TABLE-US-00002" num="00002"> <patent-tables colsep="0" frame="none" pgwide="1" rowsep="0"> <table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%"> <thead> <tr class="description-tr"> <td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 2</td> </tr> </thead> <tbody><tr class="description-tr"> <td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">Example configurations of special subframe</td> </tr> </tbody></table> <table align="left" class="description-table" cols="3" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">Normal cyclic prefix in DL</td> <td class="description-td">Extended cyclic prefix in DL</td> </tr> </tbody></table> <table align="left" class="description-table" cols="4" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">UpPTS</td> <td class="description-td"> </td> <td class="description-td">UpPTS</td> </tr> </tbody></table> <table align="left" class="description-table" cols="7" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">Normal</td> <td class="description-td">Extended</td> <td class="description-td"> </td> <td class="description-td">Normal</td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">Special</td> <td class="description-td"> </td> <td class="description-td">cyclic</td> <td class="description-td">cyclic</td> <td class="description-td"> </td> <td class="description-td">cyclic</td> <td class="description-td">Extended</td> </tr> <tr class="description-tr"> <td class="description-td">subframe</td> <td class="description-td"> </td> <td class="description-td">prefix</td> <td class="description-td">prefix</td> <td class="description-td"> </td> <td class="description-td">prefix in</td> <td class="description-td">cyclic prefix</td> </tr> <tr class="description-tr"> <td class="description-td">configuration</td> <td class="description-td">DwPTS</td> <td class="description-td">in UL</td> <td class="description-td">in UL</td> <td class="description-td">DwPTS</td> <td class="description-td">UL</td> <td class="description-td">in UL</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="7" nameend="7" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">0</td> <td class="description-td"> 6592 · T<sub>s</sub> </td> <td class="description-td">2192 · T<sub>s</sub> </td> <td class="description-td">2560 · T<sub>s</sub> </td> <td class="description-td"> 7680 · T<sub>s</sub> </td> <td class="description-td">2192 · T<sub>s</sub> </td> <td class="description-td">2560 · T<sub>s</sub> </td> </tr> <tr class="description-tr"> <td class="description-td">1</td> <td class="description-td">19760 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">20480 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">2</td> <td class="description-td">21952 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">23040 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">3</td> <td class="description-td">24144 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">25600 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">4</td> <td class="description-td">26336 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> 7680 · T<sub>s</sub> </td> <td class="description-td">4384 · T<sub>s</sub> </td> <td class="description-td">5120 · T<sub>s</sub> </td> </tr> <tr class="description-tr"> <td class="description-td">5</td> <td class="description-td"> 6592 · T<sub>s</sub> </td> <td class="description-td">4384 · T<sub>s</sub> </td> <td class="description-td">5120 · T<sub>s</sub> </td> <td class="description-td">20480 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">6</td> <td class="description-td">19760 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">23040 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">7</td> <td class="description-td">21952 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td">8</td> <td class="description-td">24144 · T<sub>s</sub> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="7" nameend="7" namest="1" rowsep="1"> </td> </tr> </tbody></table> </patent-tables> </tables> <br/>
TDD allows for different asymmetries in terms of the amount of resources allocated for UL and DL transmission, respectively, by means of different DL/UL configurations. In LTE, there are seven different configurations, see <figref idrefs="DRAWINGS">FIG. 2</figref>.
</div>
<div class="description-paragraph" id="p-0011" num="0010">Generally speaking, to avoid significant interference between DL and UL transmissions between different radio cells, neighboring radio cells should have the same DL/UL configuration. Otherwise, UL transmission in one radio cell may interfere with DL transmission in the neighboring radio cell and vice versa. As a result, the DL/UL asymmetry generally does not vary between radio cells. The DL/UL asymmetry configuration is signaled, i.e. communicated, as part of the system information and can remain fixed for a long time.</div>
<div class="description-paragraph" id="p-0012" num="0011">Consequently, the TDD networks generally use a fixed frame configuration where some subframes are UL and some are DL. This may prevent or at least limit the flexibility to adopt the UL and/or DL resource asymmetry to varying radio traffic situations.</div>
<div class="description-paragraph" id="p-0013" num="0012">In future networks, it is envisioned that we will see more and more localized traffic, where most of the users will be in hotspots, or in indoor areas, or in residential areas. These users will be located in clusters and will produce different UL and DL traffic at different time. This essentially means that a dynamic feature to adjust the UL and DL resources to instantaneous, or near instantaneous, traffic variations would be required in future local area cells.</div>
<div class="description-paragraph" id="p-0014" num="0013">TDD has a potential feature where the usable band can be configured in different time slots to either UL or DL. It allows for asymmetric UL/DL allocation, which is a TDD-specific property, and not possible in FDD. There are seven different UL/DL allocations in LTE, providing 40%-90% DL resources.</div>
<div class="description-paragraph" id="p-0015" num="0014">In the current networks, UL/DL configuration is semi-statically configured, thus it may not match the instantaneous traffic situation. This will result in inefficient resource utilization in both UL and DL, especially in cells with a small number of users. In order to provide a more flexible TDD configuration, so-called Dynamic TDD, also sometimes referred to as Flexible TDD, has therefore been introduced. Thus, Dynamic TDD configures the TDD UL/DL asymmetry to current traffic situation in order to optimize user experience. Dynamic TDD provides the ability of a subframe to be configured as “flexible” subframe. As a result, some subframes can be configured dynamically as either for UL transmission or for DL transmission. The subframes can for example be configured as either for UL transmission or DL transmission depending on e.g. the radio traffic situation in a cell. Accordingly, Dynamic TDD can be expected to achieve promising performance improvement in TDD systems when there is a potential load imbalance between UL and DL. Besides, Dynamic TDD approach can also be utilized to reduce network energy consumption. It is expected that dynamic UL/DL allocation, referred in this section as “Dynamic TDD”, should provide a good match of allocated resources to instantaneous traffic.</div>
<div class="description-paragraph" id="p-0016" num="0015">The UL scheduling can be indicated by Downlink Control Information (DCI) format 0 or Physical Hybrid Automatic Repeat Request (HARQ) indicator channel (PHICH) in a DL subframe, as described in Section 8 in the 3GPP Technical Specification 3GPP TS 36.213, “Evolved Universal Terrestrial Radio Access (E-UTRA); Physical layer procedures”, v.11.1.0.</div>
<div class="description-paragraph" id="p-0017" num="0016">PUCCH HARQ-ACK resource allocation for PDSCH and ePDSCH has been specified in Rel-8 and Rel-11 respectively. For FDD a one to one mapping between the lowest Control Channel Element (CCE) index and PUCCH HARQ-ACK resource has been applied. In TDD, the challenge to PUCCH HARQ-ACK resource determination is the asymmetry between UL and DL, where there may for example be more DL subframes than UL subframes configured. This has been solved by allowing several DL subframes to be mapped to one UL subframe. The mapping of PUCCH resources for HARQ-ACK feedback in the UL subframe will then be different depending on the number of DL subframes that are mapped to the UL subframe, i e depending on the TDD configuration. For Dynamic TDD, when different UEs have different TDD configurations, resource conflicts between UEs may occur in the UL mapping of PUCCH resources for HARQ-ACK feedback. WO 2012/106840 discloses a method of dividing DL subframes into a first and second subset.</div>
<heading id="h-0004">SUMMARY</heading>
<div class="description-paragraph" id="p-0018" num="0017">It is thus an object of the present disclosure to provide an improved mechanism for mapping of resources for PUCCH HARQ-ACK feedback. This is achieved by the claimed solution according to claims <b>1</b>, <b>4</b>, <b>7</b> and <b>10</b>.</div>
<div class="description-paragraph" id="p-0019" num="0018">According to a first aspect of the present disclosure, a method used in a User Equipment (UE) for reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK)/non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The method comprises receiving a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The method further comprises dividing the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration. The method further comprises assigning a first set of Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes and assigning a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the second subset of DL subframes. Then, the method comprises: for each of the received PDSCHs, reporting HARQ ACK/NACK using PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs received in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs received in the DL subframes of the second subset of DL subframes.</div>
<div class="description-paragraph" id="p-0020" num="0019">According to a second aspect of the present disclosure, a method used in a User Equipment (UE) for reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The method comprises: receiving a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration; and for each of the received PDSCHs, reporting HARQ ACK/NACK by at least partially using PUCCH resources indicated by Downlink Control Information (DCI) and/or Radio Resource Control (RRC) signaling.</div>
<div class="description-paragraph" id="p-0021" num="0020">As an example, the method further comprises: dividing the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration; assigning a set of Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes; for each of the PDSCHs received in the DL subframes of the first subset of DL subframes, reporting HARQ ACK/NACK using PUCCH resources in an order of the assigned set of PUCCH resource indices; and for each of the PDSCHs received in the DL subframes of the second subset of DL subframes, reporting HARQ ACK/NACK using PUCCH resources indicated by DCI and/or Radio Resource Control (RRC) signaling.</div>
<div class="description-paragraph" id="p-0022" num="0021">According to a third aspect of the present disclosure, a method used in a User Equipment (UE) for reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The method comprises: receiving a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration; for each of the received PDSCHs, determining a Physical Uplink Control Channel (PUCCH) resource based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs received in the corresponding DL subframe and a start position of the PUCCH resource corresponding to the DL subframe; and reporting HARQ ACK/NACK using the determined PUCCH resource.</div>
<div class="description-paragraph" id="p-0023" num="0022">According to a fourth aspect of the present disclosure, a method used in a User Equipment (UE) for reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The method comprises: receiving a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration; selecting a DL subframe of the DL subframes, to be a first DL subframe, the sequence number of the selected DL subframe being the same as that of a first DL subframe of DL subframes associated with the UL subframe but indicated by an UL reference TDD configuration; assigning Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration, wherein the PUCCH resource indices are assigned in an order starting from the selected first DL subframe of the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration; and for each of the received PDSCHs, reporting HARQ ACK/NACK using PUCCH resources in the order of the assigned PUCCH resource indices.</div>
<div class="description-paragraph" id="p-0024" num="0023">According to a fifth aspect of the present disclosure, a User Equipment (UE) for reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK)/non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The UE comprises a receiver, a transmitter, a memory and a processor. The memory is configured to store TDD configurations. The processor is configured to control the receiver to receive a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The processor is configured to divide the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration. The processor is configured to assign a first set of Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes. The processor is configured to assign a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the second subset of DL subframes. The processor is configured to control the transmitter to, for each of the received PDSCHs, report HARQ ACK/NACK using PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs received in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs received in the DL subframes of the second subset of DL subframes.</div>
<div class="description-paragraph" id="p-0025" num="0024">According to a sixth aspect of the present disclosure, a UE for reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The UE comprises a receiver, a transmitter, a memory and a processor. The memory is configured to store TDD configurations. The processor is configured to control the receiver to receive a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The processor is configured to control the transmitter to, for each of the received PDSCHs, report HARQ ACK/NACK by at least partially using PUCCH resources indicated by Downlink Control Information (DCI) and/or Radio Resource Control (RRC) signaling.</div>
<div class="description-paragraph" id="p-0026" num="0025">According to a seventh aspect of the present disclosure, a UE for reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The UE comprises a receiver, a transmitter, a memory and a processor. The memory is configured to store TDD configurations. The processor is configured to control the receiver to receive a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The processor is configured to, for each of the received PDSCHs, determine a Physical Uplink Control Channel (PUCCH) resource based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs received in the corresponding DL subframe and a start position of the PUCCH resource corresponding to the DL subframe. The processor is further configured to control the transmitter to, for each of the received PDSCHs, report HARQ ACK/NACK using the determined PUCCH resource.</div>
<div class="description-paragraph" id="p-0027" num="0026">According to a eighth aspect of the present disclosure, a UE for reporting Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The UE comprises a receiver, a transmitter, a memory and a processor. The memory is configured to store TDD configurations. The processor is configured to control the receiver to receive a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The processor is configured to select a DL subframe of the DL subframes, to be a first DL subframe, the sequence number of the selected DL subframe being the same as that of a first DL subframe of DL subframes associated with the UL subframe but indicated by an UL reference TDD configuration. The processor is configured to assign Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration, wherein the PUCCH resource indices are assigned in an order starting from the selected first DL subframe of the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration. The processor is configured to control the transmitter to, for each of the received PDSCHs, report HARQ ACK/NACK using PUCCH resources in the order of the assigned PUCCH resource indices.</div>
<div class="description-paragraph" id="p-0028" num="0027">According to a ninth aspect of the present disclosure, a method used in a Base Station (BS) for receiving Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK)/non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The method comprises transmitting a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The method further comprises dividing the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration. The method further comprises assigning a first set of Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs transmitted in the DL subframes of the first subset of DL subframes and assigning a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the second subset of DL subframes. Then, the method comprises: for each of the transmitted PDSCHs, receiving HARQ ACK/NACK on PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the second subset of DL subframes.</div>
<div class="description-paragraph" id="p-0029" num="0028">According to a tenth aspect of the present disclosure, a method used in a Base Station (BS) for receiving Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The method comprises: transmitting a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration; and for each of the transmitted PDSCHs, receiving HARQ ACK/NACK at least partially on PUCCH resources indicated by Downlink Control Information (DCI) and/or Radio Resource Control (RRC) signaling.</div>
<div class="description-paragraph" id="p-0030" num="0029">As an example, the method further comprises: dividing the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration; assigning a set of Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs transmitted in the DL subframes of the first subset of DL subframes; for each of the PDSCHs transmitted in the DL subframes of the first subset of DL subframes, receiving HARQ ACK/NACK on PUCCH resources in an order of the assigned set of PUCCH resource indices; and for each of the PDSCHs transmitted in the DL subframes of the second subset of DL subframes, receiving HARQ ACK/NACK on PUCCH resources indicated by DCI and/or RRC signaling.</div>
<div class="description-paragraph" id="p-0031" num="0030">According to a eleventh aspect of the present disclosure, a method used in a Base Station (BS) for receiving Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The method comprises: transmitting a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration; for each of the transmitted PDSCHs, determining a Physical Uplink Control Channel (PUCCH) resource based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs transmitted in the corresponding DL subframe and a start position of the PUCCH resource corresponding to the DL subframe; and, for each of the transmitted PDSCHs, receiving HARQ ACK/NACK on the determined PUCCH resource.</div>
<div class="description-paragraph" id="p-0032" num="0031">According to a twelfth aspect of the present disclosure, a method used in a Base Station (BS) for receiving Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The method comprises: transmitting a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration; selecting a DL subframe of the DL subframes, to be a first DL subframe, the sequence number of the selected DL subframe being the same as that of a first DL subframe of DL subframes associated with the UL subframe but indicated by an UL reference TDD configuration; assigning Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration, wherein the PUCCH resource indices are assigned in an order starting from the selected first DL subframe of the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration; and for each of the transmitted PDSCHs, receiving HARQ ACK/NACK on PUCCH resources in the order of the assigned PUCCH resource indices.</div>
<div class="description-paragraph" id="p-0033" num="0032">According to a thirteenth aspect of the present disclosure, a Base Station (BS) for receiving Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK)/non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The BS comprises a receiver, a transmitter, a memory and a processor. The memory is configured to store TDD configurations. The processor is configured to control the transmitter to transmit a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The processor is configured to divide the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration. The processor is configured to assign a first set of Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs transmitted in the DL subframes of the first subset of DL subframes. The processor is configured to assign a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the second subset of DL subframes. The processor is configured to control the receiver to, for each of the transmitted PDSCHs, receive HARQ ACK/NACK on PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the second subset of DL subframes.</div>
<div class="description-paragraph" id="p-0034" num="0033">According to a fourteenth aspect of the present disclosure, a Base Station (BS) for receiving Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (HACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The BS comprises a receiver, a transmitter, a memory and a processor. The memory is configured to store TDD configurations. The processor is configured to control the transmitter to transmit a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The processor is configured to control the receiver to, for each of the transmitted PDSCHs, receive HARQ ACK/NACK at least partially on PUCCH resources indicated by Downlink Control Information (DCI) and/or Radio Resource Control (RRC) signaling.</div>
<div class="description-paragraph" id="p-0035" num="0034">According to a fifteenth aspect of the present disclosure, a Base Station (BS) for receiving Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The BS comprises a receiver, a transmitter, a memory and a processor. The memory is configured to store TDD configurations. The processor is configured to control the transmitter to transmit a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The processor is configured to, for each of the transmitted PDSCHs, determine a Physical Uplink Control Channel (PUCCH) resource based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs transmitted in the corresponding DL subframe and a start position of the PUCCH resource corresponding to the DL subframe. The processor is further configured to control the receiver to, for each of the transmitted PDSCHs, receive HARQ ACK/NACK on the determined PUCCH resource.</div>
<div class="description-paragraph" id="p-0036" num="0035">According to a sixteenth aspect of the present disclosure, a Base Station (BS) for receiving Hybrid Automatic Repeat Request (HARQ) acknowledgement (ACK) or non-acknowledgement (NACK) for Physical Downlink Shared Channels (PDSCHs) in dynamic time division duplex (TDD) configurations is provided. The BS comprises a receiver, a transmitter, a memory and a processor. The memory is configured to store TDD configurations. The processor is configured to control the transmitter to transmit a plurality of PDSCHs in DownLink (DL) subframes associated with an UpLink (UL) subframe and indicated by a DL reference TDD configuration. The processor is configured to select a DL subframe of the DL subframes, to be a first DL subframe, the sequence number of the selected DL subframe being the same as that of a first DL subframe of DL subframes associated with the UL subframe but indicated by an UL reference TDD configuration. The processor is configured to assign Physical Uplink Control Channel (PUCCH) resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration, wherein the PUCCH resource indices are assigned in an order starting from the selected first DL subframe of the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration. The processor is configured to control the receiver to, for each of the transmitted PDSCHs, receive HARQ ACK/NACK on PUCCH resources in the order of the assigned PUCCH resource indices.</div>
<div class="description-paragraph" id="p-0037" num="0036">By dividing the DL subframes into a first subset of DL subframes and a second subset of DL subframes so that the first subset of DL subframes is also indicated by an UL reference TDD configuration and reporting (UE) or receiving (BS) HARQ ACK/NACK using PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs received (UE) or transmitted (BS) in the DL subframes of the first subset of DL subframes according to at least the first, fifth, ninth and thirteenth aspects of the present disclosure, the above stated object is achieved in that conflicts in the UL mapping of PUCCH resources for HARQ feedback between legacy UEs and dynamic-TDD-enabled UEs are avoided, so that the HARQ ACK/NACK transmissions from the legacy UEs and the dynamic-TDD-enabled UEs can be properly received at the base station.</div>
<div class="description-paragraph" id="p-0038" num="0037">Furthermore, by also reporting (UE) or receiving (BS) HARQ ACK/NACK using PUCCH resources in an order of the assigned second set of PUCCH resource indices for PDSCHs received (UE) or transmitted (BS) in the DL subframes of the second subset of DL subframes according to at least the first, fifth, ninth and thirteenth aspects of the present disclosure, the above stated object is achieved in that conflicts in the UL mapping of PUCCH resources for HARQ feedback between dynamic-TDD-enabled UEs having different TDD configurations are avoided, so that the HARQ ACK/NACK transmissions from the dynamic-TDD-enabled UEs can be properly received at the base station.</div>
<div class="description-paragraph" id="p-0039" num="0038">The above stated object is further achieved according to the second, sixth, tenth and fourteenth aspects of the present disclosure by at least partially using PUCCH resources indicated by Downlink Control Information (DCI) and/or Radio Resource Control (RRC) signaling for reporting (UE) or receiving (BS) HARQ ACK/NACK feedback for PDSCHs received (UE) or transmitted (BS) in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration, so that dynamic-TDD-enabled UEs having different TDD configurations are informed by the network, e g the BS, of what PUCCH resources to use for HARQ feedback, thereby avoiding conflicts in the UL mapping of PUCCH resources for HARQ feedback, so that the HARQ ACK/NACK transmissions from the dynamic-TDD-enabled UEs can be properly received at the base station.</div>
<div class="description-paragraph" id="p-0040" num="0039">The above stated object is further achieved according to the third, seventh, eleventh and fifteenth aspects of the present disclosure by reporting (UE) or receiving (BS) HARQ ACK/NACK feedback, for PDSCHs received (UE) or transmitted (BS) in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration, using PUCCH resources determined based on resources used in transmission of PDCCHs corresponding to the PDSCHs received (UE) or transmitted (BS) in the corresponding DL subframe and a start position of the PUCCH resource corresponding to the DL subframe, so that dynamic-TDD-enabled UEs having different TDD configurations are able to determine what PUCCH resources to use for HARQ feedback in a uniform way, whereby conflicts in the UL mapping of PUCCH resources for HARQ feedback are avoided, so that the HARQ ACK/NACK transmissions from the dynamic-TDD-enabled UEs can be properly received at the base station.</div>
<div class="description-paragraph" id="p-0041" num="0040">The above stated object is further achieved according to the fourth, eighth, twelfth and sixteenth aspects of the present disclosure by selecting a first DL subframe associated with the UL subframe and indicated by its sequence number in the DL reference TDD configuration as well as in the UL reference TDD configuration and reporting (UE) or receiving (BS) HARQ ACK/NACK feedback, for PDSCHs received (UE) or transmitted (BS) in DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration, using PUCCH resources in an order indicated by PUCCH resource indices that are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs received (UE) or transmitted (BS) in the DL subframes in an order starting from the selected first DL subframe, so that dynamic-TDD-enabled UEs having different TDD configurations are able to determine what PUCCH resources to use for HARQ feedback in a uniform way. Because the PUCCH resource indices are assigned in an order starting from the selected first DL subframe, the order is also compatible with the UL mapping of PUCCH resources for HARQ feedback applied by legacy UEs, whereby conflicts in the UL mapping of PUCCH resources for HARQ feedback are avoided, so that the HARQ ACK/NACK transmissions from the dynamic-TDD-enabled UEs as well as from legacy UEs can be properly received at the base station.</div>
<div class="description-paragraph" id="p-0042" num="0041">It is further an advantage of embodiments presented herein that while HARQ feedback from dynamic-TDD-enabled UEs as well as legacy UEs can be properly handled in environments where the TDD configuration of DL and UL subframes may vary dynamically in time and between UEs, the solutions of presented embodiments also allow for efficiently compressing PUCCH HARQ ACK/NACK resources so that resource utilization efficiency may be improved.</div>
<description-of-drawings>
<heading id="h-0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<div class="description-paragraph" id="p-0043" num="0042">The above and other objects, features and advantages of the present invention will be clearer from the following detailed description about the non-limited embodiments of the present invention taken in conjunction with the accompanied drawings, in which:</div>
<div class="description-paragraph" id="p-0044" num="0043"> <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates uplink/downlink time/frequency structure for LTE TDD;</div>
<div class="description-paragraph" id="p-0045" num="0044"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a diagram illustrating an example of seven different downlink/uplink configurations for LTE TDD;</div>
<div class="description-paragraph" id="p-0046" num="0045"> <figref idrefs="DRAWINGS">FIG. 3</figref> illustrates an example TDD PUCCH HARQ-ACK resource allocation according to the prior art;</div>
<div class="description-paragraph" id="p-0047" num="0046"> <figref idrefs="DRAWINGS">FIG. 4</figref> shows example UL-DL configurations where UL-DL configuration 0 is taken as the UL reference TDD configuration;</div>
<div class="description-paragraph" id="p-0048" num="0047"> <figref idrefs="DRAWINGS">FIG. 5</figref> shows example PUCCH HARQ-ACK resource allocations;</div>
<div class="description-paragraph" id="p-0049" num="0048"> <figref idrefs="DRAWINGS">FIG. 6</figref> shows a flowchart of a method used in UE for reporting HARQ ACK/NAK for PDSCH in dynamic TDD configurations according to a first embodiment of the present invention;</div>
<div class="description-paragraph" id="p-0050" num="0049"> <figref idrefs="DRAWINGS">FIG. 7</figref> illustrates an example of how the PUCCH HARQ-ACK resource can be stacked;</div>
<div class="description-paragraph" id="p-0051" num="0050"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates an example of how the PUCCH HARQ-ACK resource can be stacked;</div>
<div class="description-paragraph" id="p-0052" num="0051"> <figref idrefs="DRAWINGS">FIG. 9</figref> shows a flowchart of a method used in UE for reporting HARQ ACK/NAK for PDSCH in dynamic TDD configurations according to a second embodiment of the present invention;</div>
<div class="description-paragraph" id="p-0053" num="0052"> <figref idrefs="DRAWINGS">FIG. 10</figref> shows a flowchart of a method used in UE for reporting HARQ ACK/NAK for PDSCH in dynamic TDD configurations according to a third embodiment of the present invention;</div>
<div class="description-paragraph" id="p-0054" num="0053"> <figref idrefs="DRAWINGS">FIG. 11</figref> illustrates an example of how the PUCCH HARQ-ACK resources may be stacked;</div>
<div class="description-paragraph" id="p-0055" num="0054"> <figref idrefs="DRAWINGS">FIG. 12</figref> shows a flowchart of a method used in UE for reporting HARQ ACK/NAK for PDSCH in dynamic TDD configurations according to a fourth embodiment of the present invention;</div>
<div class="description-paragraph" id="p-0056" num="0055"> <figref idrefs="DRAWINGS">FIG. 13</figref> illustrates an example of how the PUCCH HARQ-ACK resources may be stacked;</div>
<div class="description-paragraph" id="p-0057" num="0056"> <figref idrefs="DRAWINGS">FIG. 14</figref> is a schematic block diagram of UE <b>1400</b> according to some embodiments of the present disclosure;</div>
<div class="description-paragraph" id="p-0058" num="0057"> <figref idrefs="DRAWINGS">FIG. 15</figref> is a schematic block diagram of UE <b>1500</b> according to some embodiments of the present disclosure;</div>
<div class="description-paragraph" id="p-0059" num="0058"> <figref idrefs="DRAWINGS">FIG. 16</figref> is a schematic block diagram of UE <b>1600</b> according to some embodiments of the present disclosure;</div>
<div class="description-paragraph" id="p-0060" num="0059"> <figref idrefs="DRAWINGS">FIG. 17</figref> is a schematic block diagram of UE <b>1700</b> according to some embodiments of the present disclosure;</div>
<div class="description-paragraph" id="p-0061" num="0060"> <figref idrefs="DRAWINGS">FIG. 18</figref> shows a flowchart of a method used in BS for receiving HARQ ACK/NAK for PDSCH in dynamic TDD configurations according to a fifth embodiment of the present invention;</div>
<div class="description-paragraph" id="p-0062" num="0061"> <figref idrefs="DRAWINGS">FIG. 19</figref> illustrates an example of how the PUCCH HARQ-ACK resource can be stacked;</div>
<div class="description-paragraph" id="p-0063" num="0062"> <figref idrefs="DRAWINGS">FIG. 20</figref> illustrates an example of how the PUCCH HARQ-ACK resource can be stacked;</div>
<div class="description-paragraph" id="p-0064" num="0063"> <figref idrefs="DRAWINGS">FIG. 21</figref> shows a flowchart of a method used in BS for receiving HARQ ACK/NAK for PDSCH in dynamic TDD configurations according to a sixth embodiment of the present invention;</div>
<div class="description-paragraph" id="p-0065" num="0064"> <figref idrefs="DRAWINGS">FIG. 22</figref> shows a flowchart of a method used in BS for receiving HARQ ACK/NAK for PDSCH in dynamic TDD configurations according to a seventh embodiment of the present invention;</div>
<div class="description-paragraph" id="p-0066" num="0065"> <figref idrefs="DRAWINGS">FIG. 23</figref> illustrates an example of how the PUCCH HARQ-ACK resources may be stacked;</div>
<div class="description-paragraph" id="p-0067" num="0066"> <figref idrefs="DRAWINGS">FIG. 24</figref> shows a flowchart of a method used in BS for receiving HARQ ACK/NAK for PDSCH in dynamic TDD configurations according to a eighth embodiment of the present invention;</div>
<div class="description-paragraph" id="p-0068" num="0067"> <figref idrefs="DRAWINGS">FIG. 25</figref> illustrates an example of how the PUCCH HARQ-ACK resources may be stacked;</div>
<div class="description-paragraph" id="p-0069" num="0068"> <figref idrefs="DRAWINGS">FIG. 26</figref> is a schematic block diagram of BS <b>2600</b> according to some embodiments of the present disclosure;</div>
<div class="description-paragraph" id="p-0070" num="0069"> <figref idrefs="DRAWINGS">FIG. 27</figref> is a schematic block diagram of BS <b>2700</b> according to some embodiments of the present disclosure;</div>
<div class="description-paragraph" id="p-0071" num="0070"> <figref idrefs="DRAWINGS">FIG. 28</figref> is a schematic block diagram of BS <b>2800</b> according to some embodiments of the present disclosure; and</div>
<div class="description-paragraph" id="p-0072" num="0071"> <figref idrefs="DRAWINGS">FIG. 29</figref> is a schematic block diagram of BS <b>2900</b> according to some embodiments of the present disclosure.</div>
</description-of-drawings>
<div class="description-paragraph" id="p-0073" num="0072">Throughout the drawings, the same or similar elements or steps are identified by the same or similar reference signs.</div>
<heading id="h-0006">DETAILED DESCRIPTION OF EMBODIMENTS</heading>
<div class="description-paragraph" id="p-0074" num="0073">In the following, embodiments of the present invention will be described in accordance with the drawings. In the following description, some particular embodiments are used for the purpose of description only, which shall not be understood as any limitation to the present invention but merely examples thereof. While it may blur the understanding of the present invention, the conventional structure or construction will be omitted.</div>
<div class="description-paragraph" id="p-0075" num="0074">PUCCH HARQ-ACK resource allocation for PDSCH and ePDSCH has been specified in Rel-8 and Rel-11 respectively. However, PUCCH HARQ-ACK resource allocation when dynamic TDD is configured requires resource conflictions for different UEs who have different TDD configurations to be resolved if the current available PUCCH HARQ-ACK resource allocation schemes are to be used.</div>
<div class="description-paragraph" id="p-0076" num="0075">In TDD, the challenge to PUCCH HARQ-ACK resource determination is the asymmetry between UL and DL. When there are more DL subframes than UL subframes, the one to one mapping between the lowest CCE index and PUCCH HARQ-ACK resource in FDD cannot be reused any more, since the PUCCH resources will collide with each other across different DL subframes. On the other hand, the HARQ-ACK resource utilization should be considered since the resources for PUSCH transmission will be reduced if excessive UL resources are reserved for PUCCH HARQ-ACK transmission. The TDD PUCCH resource for HARQ-ACK transmission in response to legacy PDCCH has been specified in Section 8 in the 3GPP Technical Specification 3GPP TS 36.213, “Evolved Universal Terrestrial Radio Access (E-UTRA); Physical layer procedures”, v.11.1.0.</div>
<div class="description-paragraph" id="p-0077" num="0076">To give a detailed description for PUCCH resource for PDCCH, <figref idrefs="DRAWINGS">FIG. 3</figref> shows an example with four DL subframes and one UL subframe, which corresponds to TDD UL-DL configuration 2. The resource determination for HARQ-ACK multiplexing and HARQ-ACK bundling are similar and can be derived from Section 8 in the 3GPP Technical Specification 3GPP TS 36.213, “Evolved Universal Terrestrial Radio Access (E-UTRA); Physical layer procedures”, v.11.1.0. It can be seen that the PUCCH HARQ-ACK resources will be stacked firstly for the lowest CCE index of the DCI belonging to the first one-third CCEs of the control region (marked with ripples) across multiple subframes, denoted SF n-<b>8</b>, SF n-<b>7</b>, SF n-<b>6</b> and SF n-<b>4</b> in <figref idrefs="DRAWINGS">FIG. 3</figref>, followed by the DCIs belonging to second one-third CCEs (marked with inclined grids) and finally the last one-third CCEs (marked with panes). The design philosophy is that when the system load is low, the control region could be automatically reduced by the dynamic signaling of PCFICH, hence the PUCCH HARQ-ACK resource could be compressed to a continuous region.</div>
<div class="description-paragraph" id="p-0078" num="0077">When dynamic TDD is configured, in general, there are two UL-DL reference TDD configurations, one for UL and one for DL, as described in R1-130588, “Signaling Support for Dynamic TDD, Ericsson, ST-Ericsson. The UL reference TDD configuration is broadcasted in System Information Block 1 (SIB1) and will be used for legacy UEs. It can also be used for Dynamic-TDD-enabled UEs for initial access. Based on the two reference TDD configurations, some subframes may be used as flexible subframes where either DL or UL can be configured. When DL is configured in some flexible subframes, the DL reference TDD configuration will be assumed for HARQ-ACK timing.</div>
<div class="description-paragraph" id="p-0079" num="0078"> <figref idrefs="DRAWINGS">FIG. 4</figref> shows an example where UL-DL configuration 0 is taken as the UL reference TDD configuration. In case subframe 4 and subframe 9 are used as the flexible subframes, and they are configured as DL subframes, the DL reference TDD configuration is TDD configuration 1. Similarly, if subframe 3, 4, 8 and 9 are used as flexible subframes and are configured as DL subframe, the DL reference TDD configuration is TDD configuration 2.</div>
<div class="description-paragraph" id="p-0080" num="0079">In TDD, each UL subframe is associated with a set of DL subframes. The HARQ-ACK in response to DL transmissions in these subframes shall be transmitted in the associated UL subframe. The DL association set is defined as in Table 3, referring to Section 8 in the 3GPP Technical Specification 3GPP TS 36.213, “Evolved Universal Terrestrial Radio Access (E-UTRA); Physical layer procedures”, v.11.1.0.</div>
<div class="description-paragraph" id="p-0081" num="0080"> <tables id="TABLE-US-00003" num="00003"> <patent-tables colsep="0" frame="none" pgwide="1" rowsep="0"> <table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%"> <thead> <tr class="description-tr"> <td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 3</td> </tr> </thead> <tbody><tr class="description-tr"> <td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">DL association set index K: {k<sub>0</sub>, k<sub>1</sub>, L k<sub>M−1</sub>} for TDD</td> </tr> </tbody></table> <table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">UL-DL</td> <td class="description-td">Subframe n</td> </tr> </tbody></table> <table align="left" class="description-table" cols="11" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">Configuration</td> <td class="description-td">0</td> <td class="description-td">1</td> <td class="description-td">2</td> <td class="description-td">3</td> <td class="description-td">4</td> <td class="description-td">5</td> <td class="description-td">6</td> <td class="description-td">7</td> <td class="description-td">8</td> <td class="description-td">9</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">0</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6</td> <td class="description-td">—</td> <td class="description-td">4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6</td> <td class="description-td">—</td> <td class="description-td">4</td> </tr> <tr class="description-tr"> <td class="description-td">1</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">7, 6</td> <td class="description-td">4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">7, 6</td> <td class="description-td">4</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td">2</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">8, 7, 4, 6</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">8, 7, 4, 6</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td">3</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">7, 6, 11</td> <td class="description-td">6, 5</td> <td class="description-td">5, 4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td">4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">12, 8, 7, 11</td> <td class="description-td">6, 5, 4, 7</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td">5</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">13, 12, 9, 8, 7, 5, 4, 11, 6</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td">6</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">7</td> <td class="description-td">7</td> <td class="description-td">5</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">7</td> <td class="description-td">7</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> </tbody></table> </patent-tables> </tables> <br/>
In case dynamic TDD is configured, some UEs, e.g., legacy UEs, will use the UL reference TDD configuration for both UL and DL transmissions, whereas Dynamic-TDD-enabled UEs will use the UL reference TDD configuration for UL transmission and use the DL reference TDD configuration for DL transmissions. As a result, for legacy UEs, the PUCCH HARQ-ACK resource allocation is based on the UL reference TDD configuration; and for Dynamic-TDD-enabled UEs, the PUCCH HARQ-ACK resource allocation is based on DL reference TDD configuration. When the HARQ-ACK feedbacks occur in the same UL subframe, there will be PUCCH HARQ-ACK collisions between the legacy UEs and Dynamic-TDD-enabled UEs.
</div>
<div class="description-paragraph" id="p-0082" num="0081"> <figref idrefs="DRAWINGS">FIG. 5</figref> shows example PUCCH HARQ-ACK resource allocations when the UL reference TDD configuration is TDD configuration 0 and DL reference configuration is TDD configuration 2. For subframe 2, in configuration 0, there is one associated DL subframe n-<b>6</b> (subframe 6), and in configuration 2, there are four associated DL subframes n-<b>8</b>, n-<b>7</b>, n-<b>4</b>, and n-<b>6</b> (corresponding to subframe 4, 5, 8 and 6). As shown in <figref idrefs="DRAWINGS">FIG. 5</figref>, PUCCH HARQ-ACK resource allocations for Configuration 0 are depicted in the right and the PUCCH HARQ-ACK resource allocations for Configuration 2 are depicted in the left. For the PUCCH resource allocation, it can seen that when the first one-third CCEs of subframe n-<b>6</b> (i.e., the portion marked with ripples of SF n-<b>6</b>) are allocated for the legacy UE, and the first one-third CCEs of subframe n-<b>8</b> (i.e., the portion marked with ripples of SF n-<b>8</b>) are allocated for the Dynamic-TDD-enabled UEs, the PUCCH HARQ-ACK resources will collide with each other. In case of conflict, i e if collision happens, HARQ-ACK transmission cannot be properly received at the eNB.</div>
<div class="description-paragraph" id="p-0083" num="0082">Therefore, embodiments of the invention are provided to solve the above technical problems.</div>
<heading id="h-0007">First Embodiment</heading>
<div class="description-paragraph" id="p-0084" num="0083">As the first embodiment of the invention, a method used in a UE for reporting HARQ ACK/NACK for PDSCH in dynamic TDD configurations is proposed.</div>
<div class="description-paragraph" id="p-0085" num="0084">In the method, referring to <figref idrefs="DRAWINGS">FIG. 6</figref> which shows a flowchart of the method <b>600</b>, a plurality of PDSCHs are received in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration (Step <b>610</b>). The DL subframes are divided into a first subset of DL subframes and a second subset of DL subframes (Step <b>620</b>). The first subset of DL subframes is also indicated by an UL reference TDD configuration. Hereinafter, DL subframes associated with the UL subframe and indicated by a UL reference TDD configuration may be referred to as the first DL association subframes of the UL subframe, and DL subframes associated with a UL subframe and indicated by a DL reference TDD configuration may be referred to as the second DL association subframes of the UL subframe. Thus, the first subset of DL subframes and the second subset of DL subframes may be referred to as the first DL association subset and the second DL association subset, respectively. Then, a first set of PUCCH resource indices are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes (Step <b>630</b>), and a second set of PUCCH resource indices are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the second subset of DL subframes (Step <b>640</b>). Thereafter, for each of the received PDSCHs, HARQ ACK/NACK is reported by using PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs received in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs received in the DL subframes of the second subset of DL subframes (Step <b>650</b>).</div>
<div class="description-paragraph" id="p-0086" num="0085">In the present disclosure, there is an offset between the first set of PUCCH resource indices and the second set of PUCCH resource indices. The offset herein may be configured by higher layers or predefined. For example, the offset may be notified by the eNB via RRC signaling or Medium Access Control (MAC) Control Element (CE).</div>
<div class="description-paragraph" id="p-0087" num="0086">In the present disclosure, the first set of PUCCH resource indices and the second set of PUCCH resource indices may have different start positions, which may be referred to as start positions of PUCCH resources. There are four alternatives for configuring respective start positions:
</div> <ul> <li id="ul0001-0001" num="0000"> <ul> <li id="ul0002-0001" num="0087">As a first alternative, the eNB may broadcast respective start positions.</li> <li id="ul0002-0002" num="0088">As a second alternative, the eNB may notify a UE of the offset for the second DL association subset via RRC signaling or MAC CE once the UE is to be scheduled for DL data transmission in any flexible subframes;</li> <li id="ul0002-0003" num="0089">As a third alternative, the eNB may broadcast offset(s) to indicate the start position difference between different subsets of DL subframes, i.e., the start position difference between different sets of PUCCH resource indices, so that the UE can determine the PUCCH resources for the second DL association subset based on the offset and start position of the UL reference TDD configuration.</li> <li id="ul0002-0004" num="0090">As a fourth alternative, the eNB may broadcast a start position of the UL reference TDD configuration. The UE determines the PUCCH resources for the first DL association subset according to the received start position and determines the PUCCH resources for the second DL association subset proportionally according to the amount of the feedback of the two DL association subsets. In such case, the PUCCH resource start position for the second DL association set is just next to the end position for the first DL association subset.</li> <li id="ul0002-0005" num="0091">As a fifth alternative, the eNB may broadcast start position of the UL reference TDD configuration and the maximum size of PUCCH resources for the UL reference TDD configuration. Similar to the fourth alternative, the PUCCH resource start position for the second DL association set is next to the end position for the first DL association subset.</li> </ul> </li> </ul>
<div class="description-paragraph" id="p-0088" num="0092">In some embodiments of the present disclosure, the steps of <b>630</b> and <b>640</b> may be performed based on the following formula:
<br/>
<i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup>=(<i>M</i> <sub>q</sub> <i>−i−</i>1)·<i>N</i> <sub>c</sub> <i>+i·N</i> <sub>c+1</sub> <i>+n</i> <sub>CCE,i</sub> <i>+N</i> <sub>PUCCH</sub> <sup>(q)</sup>  (1)
<br/>
wherein n<sub>PUCCH,i</sub> <sup>(1) </sup>is a PUCCH resource index determined based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframe that is the i<sup>th </sup>th element of the q<sup>th </sup>subset, M<sub>q </sub>is the total number of DL subframes in the q<sup>th </sup>subset, 0≤i&lt;M<sub>q</sub>, c is selected from {0, 1, 2, 3} such that N<sub>c</sub>≤n<sub>CCE,i</sub>&lt;N<sub>c+1</sub>, N<sub>c</sub>=max{0,└[N<sub>RB</sub> <sup>DL</sup>·(N<sub>sc</sub> <sup>RB</sup>·c−4)]/36┘} where N<sub>RB</sub> <sup>DL </sup>is the number of physical resource blocks, PRBs, in each downlink subframe and where N<sub>sc</sub> <sup>RB </sup>is the number of subcarriers in each physical resource block, n<sub>CCE,i </sub>is the sequence number of the first Control Channel Element, CCE, used for transmission of the corresponding PDCCH in subframe n−k<sub>i</sub> <sup>(q)</sup>, k<sub>i</sub> <sup>(q) </sup>(q=0, 1) is the i<sup>th </sup>element of the q<sup>th </sup>subset, n indicates the UL subframe associated with the DL subframes where the plurality of PDSCHs are received, N<sub>PUCCH</sub> <sup>(q) </sup>(q=0, 1) is an offset for q<sup>th </sup>subset, wherein q=0 corresponds to one of the first and second subsets of DL subframes and q=1 corresponds to the other one of the first and second subsets of DL subframes. The offset may be configured by higher layers.
</div>
<div class="description-paragraph" id="p-0089" num="0093">In some embodiments of the present disclosure, the second subset of DL subframes may comprise all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0090" num="0094">In some embodiments of the present disclosure, the first subset of DL subframes may comprise one or more virtual subframes that are added by the UE, and the one or more virtual subframes may be used only for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
<div class="description-paragraph" id="p-0091" num="0095">In the following, some examples will be explained in detail by assuming that the UL reference TDD configuration is TDD configuration 0 or TDD configuration 1 or TDD configuration 6, and the DL reference TDD configuration is TDD configuration 1 or TDD configuration 2. In these examples, the subframes #3, #4, #8 and #9 are flexible subframes that can be allocated as UL and DL subframes.</div>
<heading id="h-0008">Example 1</heading>
<heading id="h-0009">TDD Configuration 1 (UL), TDD Configuration 2 (DL)</heading>
<div class="description-paragraph" id="p-0092" num="0096">In this example, for UL subframe 2, the first DL association subset can be {7, 6}, and the second DL association subset can be {8, 4}. An example DL association subset is shown in Table 4.</div>
<div class="description-paragraph" id="p-0093" num="0097">
<tables id="TABLE-US-00004" num="00004">
<patent-tables colsep="0" frame="none" pgwide="1" rowsep="0">
<table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 4</td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Example DL association set index K: {k<sub>0</sub> <sup>(q)</sup>, Λ, k<sub>Mq</sub>−1<sup>(q)</sup>} for TDD when UL</td>
</tr>
<tr class="description-tr">
<td class="description-td">reference TDD configuration is configuration 1 and DL reference TDD configuration is 2</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">UL-DL</td>
<td class="description-td">Subframe n</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="11" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">Configuration</td>
<td class="description-td">0</td>
<td class="description-td">1</td>
<td class="description-td">2</td>
<td class="description-td">3</td>
<td class="description-td">4</td>
<td class="description-td">5</td>
<td class="description-td">6</td>
<td class="description-td">7</td>
<td class="description-td">8</td>
<td class="description-td">9</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">1</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">{7, 6}</td>
<td class="description-td">—</td>
<td class="description-td">4</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">{7, 6}</td>
<td class="description-td">—</td>
<td class="description-td">4</td>
</tr>
<tr class="description-tr">
<td class="description-td">2</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">Subset 1: {7, 6}</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">Subset 1: {7, 6}</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Subset 2: {8, 4}</td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Subset 2: {8, 4}</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0094" num="0098"> <figref idrefs="DRAWINGS">FIG. 7</figref> illustrates how the PUCCH HARQ-ACK resource can be stacked. As shown in <figref idrefs="DRAWINGS">FIG. 7</figref>, subframes SF n-<b>6</b> and SF n-<b>7</b> not only belong to Configuration 2 but also belong to configuration 1. Correspondingly, as shown in the left part of <figref idrefs="DRAWINGS">FIG. 7</figref>, their corresponding PUCCH HARQ-ACK resources may be stacked firstly. That is, PUCCH resource indices for PDSCHs received in the subframes SF n-<b>6</b> and SF n-<b>7</b> may be smaller than those for PDSCHs received in the remaining DL subframes. <figref idrefs="DRAWINGS">FIG. 7</figref> is just an illustrative example, and the present disclosure is not limited to this example. For example, PUCCH resource indices for PDSCHs received in the subframes SF n-<b>6</b> and SF n-<b>7</b> may be larger than those for PDSCHs received in the remaining DL subframes. PUCCH HARQ-ACK resources corresponding to other DL association subframes may be stacked in a similar way but with a separate offset (i.e., N<sub>PUCCH</sub> <sup>(1)</sup>.</div>
<heading id="h-0010">Example 2</heading>
<heading id="h-0011">TDD Configuration 0 (UL), TDD Configuration 2 (DL)</heading>
<div class="description-paragraph" id="p-0095" num="0099">In this example, for UL subframe 2, the first DL association subset is {6}, and the second DL association subset is {8, 7, 4}. An example DL association subset is shown in Table 5.</div>
<div class="description-paragraph" id="p-0096" num="0100">
<tables id="TABLE-US-00005" num="00005">
<patent-tables colsep="0" frame="none" pgwide="1" rowsep="0">
<table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 5</td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Example DL association set index K: {k<sub>0</sub> <sup>(q)</sup>, Λ, k<sub>Mq</sub>−1<sup>(q)</sup>} for TDD when UL</td>
</tr>
<tr class="description-tr">
<td class="description-td">reference TDD configuration is configuration 0 and DL reference TDD configuration is 2</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">UL-DL</td>
<td class="description-td">Subframe n</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="11" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">Configuration</td>
<td class="description-td">0</td>
<td class="description-td">1</td>
<td class="description-td">2</td>
<td class="description-td">3</td>
<td class="description-td">4</td>
<td class="description-td">5</td>
<td class="description-td">6</td>
<td class="description-td">7</td>
<td class="description-td">8</td>
<td class="description-td">9</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">0</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">6</td>
<td class="description-td">—</td>
<td class="description-td">4</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">6</td>
<td class="description-td">—</td>
<td class="description-td">4</td>
</tr>
<tr class="description-tr">
<td class="description-td">2</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">Subset 1: {6}</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">Subset 1: {6}</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Subset 2: {8, 7, 4}</td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Subset 2: {8, 7, 4}</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0097" num="0101"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates how the PUCCH HARQ-ACK resource can be stacked. As shown in <figref idrefs="DRAWINGS">FIG. 8</figref>, subframe SF n-<b>6</b> not only belongs to Configuration 2, but also belongs to Configuration 0. Correspondingly, as shown in the left part of <figref idrefs="DRAWINGS">FIG. 8</figref>, their corresponding PUCCH HARQ-ACK resources may be stacked firstly. That is, PUCCH resource indices for PDSCHs received in the subframe SF n-<b>6</b> may be smaller than those for PDSCHs received in the remaining DL subframes. <figref idrefs="DRAWINGS">FIG. 8</figref> is just an illustrative example, and the present disclosure is not limited to this example. For example, PUCCH resource indices for PDSCHs received in the subframe SF n-<b>6</b> may be larger than those for PDSCHs received in the remaining DL subframes. PUCCH HARQ-ACK resources corresponding to other DL association subframes may be stacked in a similar way but with a separate offset (i.e., N<sub>PUCCH</sub> <sup>(1)</sup>).</div>
<heading id="h-0012">Example 3</heading>
<heading id="h-0013">TDD Configuration 6 (UL), TDD Configuration 1 (DL)</heading>
<div class="description-paragraph" id="p-0098" num="0102">In this example, for UL subframe 3, the first DL association subset is {7}, and the second DL association subset is {4}. An example DL association subset is shown in Table 6. As shown in Table 6, the second DL association subset for UL subframe 3 contains no DL subframe having the same sequence number as that of any DL subframe in the first DL association subset for UL subframe 3.</div>
<div class="description-paragraph" id="p-0099" num="0103">In accordance with this example, one or more virtual subframes, i.e., X as shown in Table 6, also referred to as an offset, may be added into the second DL association subset, so as to form a new second DL association subset. The one or more virtual subframes are only used for assigning PUCCH resource indices, but not for real PDSCH transmissions. For example, the one or more virtual subframes may be treated as SF n-<b>7</b> in this example. In this case, the above Example 1 and Example 2 may be applied to the new second DL association subset.</div>
<div class="description-paragraph" id="p-0100" num="0104">
<tables id="TABLE-US-00006" num="00006">
<patent-tables colsep="0" frame="none" rowsep="0">
<table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 6</td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Example DL association set index K: {k<sub>0</sub> <sup>(q)</sup>, L , k<sub>Mq</sub>−1<sup>(q)</sup>} for</td>
</tr>
<tr class="description-tr">
<td class="description-td">TDD when UL reference TDD configuration is configuration 6 and DL</td>
</tr>
<tr class="description-tr">
<td class="description-td">reference TDD configuration is 1</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">UL-DL</td>
<td class="description-td">Subframe n</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="11" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">Configuration</td>
<td class="description-td">0</td>
<td class="description-td">1</td>
<td class="description-td">2</td>
<td class="description-td">3</td>
<td class="description-td">4</td>
<td class="description-td">5</td>
<td class="description-td">6</td>
<td class="description-td">7</td>
<td class="description-td">8</td>
<td class="description-td">9</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">6</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">7</td>
<td class="description-td">7</td>
<td class="description-td">5</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">7</td>
<td class="description-td">7</td>
<td class="description-td">—</td>
</tr>
<tr class="description-tr">
<td class="description-td">1</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">7, 6</td>
<td class="description-td">X, 4</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">7, 6</td>
<td class="description-td">X, 4</td>
<td class="description-td">—</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<heading id="h-0014">Second Embodiment</heading>
<div class="description-paragraph" id="p-0101" num="0105">As the second embodiment of the invention, a method used in a UE for reporting HARQ ACK/NACK for PDSCH in dynamic TDD configurations is proposed.</div>
<div class="description-paragraph" id="p-0102" num="0106">In the method, referring to <figref idrefs="DRAWINGS">FIG. 9</figref> which shows a flowchart of the method <b>900</b>, a plurality of PDSCHs are received in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration (Step <b>910</b>). For each of the received PDSCHs, HARQ ACK/NACK is reported by at least partially using PUCCH resources indicated by DCI and/or RRC signaling (Step <b>920</b>).</div>
<div class="description-paragraph" id="p-0103" num="0107">Optionally, the method <b>900</b> may also include the following steps. Firstly, the DL subframes are divided into a first subset of DL subframes and a second subset of DL subframes (Step <b>930</b>). The first subset of DL subframes is according to this example also indicated by an UL reference TDD configuration. Then, a set of PUCCH resource indices are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes (Step <b>940</b>). Thereafter, for each of the PDSCHs received in the DL subframes of the first subset of DL subframes, HARQ ACK/NACK is reported by using PUCCH resources in an order of the assigned set of PUCCH resource indices (Step <b>950</b>). Finally, for each of the PDSCHs received in the DL subframes of the second subset of DL subframes, HARQ ACK/NACK is reported by using PUCCH resources indicated by DCI and/or RRC signaling (Step <b>960</b>).</div>
<div class="description-paragraph" id="p-0104" num="0108">In some embodiments of the present disclosure, the second subset of DL subframes may comprise all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0105" num="0109">In some embodiments of the present disclosure, the first subset of DL subframes may comprise one or more virtual subframes that are added by the UE, and the one or more virtual subframes may be used only for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
<div class="description-paragraph" id="p-0106" num="0110">For DL subframes in the first subset of DL subframes, corresponding PUCCH resources may be stacked according to the UL reference TDD configuration and implicitly determined by the first CCE index used for transmission of the corresponding PDCCH.</div>
<div class="description-paragraph" id="p-0107" num="0111">For DL subframes in the second subset of DL subframes, corresponding PUCCH resource may explicitly signaled, e.g. by DCI and/or RRC signaling.</div>
<div class="description-paragraph" id="p-0108" num="0112">For example, for DL subframes in the first subset of DL subframes, the corresponding PUCCH resource may be determined by the above equation (1). For the DL subframes in the second subset of DL subframes, the UE may use PUCCH resource index where the value of n<sub>PUCCH,i</sub> <sup>(1) </sup>is determined according to higher layer configuration and/or the predefined mapping rules as shown in Table 7.</div>
<div class="description-paragraph" id="p-0109" num="0113">One field in the DCI format of the corresponding PDCCH may be used to determine the PUCCH resource values from one of the four resource values configured by higher layers, with the mapping defined in Table 7.</div>
<div class="description-paragraph" id="p-0110" num="0114">As a non-limiting example, the field in DCI to indicate PUCCH resource values may be some existing field, e.g. the Transport Power Control (TPC) field. When the existing field is reused, if the DCI is granted or received in the second subset of DL subframes, this field is interpreted as PUCCH resource; and if the DCI is granted or received in the first subset of DL subframes, the field is interpreted according to its original definition.</div>
<div class="description-paragraph" id="p-0111" num="0115"> <tables id="TABLE-US-00007" num="00007"> <patent-tables colsep="0" frame="none" rowsep="0"> <table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%"> <thead> <tr class="description-tr"> <td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 7</td> </tr> </thead> <tbody><tr class="description-tr"> <td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">PUCCH resource value for HARQ-ACK resource for PUCCH</td> </tr> </tbody></table> <table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">Value of “command for</td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">PUCCH”</td> <td class="description-td">n<sub>PUCCH, i</sub> <sup>(1)</sup> </td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="2" nameend="2" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">‘00’</td> <td class="description-td">The 1<sup>st </sup>PUCCH resource index</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">configured by the higher layers</td> </tr> <tr class="description-tr"> <td class="description-td">‘01’</td> <td class="description-td">The 2<sup>nd </sup>PUCCH resource index</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">configured by the higher layers</td> </tr> <tr class="description-tr"> <td class="description-td">‘10’</td> <td class="description-td">The 3<sup>rd </sup>PUCCH resource index</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">configured by the higher layers</td> </tr> <tr class="description-tr"> <td class="description-td">‘11’</td> <td class="description-td">The 4<sup>th </sup>PUCCH resource index</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">configured by the higher layers</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="2" nameend="2" namest="1" rowsep="1"> </td> </tr> </tbody></table> </patent-tables> </tables> <br/>
As another non-limiting example, new bits may be added to indicate PUCCH resource values. The new field may be added only on the DCI granted or received in the second subset of DL subframes, and the new field may not be available in the DCI granted or received in the first subset of DL subframes.
</div>
<div class="description-paragraph" id="p-0112" num="0116">As another non-limiting example, if a new field is added to indicate PUCCH resource values, the new field may be interpreted as PUCCH resource for DCI granted or received in the second subset of DL subframes, whereas the field may be used for another purpose than PUCCH resource value indication for DCI granted or received in the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0113" num="0117">As a non-limiting example, for all DL transmissions, PUCCH resources may be explicitly signaled by dynamic grant, e.g. DCI, and/or RRC signaling.</div>
<div class="description-paragraph" id="p-0114" num="0118">In this example, the UE may use PUCCH resource index n<sub>PUCCH,i</sub> <sup>(1)</sup>, where the value of n<sub>PUCCH,i</sub> <sup>(1) </sup>is determined according to higher layer configuration and/or a predefined rule, e.g., a predefined table as shown in Table 7.</div>
<div class="description-paragraph" id="p-0115" num="0119">One field in the DCI format of the corresponding PDCCH may be used to determine the PUCCH resource values from one of the four resource values configured by higher layers, with the mapping defined in Table 7.</div>
<heading id="h-0015">Third Embodiment</heading>
<div class="description-paragraph" id="p-0116" num="0120">As the third embodiment of the invention, a method used in a UE for reporting HARQ ACK/NACK for PDSCH in dynamic TDD configurations is proposed.</div>
<div class="description-paragraph" id="p-0117" num="0121">In the method, referring to <figref idrefs="DRAWINGS">FIG. 10</figref> which shows a flowchart of the method <b>1000</b>, a plurality of PDSCHs are received in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration (Step <b>1010</b>). For each of the received PDSCHs, a PUCCH resource is determined based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs received in the corresponding DL subframe (e.g., the sequence number of the first CCE used for transmission of PDCCHs corresponding to the received PDSCH in the corresponding DL subframe) and a start position of the PUCCH resource corresponding to the DL subframe (Step <b>1020</b>); and then HARQ ACK/NACK is reported by using the determined PUCCH resource (Step <b>1030</b>).</div>
<div class="description-paragraph" id="p-0118" num="0122">If there is no legacy UEs in the system and all the UEs are new release UEs, i.e. Dynamic-TDD-enabled UEs, we can have different offsets per DL subframe. In this case, an index of PUCCH resource n<sub>PUCCH,i</sub> <sup>(1) </sup>in subframe i may be determined as follows:
<br/>
<i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup> <i>=n</i> <sub>CCE,i</sub> <i>+N</i> <sub>UE-PUCCH</sub> <sup>(i) </sup>
<br/>
where n<sub>CCE,i </sub>is the number of the first CCE used for transmission of the corresponding PDCCH in subframe n−k<sub>i</sub>, N<sub>UE-PUCCH</sub> <sup>(i) </sup>is the offset corresponding to the DL subframe n−k<sub>i</sub>, and N<sub>UE-PUCCH</sub> <sup>(i) </sup>is configured by higher layers.
</div>
<div class="description-paragraph" id="p-0119" num="0123">In the following, an example will be explained in detail by assuming that the UL reference TDD configuration is TDD configuration 0, and the DL reference TDD configuration is TDD configuration 2. In these examples, the subframes #3, #4, #8 and #9 are flexible subframes that can be allocated as UL and DL subframes.</div>
<heading id="h-0016">Example 1</heading>
<heading id="h-0017">TDD Configuration 0 (UL), TDD Configuration 2 (DL)</heading>
<div class="description-paragraph" id="p-0120" num="0124">In this example, for UL subframe 2, the first DL association subset is {SF n-<b>6</b>}, and the second DL association subset is {SF n-<b>8</b>, SF n-<b>7</b>, SF n-<b>4</b>}, as shown in Table 5.</div>
<div class="description-paragraph" id="p-0121" num="0125"> <figref idrefs="DRAWINGS">FIG. 11</figref> illustrates an example of how the PUCCH HARQ-ACK resources may be stacked. As shown in <figref idrefs="DRAWINGS">FIG. 11</figref>, PUCCH HARQ-ACK resources for all CCE indices of each DL subframe, i.e., all three one-third CCEs of the DL subframe, are stacked continuously, and each DL subframe corresponds to an offset.</div>
<div class="description-paragraph" id="p-0122" num="0126">In this example, a start position of a PUCCH resource corresponding to the DL subframe may be separately configured using related information informed by broadcasting, RRC signaling, MAC CE, etc.</div>
<heading id="h-0018">Fourth Embodiment</heading>
<div class="description-paragraph" id="p-0123" num="0127">As the fourth embodiment of the invention, a method used in a UE for reporting HARQ ACK/NACK for PDSCH in dynamic TDD configurations is proposed.</div>
<div class="description-paragraph" id="p-0124" num="0128">In the method, referring to <figref idrefs="DRAWINGS">FIG. 12</figref> which shows a flowchart of the method <b>1200</b>, a plurality of PDSCHs are received in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration (Step <b>1210</b>). A DL subframe of the DL subframes is selected to be a first DL subframe (Step <b>1220</b>), so that the sequence number of the selected DL subframe is the same as that of a first DL subframe of DL subframes associated with the UL subframe but indicated by an UL reference TDD configuration. PUCCH resource indices are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration (Step <b>1230</b>). The PUCCH resource indices are assigned in an order starting from the selected first DL subframe of the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration. For each of the received PDSCHs, HARQ ACK/NACK is reported by using PUCCH resources in the order of the assigned PUCCH resource indices (Step <b>1240</b>).</div>
<div class="description-paragraph" id="p-0125" num="0129">In this embodiment, the same resource allocation method is used as for the legacy user or UE, but a different order is used for the DL association set for the specific subframe. The new permutation may be indicated by a new look-up table or by rules specified in the standard.</div>
<div class="description-paragraph" id="p-0126" num="0130">In some examples, the order of the values in the DL association set may be rearranged such that the first values in the DL association set of DL reference TDD configuration match the values in the DL association set for the UL reference/broadcasted TDD configuration for the same subframe, where possible.</div>
<div class="description-paragraph" id="p-0127" num="0131">In some examples, also other values in the DL association set may be rearranged in order to match the likelihood of the subframes to be used for DL transmissions. For example, subframes related to DL in both the UL and the DL reference TDD configuration may be mapped first. Subframes having different directions in the two configurations could then be mapped in order counting from the UL to DL switching-point in the UL configuration.</div>
<div class="description-paragraph" id="p-0128" num="0132">Table 8 shows an example DL association set index according to the fourth embodiment.</div>
<div class="description-paragraph" id="p-0129" num="0133"> <tables id="TABLE-US-00008" num="00008"> <patent-tables colsep="0" frame="none" rowsep="0"> <table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%"> <thead> <tr class="description-tr"> <td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 8</td> </tr> </thead> <tbody><tr class="description-tr"> <td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">Example DL association set index K: {k<sub>0</sub> <sup>(q)</sup>, Λ, k<sub>Mq</sub>−1<sup>(q)</sup>} for</td> </tr> <tr class="description-tr"> <td class="description-td">TDD when UL reference TDD configuration is configuration 0 and DL</td> </tr> <tr class="description-tr"> <td class="description-td">reference TDD configuration is 2</td> </tr> </tbody></table> <table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">UL-DL</td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">Configura-</td> <td class="description-td">Subframe n</td> </tr> </tbody></table> <table align="left" class="description-table" cols="11" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">tion</td> <td class="description-td">0</td> <td class="description-td">1</td> <td class="description-td">2</td> <td class="description-td">3</td> <td class="description-td">4</td> <td class="description-td">5</td> <td class="description-td">6</td> <td class="description-td">7</td> <td class="description-td">8</td> <td class="description-td">9</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">0</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6</td> <td class="description-td">—</td> <td class="description-td">4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6</td> <td class="description-td">—</td> <td class="description-td">4</td> </tr> <tr class="description-tr"> <td class="description-td">2</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6, 7, 8, 4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6, 7, 8, 4</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> <div class="patent-image"><a href="https://patentimages.storage.googleapis.com/0b/18/e1/370dcc4ab25c72/US10666401-20200526-P00001.png"><img alt="Figure US10666401-20200526-P00001" class="patent-full-image" file="US10666401-20200526-P00001.TIF" he="2.79mm" height="11" id="CUSTOM-CHARACTER-00001" img-content="character" img-format="tif" inline="no" orientation="portrait" src="https://patentimages.storage.googleapis.com/0b/18/e1/370dcc4ab25c72/US10666401-20200526-P00001.png" wi="8.13mm" width="33"/></a></div> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> <div class="patent-image"><a href="https://patentimages.storage.googleapis.com/0b/18/e1/370dcc4ab25c72/US10666401-20200526-P00001.png"><img alt="Figure US10666401-20200526-P00001" class="patent-full-image" file="US10666401-20200526-P00001.TIF" he="2.79mm" height="11" id="CUSTOM-CHARACTER-00002" img-content="character" img-format="tif" inline="no" orientation="portrait" src="https://patentimages.storage.googleapis.com/0b/18/e1/370dcc4ab25c72/US10666401-20200526-P00001.png" wi="8.13mm" width="33"/></a></div> </td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> </tbody></table> </patent-tables> </tables> <br/>
As shown in Table 8, DL subframes in the original second DL association set for UL subframe SF n-<b>2</b>, i.e., {SF n-<b>8</b>, SF n-<b>7</b>, SF n-<b>4</b>, SF n-<b>6</b>}, may be rearranged as {SF n-<b>6</b>, SF n-<b>7</b>, SF n-<b>8</b>, SF n-<b>4</b>}, so that PUCCH resources for responding to PDSCHs transmitted in the subframe SF n-<b>6</b> may be stacked firstly. This may be illustrated in <figref idrefs="DRAWINGS">FIG. 13</figref>.
</div>
<div class="description-paragraph" id="p-0130" num="0134"> <figref idrefs="DRAWINGS">FIG. 14</figref> is a schematic block diagram of a UE <b>1400</b> according to some embodiments of the present disclosure.</div>
<div class="description-paragraph" id="p-0131" num="0135">As shown, UE <b>1400</b> includes a receiver <b>1410</b>, a transmitter <b>1420</b>, a memory <b>1430</b> and a processor <b>1440</b>. The memory <b>1430</b> is configured to store TDD configurations, e.g., TDD configurations 0-6. The processor <b>1440</b> is configured to control, e.g., according to instructions stored in the memory <b>1430</b>, the receiver <b>1410</b> to receive a plurality of PDSCHs in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration. The processor <b>1440</b> is further configured to divide the DL subframes into a first subset of DL subframes and a second subset of DL subframes. The first subset of DL subframes is also indicated by an UL reference TDD configuration. The processor <b>1440</b> is also configured to assign a first set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes. Moreover, the processor <b>1440</b> is configured to assign a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the second subset of DL subframes. The processor <b>1440</b> is also configured to control, e.g., according to instructions stored in the memory <b>1430</b>, the transmitter <b>1420</b> to, for each of the received PDSCHs, report HARQ ACK/NACK by using PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs received in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs received in the DL subframes of the second subset of DL subframes.</div>
<div class="description-paragraph" id="p-0132" num="0136">For example, the processor <b>1440</b> may be configured to assign the first set of PUCCH resource indices and the second set of PUCCH resource indices based on the following formula:
<br/>
<i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup>=(<i>M</i> <sub>q</sub> <i>−i−</i>1)·<i>N</i> <sub>c</sub> <i>+i·N</i> <sub>c+1</sub> <i>+n</i> <sub>CCE,i</sub> <i>+N</i> <sub>PUCCH</sub> <sup>(q)</sup>,
<br/>
wherein n<sub>PUCCH,i</sub> <sup>(1) </sup>is a PUCCH resource index determined based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframe that is the i<sup>th </sup>element of the q<sup>th </sup>subset, M<sub>q </sub>is the total number of DL subframes in the q<sup>th </sup>subset, 0≤i&lt;M<sub>q</sub>, c is selected from {0, 1, 2, 3} such that N<sub>c</sub>≤n<sub>CCE,i</sub>&lt;N<sub>c+1</sub>, N<sub>c</sub>=max{0,└[N<sub>RB</sub> <sup>DL</sup>·(N<sub>sc</sub> <sup>RB</sup>·c−4)]/36┘} where N<sub>RB</sub> <sup>DL </sup>is the number of physical resource blocks, PRBs, in each downlink subframe and where N<sub>sc</sub> <sup>RB </sup>is the number of subcarriers in each physical resource block, n<sub>CCE,i </sub>is the sequence number of the first Control Channel Element, CCE, used for transmission of the corresponding PDCCH in subframe n−k<sub>i</sub> <sup>(q)</sup>, k<sub>i</sub> <sup>(q) </sup>(q=0, 1) is the i<sup>th </sup>element of the q<sup>th </sup>subset, n indicates the UL subframe associated with the DL subframes where the plurality of PDSCHs are received, N<sub>PUCCH</sub> <sup>(q) </sup>(q=0, 1) is an offset for q<sup>th </sup>subset, wherein q=0 corresponds to one of the first and second subsets of DL subframes and q=1 corresponds to the other one of the first and second subsets of DL subframes.
</div>
<div class="description-paragraph" id="p-0133" num="0137">As above, there may be an offset between the first set of PUCCH resource indices and the second set of PUCCH resource indices.</div>
<div class="description-paragraph" id="p-0134" num="0138">As above, the offset may be configured by higher layers or predefined.</div>
<div class="description-paragraph" id="p-0135" num="0139">As above, the second subset of DL subframes may comprise all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0136" num="0140">The processor <b>1440</b> may further be configured to add one or more virtual subframes to the first subset of DL subframes. The one or more virtual subframes may be used for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
<div class="description-paragraph" id="p-0137" num="0141"> <figref idrefs="DRAWINGS">FIG. 15</figref> is a schematic block diagram of a UE <b>1500</b> according to some embodiments of the present disclosure.</div>
<div class="description-paragraph" id="p-0138" num="0142">As shown, UE <b>1500</b> includes a receiver <b>1510</b>, a transmitter <b>1520</b>, a memory <b>1530</b> and a processor <b>1540</b>. The memory <b>1530</b> is configured to store TDD configurations, e.g., TDD configurations 0-6. The processor <b>1540</b> is configured to control, e.g., according to instructions stored in the memory <b>1530</b>, the receiver <b>1510</b> to receive a plurality of PDSCHs in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration. The processor <b>1540</b> is also configured to control, e.g., according to instructions stored in the memory <b>1530</b>, the transmitter <b>1520</b> to, for each of the received PDSCHs, report HARQ ACK/NACK by at least partially using PUCCH resources indicated by DCI and/or RRC signaling.</div>
<div class="description-paragraph" id="p-0139" num="0143">Alternatively or additionally, the processor <b>1540</b> may be configured to divide the DL subframes into a first subset of DL subframes and a second subset of DL subframes. The first subset of DL subframes is according to this example also indicated by an UL reference TDD configuration. The processor <b>1540</b> may further be configured to assign a set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes. In this case, the processor <b>1540</b> may also be configured to control, e.g., according to instructions stored in the memory <b>1530</b>, the transmitter <b>1520</b> to, for each of the PDSCHs received in the DL subframes of the first subset of DL subframes, report HARQ ACK/NACK by using PUCCH resources in an order of the assigned set of PUCCH resource indices. Finally, the processor <b>1540</b> may be configured to control, e.g., according to instructions stored in the memory <b>1530</b>, the transmitter <b>1520</b> to, for each of the PDSCHs received in the DL subframes of the second subset of DL subframes, report HARQ ACK/NACK by using PUCCH resources indicated by DCI and/or RRC signaling.</div>
<div class="description-paragraph" id="p-0140" num="0144">As above, the second subset of DL subframes may comprise all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0141" num="0145">The processor <b>1540</b> may further be configured to add one or more virtual subframes to the first subset of DL subframes. The one or more virtual subframes may be used for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
<div class="description-paragraph" id="p-0142" num="0146"> <figref idrefs="DRAWINGS">FIG. 16</figref> is a schematic block diagram of a UE <b>1600</b> according to some embodiments of the present disclosure.</div>
<div class="description-paragraph" id="p-0143" num="0147">As shown, UE <b>1600</b> includes a receiver <b>1610</b>, a transmitter <b>1620</b>, a memory <b>1630</b> and a processor <b>1640</b>. The memory <b>1630</b> is configured to store TDD configurations, e.g., TDD configurations 0-6. The processor <b>1640</b> is configured to control, e.g., according to instructions stored in the memory <b>1630</b>, the receiver <b>1610</b> to receive a plurality of PDSCHs in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration. The processor <b>1640</b> is further configured to determine, for each of the received PDSCHs, a PUCCH resource based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs received in the corresponding DL subframe (e.g., the sequence number of the first CCE used for transmission of PDCCHs corresponding to the received PDSCH in the corresponding DL subframe) and a start position of the PUCCH resource corresponding to the DL subframe. The processor <b>1640</b> is also configured to control, e.g., according to instructions stored in the memory <b>1630</b>, the transmitter <b>1620</b> to, for each of the received PDSCHs, report HARQ ACK/NACK by using the determined PUCCH resource.</div>
<div class="description-paragraph" id="p-0144" num="0148">As above, the start position may be configured by higher layers or predefined.</div>
<div class="description-paragraph" id="p-0145" num="0149">As above, the start position may be configured using related information informed by broadcasting, RRC signaling, or MAC CE.</div>
<div class="description-paragraph" id="p-0146" num="0150"> <figref idrefs="DRAWINGS">FIG. 17</figref> is a schematic block diagram of a UE <b>1700</b> according to some embodiments of the present disclosure.</div>
<div class="description-paragraph" id="p-0147" num="0151">As shown, UE <b>1700</b> includes a receiver <b>1710</b>, a transmitter <b>1720</b>, a memory <b>1730</b> and a processor <b>1740</b>. The memory <b>1730</b> is configured to store TDD configurations, e.g., TDD configurations 0-6. The processor <b>1740</b> is configured to control, e.g., according to instructions stored in the memory <b>1730</b>, the receiver <b>1710</b> to receive a plurality of PDSCHs in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration. The processor <b>1740</b> is further configured to select a DL subframe of the DL subframes to be a first DL subframe. The sequence number of the selected DL subframe is the same as that of a first DL subframe of DL subframes associated with the UL subframe but indicated by an UL reference TDD configuration. The processor <b>1740</b> is further configured to assign PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration. The PUCCH resource indices are assigned in an order starting from the selected first DL subframe of the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration. The processor <b>1740</b> is further configured to control, e.g., according to instructions stored in the memory <b>1730</b>, the transmitter <b>1720</b> to, for each of the received PDSCHs, report HARQ ACK/NACK by using PUCCH resources in the order of the assigned PUCCH resource indices.</div>
<div class="description-paragraph" id="p-0148" num="0152">As described in the above embodiments, legacy UEs as well as Dynamic-TDD-enabled UEs can be supported and the PUCCH HARQ-ACK resource conflict problem caused by dynamic TDD configuration is solved, while efficiently compressing PUCCH HARQ-ACK resource to improve the resource utilization efficiency.</div>
<heading id="h-0019">Fifth Embodiment</heading>
<div class="description-paragraph" id="p-0149" num="0153">As the fifth embodiment of the invention, a method used in a BS for receiving HARQ ACK/NACK for PDSCH in dynamic TDD configurations is proposed.</div>
<div class="description-paragraph" id="p-0150" num="0154">In the method, referring to <figref idrefs="DRAWINGS">FIG. 18</figref> which shows a flowchart of the method <b>1800</b>, a plurality of PDSCHs are transmitted in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration (Step <b>1810</b>). The DL subframes are divided into a first subset of DL subframes and a second subset of DL subframes (Step <b>1820</b>). The first subset of DL subframes is also indicated by an UL reference TDD configuration. Hereinafter, DL subframes associated with the UL subframe and indicated by a UL reference TDD configuration may be referred to as the first DL association subframes of the UL subframe, and DL subframes associated with a UL subframe and indicated by a DL reference TDD configuration may be referred to as the second DL association subframes of the UL subframe. Thus, the first subset of DL subframes and the second subset of DL subframes may be referred to as the first DL association subset and the second DL association subset, respectively. Then, a first set of PUCCH resource indices are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the first subset of DL subframes (Step <b>1830</b>), and a second set of PUCCH resource indices are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the second subset of DL subframes (Step <b>1840</b>). Thereafter, for each of the transmitted PDSCHs, HARQ ACK/NACK is received by using PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the second subset of DL subframes (Step <b>1850</b>).</div>
<div class="description-paragraph" id="p-0151" num="0155">In the present disclosure, there is an offset between the first set of PUCCH resource indices and the second set of PUCCH resource indices. The offset herein may be configured by higher layers or predefined. For example, the offset may be notified by the eNB via RRC signaling or MAC CE.</div>
<div class="description-paragraph" id="p-0152" num="0156">In the present disclosure, the first set of PUCCH resource indices and the second set of PUCCH resource indices may have different start positions, which may be referred to as start positions of PUCCH resources.</div>
<div class="description-paragraph" id="p-0153" num="0157">In some embodiments of the present disclosure, the steps of <b>1830</b> and <b>1840</b> may be performed based on the following formula:
<br/>
<i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup>=(<i>M</i> <sub>q</sub> <i>−i−</i>1)·<i>N</i> <sub>c</sub> <i>+i·N</i> <sub>c+1</sub> <i>+n</i> <sub>CCE,i</sub> <i>+N</i> <sub>PUCCH</sub> <sup>(q)</sup>,  (2)
<br/>
wherein n<sub>PUCCH,i</sub> <sup>(1) </sup>is a PUCCH resource index determined based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframe that is the <sup>i</sup>th element of the q<sup>th </sup>subset, M<sub>q </sub>is the total number of DL subframes in the q<sup>th </sup>subset, 0≤i&lt;M<sub>q</sub>, c is selected from {0, 1, 2, 3} such that N<sub>c</sub>≤n<sub>CCE,i</sub>&lt;N<sub>c+1</sub>, N<sub>c</sub>=max{0,└[N<sub>RB</sub> <sup>DL</sup>·(N<sub>sc</sub> <sup>RB</sup>·c−4)]/36┘} where N<sub>RB</sub> <sup>DL </sup>is the number of physical resource blocks, PRBs, in each downlink subframe and where N<sub>sc</sub> <sup>RB </sup>is the number of subcarriers in each physical resource block, n<sub>CCE,i </sub>is the sequence number of the first Control Channel Element, CCE, used for transmission of the corresponding PDCCH in subframe n−k<sub>i</sub> <sup>(q)</sup>, k<sub>i</sub> <sup>(q) </sup>(q=0, 1) is the i<sup>th </sup>element of the q<sup>th </sup>subset, n indicates the UL subframe associated with the DL subframes where the plurality of PDSCHs are received, N<sub>PUCCH</sub> <sup>(q) </sup>(q=0, 1) is an offset for q<sup>th </sup>subset, wherein q=0 corresponds to one of the first and second subsets of DL subframes and q=1 corresponds to the other one of the first and second subsets of DL subframes. The offset may be configured by higher layers.
</div>
<div class="description-paragraph" id="p-0154" num="0158">In some embodiments of the present disclosure, the second subset of DL subframes may comprise all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0155" num="0159">In some embodiments of the present disclosure, the first subset of DL subframes may comprise one or more virtual subframes that are added by the BS, and the one or more virtual subframes may be used only for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
<div class="description-paragraph" id="p-0156" num="0160">In the following, some examples will be explained in detail by assuming that the UL reference TDD configuration is TDD configuration 0 or TDD configuration 1 or TDD configuration 6, and the DL reference TDD configuration is TDD configuration 1 or TDD configuration 2. In these examples, the subframes #3, #4, #8 and #9 are flexible subframes that can be allocated as UL and DL subframes.</div>
<heading id="h-0020">Example 1</heading>
<heading id="h-0021">TDD Configuration 1 (UL), TDD Configuration 2 (DL)</heading>
<div class="description-paragraph" id="p-0157" num="0161">In this example, for UL subframe 2, the first DL association subset can be {7, 6}, and the second DL association subset can be {8,4}. An example DL association subset is shown in Table 9.</div>
<div class="description-paragraph" id="p-0158" num="0162"> <tables id="TABLE-US-00009" num="00009"> <patent-tables colsep="0" frame="none" pgwide="1" rowsep="0"> <table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%"> <thead> <tr class="description-tr"> <td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 9</td> </tr> </thead> <tbody><tr class="description-tr"> <td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">Example DL association set index K: {k<sub>0</sub> <sup>(q)</sup>, Λ, k<sub>Mq</sub>−1<sup>(q)</sup>} for TDD when UL</td> </tr> <tr class="description-tr"> <td class="description-td">reference TDD configuration is configuration 1 and DL reference TDD</td> </tr> <tr class="description-tr"> <td class="description-td">configuration is 2.</td> </tr> </tbody></table> <table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">UL-DL</td> <td class="description-td">Subframe n</td> </tr> </tbody></table> <table align="left" class="description-table" cols="11" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">Configuration</td> <td class="description-td">0</td> <td class="description-td">1</td> <td class="description-td">2</td> <td class="description-td">3</td> <td class="description-td">4</td> <td class="description-td">5</td> <td class="description-td">6</td> <td class="description-td">7</td> <td class="description-td">8</td> <td class="description-td">9</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">1</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">{7, 6}</td> <td class="description-td">—</td> <td class="description-td">4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">{7, 6}</td> <td class="description-td">—</td> <td class="description-td">4</td> </tr> <tr class="description-tr"> <td class="description-td">2</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">Subset 1: {7, 6}</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">Subset 1: {7, 6}</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">Subset 2: {8, 4}</td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">Subset 2: {8, 4}</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> </tbody></table> </patent-tables> </tables> <br/> <figref idrefs="DRAWINGS">FIG. 19</figref> illustrates how the PUCCH HARQ-ACK resource can be stacked. As shown in <figref idrefs="DRAWINGS">FIG. 19</figref>, subframes SF n-<b>6</b> and SF n-<b>7</b> not only belong to Configuration 2 but also belong to configuration 1. Correspondingly, as shown in the left part of <figref idrefs="DRAWINGS">FIG. 19</figref>, their corresponding PUCCH HARQ-ACK resources may be stacked firstly. That is, PUCCH resource indices for PDSCHs transmitted in the subframes SF n-<b>6</b> and SF n-<b>7</b> may be smaller than those for PDSCHs transmitted in the remaining DL subframes. <figref idrefs="DRAWINGS">FIG. 19</figref> is just an illustrative example, and the present disclosure is not limited to this example. For example, PUCCH resource indices for PDSCHs transmitted in the subframes SF n-<b>6</b> and SF n-<b>7</b> may be larger than those for PDSCHs transmitted in the remaining DL subframes. PUCCH HARQ-ACK resources corresponding to other DL association subframes, may be stacked in a similar way but with a separate offset (i.e., N<sub>PUCCH</sub> <sup>(1)</sup>).
</div>
<heading id="h-0022">Example 2</heading>
<heading id="h-0023">TDD Configuration 0 (UL), TDD Configuration 2 (DL)</heading>
<div class="description-paragraph" id="p-0159" num="0163">In this example, for UL subframe 2, the first DL association subset is {6}, and the second DL association subset is {8, 7, 4}. An example DL association subset is shown in Table 10.</div>
<div class="description-paragraph" id="p-0160" num="0164"> <tables id="TABLE-US-00010" num="00010"> <patent-tables colsep="0" frame="none" pgwide="1" rowsep="0"> <table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%"> <thead> <tr class="description-tr"> <td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 10</td> </tr> </thead> <tbody><tr class="description-tr"> <td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">Example DL association set index K: {k<sub>0</sub> <sup>(q)</sup>, Λ, k<sub>Mq</sub>−1<sup>(q)</sup>} for TDD when UL</td> </tr> <tr class="description-tr"> <td class="description-td">reference TDD configuration is configuration 0 and DL reference</td> </tr> <tr class="description-tr"> <td class="description-td">TDD configuration is 2</td> </tr> </tbody></table> <table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">UL-DL</td> <td class="description-td">Subframe n</td> </tr> </tbody></table> <table align="left" class="description-table" cols="11" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">Configuration</td> <td class="description-td">0</td> <td class="description-td">1</td> <td class="description-td">2</td> <td class="description-td">3</td> <td class="description-td">4</td> <td class="description-td">5</td> <td class="description-td">6</td> <td class="description-td">7</td> <td class="description-td">8</td> <td class="description-td">9</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">0</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6</td> <td class="description-td">—</td> <td class="description-td">4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6</td> <td class="description-td">—</td> <td class="description-td">4</td> </tr> <tr class="description-tr"> <td class="description-td">2</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">Subset 1: {6}</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">Subset 1: {6}</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">Subset 2: {8, 7, 4}</td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td">Subset 2: {8, 7, 4}</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> </tbody></table> </patent-tables> </tables> <br/> <figref idrefs="DRAWINGS">FIG. 20</figref> illustrates how the PUCCH HARQ-ACK resource can be stacked. As shown in <figref idrefs="DRAWINGS">FIG. 20</figref>, subframe SF n-<b>6</b> not only belongs to Configuration 2, but also belongs to Configuration 0. Correspondingly, as shown in the left part of <figref idrefs="DRAWINGS">FIG. 20</figref>, their corresponding PUCCH HARQ-ACK resources may be stacked firstly. That is, PUCCH resource indices for PDSCHs transmitted in the subframe SF n-<b>6</b> may be smaller than those for PDSCHs transmitted in the remaining DL subframes. <figref idrefs="DRAWINGS">FIG. 20</figref> is just an illustrative example, and the present disclosure is not limited to this example. For example, PUCCH resource indices for PDSCHs transmitted in the subframe SF n-<b>6</b> may be larger than those for PDSCHs transmitted in the remaining DL subframes. PUCCH HARQ-ACK resources corresponding to other DL association subframes may be stacked in a similar way but with a separate offset (i.e., N<sub>PUCCH</sub> <sup>(1)</sup>).
</div>
<heading id="h-0024">Example 3</heading>
<heading id="h-0025">TDD Configuration 6 (UL), TDD Configuration 1 (DL)</heading>
<div class="description-paragraph" id="p-0161" num="0165">In this example, for UL subframe 3, the first DL association subset is {7}, and the second DL association subset is {4}. An example DL association subset is shown in Table 11. As shown in Table 11, the second DL association subset for UL subframe 3 contains no DL subframe having the same sequence number as that of any DL subframe in the first DL association subset for UL subframe 3.</div>
<div class="description-paragraph" id="p-0162" num="0166">In accordance with this example, one or more virtual subframes, i.e., X as shown in Table 11, also referred to as an offset, may be added into the second DL association subset, so as to form a new second DL association subset. The one or more virtual subframes are only used for assigning the second set of PUCCH resource indices, but not for real PDSCH transmissions. For example, the one or more virtual subframes may be treated as SF n-<b>7</b> in this example. In this case, the above Example 1 and Example 2 may be applied to the new second DL association subset.</div>
<div class="description-paragraph" id="p-0163" num="0167">
<tables id="TABLE-US-00011" num="00011">
<patent-tables colsep="0" frame="none" rowsep="0">
<table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 11</td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Example DL association set index K: {k<sub>0</sub> <sup>(q)</sup>, L , k<sub>Mq</sub>−1<sup>(q)</sup>} for</td>
</tr>
<tr class="description-tr">
<td class="description-td">TDD when UL reference TDD configuration is configuration 6 and</td>
</tr>
<tr class="description-tr">
<td class="description-td">DL reference TDD configuration is 1</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">UL-DL</td>
<td class="description-td">Subframe n</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="11" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">Configuration</td>
<td class="description-td">0</td>
<td class="description-td">1</td>
<td class="description-td">2</td>
<td class="description-td">3</td>
<td class="description-td">4</td>
<td class="description-td">5</td>
<td class="description-td">6</td>
<td class="description-td">7</td>
<td class="description-td">8</td>
<td class="description-td">9</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">6</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">7</td>
<td class="description-td">7</td>
<td class="description-td">5</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">7</td>
<td class="description-td">7</td>
<td class="description-td">—</td>
</tr>
<tr class="description-tr">
<td class="description-td">1</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">7, 6</td>
<td class="description-td">X, 4</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">—</td>
<td class="description-td">7, 6</td>
<td class="description-td">X, 4</td>
<td class="description-td">—</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<heading id="h-0026">Sixth Embodiment</heading>
<div class="description-paragraph" id="p-0164" num="0168">As the sixth embodiment of the invention, a method used in a BS for receiving HARQ ACK/NACK for PDSCH in dynamic TDD configurations is proposed.</div>
<div class="description-paragraph" id="p-0165" num="0169">In the method, referring to <figref idrefs="DRAWINGS">FIG. 21</figref> which shows a flowchart of the method <b>2100</b>, a plurality of PDSCHs are transmitted in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration (Step <b>2110</b>). For each of the transmitted PDSCHs, HARQ ACK/NACK is received by at least partially using PUCCH resources indicated by DCI and/or RRC signaling (Step <b>2120</b>).</div>
<div class="description-paragraph" id="p-0166" num="0170">Optionally, the method <b>2100</b> may also include the following steps. Firstly, the DL subframes are divided into a first subset of DL subframes and a second subset of DL subframes (Step <b>2130</b>). The first subset of DL subframes is also indicated by an UL reference TDD configuration. Then, a set of PUCCH resource indices are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the first subset of DL subframes (Step <b>2140</b>). Thereafter, for each of the PDSCHs transmitted in the DL subframes of the first subset of DL subframes, HARQ ACK/NACK is received by using PUCCH resources in an order of the assigned set of PUCCH resource indices (Step <b>2150</b>). Finally, for each of the PDSCHs transmitted in the DL subframes of the second subset of DL subframes, HARQ ACK/NACK is received by using PUCCH resources indicated by DCI and/or RRC signaling (Step <b>2160</b>).</div>
<div class="description-paragraph" id="p-0167" num="0171">In some embodiments of the present disclosure, the second subset of DL subframes may comprise all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0168" num="0172">In some embodiments of the present disclosure, the first subset of DL subframes may comprise one or more virtual subframes that are added by the BS, and the one or more virtual subframes may be used only for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
<div class="description-paragraph" id="p-0169" num="0173">For DL subframes in the first subset of DL subframes, corresponding PUCCH resources may be stacked according to the UL reference TDD configuration and implicitly determined by the first CCE index used for transmission of the corresponding PDCCH.</div>
<div class="description-paragraph" id="p-0170" num="0174">For DL subframes in the second subset of DL subframes, corresponding PUCCH resource may explicitly signaled, e.g. by DCI and/or RRC signaling.</div>
<div class="description-paragraph" id="p-0171" num="0175">For example, for DL subframes in the first subset of DL subframes, the corresponding PUCCH resource may be determined by the above equation (2). For the DL subframes in the second subset of DL subframes, the BS may use PUCCH resource index n<sub>PUCCH,i</sub> <sup>(1)</sup>, where the value of n<sub>PUCCH,i</sub> <sup>(1) </sup>is determined according to higher layer configuration and/or the predefined mapping rules as shown in Table 12.</div>
<div class="description-paragraph" id="p-0172" num="0176">One field in the DCI format of the corresponding PDCCH may be used to determine the PUCCH resource values from one of the four resource values configured by higher layers, with the mapping defined in Table 12.</div>
<div class="description-paragraph" id="p-0173" num="0177">As a non-limiting example, the field in DCI to indicate PUCCH resource values may be some existing field, e.g. the Transport Power Control (TPC) field. When the existing field is reused, if the DCI is granted or transmitted in the second subset of DL subframes, this field is interpreted as PUCCH resource; and if the DCI is granted or transmitted in the first subset of DL subframes, the field is interpreted according to its original definition.</div>
<div class="description-paragraph" id="p-0174" num="0178"> <tables id="TABLE-US-00012" num="00012"> <patent-tables colsep="0" frame="none" rowsep="0"> <table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%"> <thead> <tr class="description-tr"> <td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 12</td> </tr> </thead> <tbody><tr class="description-tr"> <td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">PUCCH resource value for HARQ-ACK resource for PUCCH</td> </tr> </tbody></table> <table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">Value of “command for</td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">PUCCH”</td> <td class="description-td">n<sub>PUCCH, i</sub> <sup>(1)</sup> </td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="2" nameend="2" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">‘00’</td> <td class="description-td">The 1<sup>st </sup>PUCCH resource index</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">configured by the higher layers</td> </tr> <tr class="description-tr"> <td class="description-td">‘01’</td> <td class="description-td">The 2<sup>nd </sup>PUCCH resource index</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">configured by the higher layers</td> </tr> <tr class="description-tr"> <td class="description-td">‘10’</td> <td class="description-td">The 3<sup>rd </sup>PUCCH resource index</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">configured by the higher layers</td> </tr> <tr class="description-tr"> <td class="description-td">‘11’</td> <td class="description-td">The 4<sup>th </sup>PUCCH resource index</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td">configured by the higher layers</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="2" nameend="2" namest="1" rowsep="1"> </td> </tr> </tbody></table> </patent-tables> </tables> <br/>
As another non-limiting example, new bits may be added to indicate PUCCH resource values. The new field may be added only on the DCI granted or transmitted in the second subset of DL subframes, and the new field may not be available in the DCI granted or transmitted in the first subset of DL subframes.
</div>
<div class="description-paragraph" id="p-0175" num="0179">As another non-limiting example, if a new field is added to indicate PUCCH resource values, the new field may be interpreted as PUCCH resource for DCI granted or transmitted in the second subset of DL subframes; whereas the field may be used for another purpose than PUCCH resource value indication for DCI granted or transmitted in the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0176" num="0180">As a non-limiting example, for all DL transmissions, PUCCH resources may be explicitly signaled by dynamic grant, e.g. DCI, and/or RRC signaling.</div>
<div class="description-paragraph" id="p-0177" num="0181">In this example, the BS may use PUCCH resource index n<sub>PUCCH,i</sub> <sup>(1)</sup>, where the value of n<sub>PUCCH,i</sub> <sup>(1) </sup>is determined according to higher layer configuration and/or a predefined rule, e.g., a predefined table as shown in Table 12.</div>
<div class="description-paragraph" id="p-0178" num="0182">One field in the DCI format of the corresponding PDCCH may be used to determine the PUCCH resource values from one of the four resource values configured by higher layers, with the mapping defined in Table 12.</div>
<heading id="h-0027">Seventh Embodiment</heading>
<div class="description-paragraph" id="p-0179" num="0183">As the seventh embodiment of the invention, a method used in a BS for receiving HARQ ACK/NACK for PDSCH in dynamic TDD configurations is proposed.</div>
<div class="description-paragraph" id="p-0180" num="0184">In the method, referring to <figref idrefs="DRAWINGS">FIG. 22</figref> which shows a flowchart of the method <b>2200</b>, a plurality of PDSCHs are transmitted in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration (Step <b>2210</b>). For each of the transmitted PDSCHs, a PUCCH resource is determined based on resources used in transmission of Physical Downlink Control Channels (PDCCHs) corresponding to the PDSCHs transmitted in the corresponding DL subframe (e.g., the sequence number of the first CCE used for transmission of PDCCHs corresponding to the transmitted PDSCH in the corresponding DL subframe) and a start position of the PUCCH resource corresponding to the DL subframe (Step <b>2220</b>); and then HARQ ACK/NACK is received by using the determined PUCCH resource (Step <b>2230</b>).</div>
<div class="description-paragraph" id="p-0181" num="0185">If there is no legacy UEs in the system and all the UEs are new release UEs, i. e. Dynamic-TDD-enabled UEs, we can have different offsets per DL subframe. In this case, an index of PUCCH resource n<sub>PUCCH,i</sub> <sup>(1) </sup>in subframe i may be determined as follows:
<br/>
<i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup> <i>=n</i> <sub>CCE,i</sub> <i>+N</i> <sub>UE-PUCCH</sub> <sup>(i) </sup>
<br/>
where n<sub>CCE,i </sub>is the number of the first CCE used for transmission of the corresponding PDCCH in subframe n−k<sub>i</sub>, N<sub>UE-PUCCH</sub> <sup>(i) </sup>is the offset corresponding to the DL subframe n−k<sub>i</sub>, and N<sub>UE-PUCCH</sub> <sup>(i) </sup>is configured by higher layers.
</div>
<div class="description-paragraph" id="p-0182" num="0186">In the following, an example will be explained in detail by assuming that the UL reference TDD configuration is TDD configuration 0, and the DL reference TDD configuration is TDD configuration 2. In these examples, the subframes #3, #4, #8 and #9 are flexible subframes that can be allocated as UL and DL subframes.</div>
<heading id="h-0028">Example 1</heading>
<heading id="h-0029">TDD Configuration 0 (UL), TDD Configuration 2 (DL)</heading>
<div class="description-paragraph" id="p-0183" num="0187">In this example, for UL subframe 2, the first DL association subset is {SF n-<b>6</b>}, and the second DL association subset is {SF n-<b>8</b>, SF n-<b>7</b>, SF n-<b>4</b>}, as shown in Table 9.</div>
<div class="description-paragraph" id="p-0184" num="0188"> <figref idrefs="DRAWINGS">FIG. 23</figref> illustrates an example of how the PUCCH HARQ-ACK resources may be stacked. As shown in <figref idrefs="DRAWINGS">FIG. 23</figref>, PUCCH HARQ-ACK resources for all CCE indices of each DL subframe, i.e., all three one-third CCEs of the DL subframe, are stacked continuously, and each DL subframe corresponds to an offset.</div>
<div class="description-paragraph" id="p-0185" num="0189">In this example, a start position of a PUCCH resource corresponding to the DL subframe may be separately configured using related information informed by broadcasting, RRC signaling, MAC CE, etc.</div>
<heading id="h-0030">Eighth Embodiment</heading>
<div class="description-paragraph" id="p-0186" num="0190">As the eighth embodiment of the invention, a method used in a BS for receiving HARQ ACK/NACK for PDSCH in dynamic TDD configurations is proposed.</div>
<div class="description-paragraph" id="p-0187" num="0191">In the method, referring to <figref idrefs="DRAWINGS">FIG. 24</figref> which shows a flowchart of the method <b>2400</b>, a plurality of PDSCHs are transmitted in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration (Step <b>2410</b>). A DL subframe of the DL subframes is selected to be a first DL subframe (Step <b>2420</b>), so that the sequence number of the selected DL subframe is the same as that of a first DL subframe of DL subframes associated with the UL subframe but indicated by an UL reference TDD configuration. PUCCH resource indices are assigned based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration (Step <b>2430</b>). The PUCCH resource indices are assigned in an order starting from the selected first DL subframe of the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration. For each of the transmitted PDSCHs, HARQ ACK/NACK is received by using PUCCH resources in the order of the assigned PUCCH resource indices (Step <b>2440</b>).</div>
<div class="description-paragraph" id="p-0188" num="0192">In this embodiment, the same resource allocation method is used as for the legacy user or UE, but a different order is used for the DL association set for the specific subframe. The new permutation may be indicated by a new look-up table or by rules specified in the standard.</div>
<div class="description-paragraph" id="p-0189" num="0193">In some examples, the order of the values in the DL association set may be rearranged such that the first values in the DL association set of DL reference TDD configuration match the values in the DL association set for the UL reference/broadcasted TDD configuration for the same subframe, where possible.</div>
<div class="description-paragraph" id="p-0190" num="0194">In some examples, also other values in the DL association set may be rearranged in order to match the likelihood of the subframes to be used for DL transmissions. For example, subframes related to DL in both the UL and the DL reference TDD configuration may be mapped first. Subframes having different directions in the two configurations could then be mapped in order counting from the UL to DL switching-point in the UL configuration.</div>
<div class="description-paragraph" id="p-0191" num="0195">Table 13 shows an example DL association set index according to the eighth embodiment.</div>
<div class="description-paragraph" id="p-0192" num="0196"> <tables id="TABLE-US-00013" num="00013"> <patent-tables colsep="0" frame="none" rowsep="0"> <table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%"> <thead> <tr class="description-tr"> <td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 13</td> </tr> </thead> <tbody><tr class="description-tr"> <td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">Example DL association set index K: {k<sub>0</sub> <sup>(q)</sup>, Λ, k<sub>Mq</sub>−1<sup>(q)</sup>} for</td> </tr> <tr class="description-tr"> <td class="description-td">TDD when UL reference TDD configuration is configuration 0 and</td> </tr> <tr class="description-tr"> <td class="description-td">DL reference TDD configuration is 2.</td> </tr> </tbody></table> <table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">UL-DL</td> <td class="description-td"> </td> </tr> <tr class="description-tr"> <td class="description-td">Configura-</td> <td class="description-td">Subframe n</td> </tr> </tbody></table> <table align="left" class="description-table" cols="11" colsep="0" rowsep="0" width="100%"> <tbody><tr class="description-tr"> <td class="description-td">tion</td> <td class="description-td">0</td> <td class="description-td">1</td> <td class="description-td">2</td> <td class="description-td">3</td> <td class="description-td">4</td> <td class="description-td">5</td> <td class="description-td">6</td> <td class="description-td">7</td> <td class="description-td">8</td> <td class="description-td">9</td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> <tr class="description-tr"> <td class="description-td">0</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6</td> <td class="description-td">—</td> <td class="description-td">4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6</td> <td class="description-td">—</td> <td class="description-td">4</td> </tr> <tr class="description-tr"> <td class="description-td">2</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6, 7, 8, 4</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">—</td> <td class="description-td">6, 7, 8, 4</td> <td class="description-td">—</td> <td class="description-td">—</td> </tr> <tr class="description-tr"> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> <div class="patent-image"><a href="https://patentimages.storage.googleapis.com/9d/21/04/40526bcfae21d0/US10666401-20200526-P00002.png"><img alt="Figure US10666401-20200526-P00002" class="patent-full-image" file="US10666401-20200526-P00002.TIF" he="2.46mm" height="10" id="CUSTOM-CHARACTER-00003" img-content="character" img-format="tif" inline="no" orientation="portrait" src="https://patentimages.storage.googleapis.com/9d/21/04/40526bcfae21d0/US10666401-20200526-P00002.png" wi="9.14mm" width="37"/></a></div> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> </td> <td class="description-td"> <div class="patent-image"><a href="https://patentimages.storage.googleapis.com/9d/21/04/40526bcfae21d0/US10666401-20200526-P00002.png"><img alt="Figure US10666401-20200526-P00002" class="patent-full-image" file="US10666401-20200526-P00002.TIF" he="2.46mm" height="10" id="CUSTOM-CHARACTER-00004" img-content="character" img-format="tif" inline="no" orientation="portrait" src="https://patentimages.storage.googleapis.com/9d/21/04/40526bcfae21d0/US10666401-20200526-P00002.png" wi="9.14mm" width="37"/></a></div> </td> </tr> <tr class="description-tr"> <td align="center" class="description-td" colspan="11" nameend="11" namest="1" rowsep="1"> </td> </tr> </tbody></table> </patent-tables> </tables> <br/>
As shown in Table 13, DL subframes in the original second DL association set for UL subframe SF n-<b>2</b>, i.e., {SF n-<b>8</b>, SF n-<b>7</b>, SF n-<b>4</b>, SF n-<b>6</b>}, may be rearranged as {SF n-<b>6</b>, SF n-<b>7</b>, SF n-<b>8</b>, SF n-<b>4</b>}, so that PUCCH resources for UE responses to PDSCHs transmitted in the subframe SF n-<b>6</b> may be stacked firstly. This may be illustrated in <figref idrefs="DRAWINGS">FIG. 25</figref>.
</div>
<div class="description-paragraph" id="p-0193" num="0197"> <figref idrefs="DRAWINGS">FIG. 26</figref> is a schematic block diagram of a BS <b>2600</b> according to some embodiments of the present disclosure.</div>
<div class="description-paragraph" id="p-0194" num="0198">As shown, BS <b>2600</b> includes a receiver <b>2610</b>, a transmitter <b>2620</b>, a memory <b>2630</b> and a processor <b>2640</b>. The memory <b>2630</b> is configured to store TDD configurations, e.g., TDD configurations 0-6. The processor <b>2640</b> is configured to control, e.g., according to instructions stored in the memory <b>2630</b>, the transmitter <b>2620</b> to transmit a plurality of PDSCHs in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration. The processor <b>2640</b> is further configured to divide the DL subframes into a first subset of DL subframes and a second subset of DL subframes. The first subset of DL subframes is also indicated by an UL reference TDD configuration. The processor <b>2640</b> is also configured to assign a first set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the first subset of DL subframes. Moreover, the processor <b>2640</b> is configured to assign a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the second subset of DL subframes. The processor <b>2640</b> is also configured to control, e.g., according to instructions stored in the memory <b>2630</b>, the receiver <b>2610</b> to, for each of the transmitted PDSCHs, receive HARQ ACK/NACK on PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the second subset of DL subframes.</div>
<div class="description-paragraph" id="p-0195" num="0199">For example, the processor <b>2640</b> may be configured to assign the first set of PUCCH resource indices and the second set of PUCCH resource indices based on the following formula:
<br/>
<i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup>=(<i>M</i> <sub>q</sub> <i>−i−</i>1)·<i>N</i> <sub>c</sub> <i>+i·N</i> <sub>c+1</sub> <i>+n</i> <sub>CCE,i</sub> <i>+N</i> <sub>PUCCH</sub> <sup>(q)</sup>,
<br/>
wherein n<sub>PUCCH,i</sub> <sup>(1) </sup>is a PUCCH resource index determined based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframe that is the <sup>i</sup>th element of the q<sup>th </sup>subset, M<sub>q </sub>is the total number of DL subframes in the q<sup>th </sup>subset, 0≤i&lt;M<sub>q</sub>, c is selected from {0, 1, 2, 3} such that N<sub>c</sub>≤n<sub>CCE,i</sub>&lt;N<sub>c+1</sub>, N<sub>c</sub>=max{0,└[N<sub>RB</sub> <sup>DL</sup>·(N<sub>sc</sub> <sup>RB</sup>·c−4)]/36┘} where N<sub>RB</sub> <sup>DL </sup>is the number of physical resource blocks, PRBs, in each downlink subframe and where N<sub>sc</sub> <sup>RB </sup>is the number of subcarriers in each physical resource block, n<sub>CCE,i </sub>the sequence number of the first Control Channel Element, CCE, used for transmission of the corresponding PDCCH in subframe, n−k<sub>i</sub> <sup>(q)</sup>, k<sub>i</sub> <sup>(q) </sup>(q=0, 1) is the i<sup>th </sup>element of the q<sup>th </sup>subset, n indicates the UL subframe associated with the DL subframes where the plurality of PDSCHs are received, N<sub>PUCCH</sub> <sup>(q) </sup>(q=0, 1) is an offset for q<sup>th </sup>subset, wherein q=0 corresponds to one of the first and second subsets of DL subframes and q=1 corresponds to the other one of the first and second subsets of DL subframes.
</div>
<div class="description-paragraph" id="p-0196" num="0200">As above, there may be an offset between the first set of PUCCH resource indices and the second set of PUCCH resource indices.</div>
<div class="description-paragraph" id="p-0197" num="0201">As above, the offset may be configured by higher layers or predefined.</div>
<div class="description-paragraph" id="p-0198" num="0202">As above, the second subset of DL subframes may comprise all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0199" num="0203">The processor <b>2640</b> may further be configured to add one or more virtual subframes to the first subset of DL subframes. The one or more virtual subframes may be used for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
<div class="description-paragraph" id="p-0200" num="0204"> <figref idrefs="DRAWINGS">FIG. 27</figref> is a schematic block diagram of a BS <b>2700</b> according to some embodiments of the present disclosure.</div>
<div class="description-paragraph" id="p-0201" num="0205">As shown, BS <b>2700</b> includes a receiver <b>2710</b>, a transmitter <b>2720</b>, a memory <b>2730</b> and a processor <b>2740</b>. The memory <b>2730</b> is configured to store TDD configurations, e.g., TDD configurations 0-6. The processor <b>2740</b> is configured to control, e.g., according to instructions stored in the memory <b>2730</b>, the transmitter <b>2720</b> to transmit a plurality of PDSCHs in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration. The processor <b>2740</b> is also configured to control, e.g., according to instructions stored in the memory <b>2730</b>, the receiver <b>2710</b> to, for each of the transmitted PDSCHs, receive HARQ ACK/NACK at least partially on PUCCH resources indicated by DCI and/or RRC signaling.</div>
<div class="description-paragraph" id="p-0202" num="0206">Alternatively or additionally, the processor <b>2740</b> may be configured to divide the DL subframes into a first subset of DL subframes and a second subset of DL subframes. The first subset of DL subframes is according to this example also indicated by an UL reference TDD configuration. The processor <b>2740</b> may further be configured to assign a set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the first subset of DL subframes. In this case, the processor <b>2740</b> may also be configured to control, e.g., according to instructions stored in the memory <b>2730</b>, the receiver <b>2710</b> to, for each of the PDSCHs transmitted in the DL subframe of the first subset of DL subframes, receive HARQ ACK/NACK on PUCCH resources in an order of the assigned set of PUCCH resource indices. Finally, the processor <b>2740</b> may be configured to control, e.g., according to instructions stored in the memory <b>2730</b>, the receiver <b>2710</b> to, for each of the PDSCHs received in the DL subframes of the second subset of DL subframes, receive HARQ ACK/NACK on PUCCH resources indicated by DCI and/or RRC signaling.</div>
<div class="description-paragraph" id="p-0203" num="0207">As above, the second subset of DL subframes may comprise all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
<div class="description-paragraph" id="p-0204" num="0208">The processor <b>2740</b> may further be configured to add one or more virtual subframes to the first subset of DL subframes. The one or more virtual subframes may be used for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
<div class="description-paragraph" id="p-0205" num="0209"> <figref idrefs="DRAWINGS">FIG. 28</figref> is a schematic block diagram of a BS <b>2800</b> according to some embodiments of the present disclosure.</div>
<div class="description-paragraph" id="p-0206" num="0210">As shown, BS <b>2800</b> includes a receiver <b>2810</b>, a transmitter <b>2820</b>, a memory <b>2830</b> and a processor <b>2840</b>. The memory <b>2830</b> is configured to store TDD configurations, e.g., TDD configurations 0-6. The processor <b>2840</b> is configured to control, e.g., according to instructions stored in the memory <b>2830</b>, the transmitter <b>2820</b> to transmit a plurality of PDSCHs in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration. The processor <b>2840</b> is further configured to determine, for each of the transmitted PDSCHs, a PUCCH resource based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the corresponding DL subframe (e.g., the sequence number of the first CCE used for transmission of PDCCHs corresponding to the transmitted PDSCH in the corresponding DL subframe) and a start position of the PUCCH resource corresponding to the DL subframe. The processor <b>2840</b> is also configured to control, e.g., according to instructions stored in the memory <b>2830</b>, the receiver <b>2810</b> to, for each of the transmitted PDSCHs, receive HARQ ACK/NACK on the determined PUCCH resource.</div>
<div class="description-paragraph" id="p-0207" num="0211">As above, the start position may be configured by higher layers or predefined.</div>
<div class="description-paragraph" id="p-0208" num="0212">As above, the start position may be configured using related information informed by broadcasting, RRC signaling, or MAC CE.</div>
<div class="description-paragraph" id="p-0209" num="0213"> <figref idrefs="DRAWINGS">FIG. 29</figref> is a schematic block diagram of a BS <b>2900</b> according to some embodiments of the present disclosure.</div>
<div class="description-paragraph" id="p-0210" num="0214">As shown, BS <b>2900</b> includes a receiver <b>2910</b>, a transmitter <b>2920</b>, a memory <b>2930</b> and a processor <b>2940</b>. The memory <b>2930</b> is configured to store TDD configurations, e.g., TDD configurations 0-6. The processor <b>2940</b> is configured to control, e.g., according to instructions stored in the memory <b>2930</b>, the transmitter <b>2920</b> to transmit a plurality of PDSCHs in DL subframes associated with an UL subframe and indicated by a DL reference TDD configuration. The processor <b>2940</b> is further configured to select a DL subframe of the DL subframes to be a first DL subframe. The sequence number of the selected DL subframe is the same as that of a first DL subframe of DL subframes associated with the UL subframe but indicated by an UL reference TDD configuration. The processor <b>2940</b> is further configured to assign PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration. The PUCCH resource indices are assigned in an order starting from the selected first DL subframe of the DL subframes associated with the UL subframe and indicated by the DL reference TDD configuration. The processor <b>2940</b> is further configured to control, e.g., according to instructions stored in the memory <b>2930</b>, the receiver <b>2910</b> to, for each of the transmitted PDSCHs, receive HARQ ACK/NACK on PUCCH resources in the order of the assigned PUCCH resource indices.</div>
<div class="description-paragraph" id="p-0211" num="0215">As described in the above embodiments, the PUCCH HARQ-ACK resource conflict problem caused by dynamic TDD configuration is solved, while efficiently compressing PUCCH HARQ-ACK resource to improve the resource utilization efficiency.</div>
<div class="description-paragraph" id="p-0212" num="0216">Although the present technology has been described above with reference to specific embodiments, it is not intended to be limited to the specific form set forth herein. For example, the embodiments presented here are not limited to scenarios with PDCCH; rather they are equally applicable to other scenarios with e.g., ePDCCH (Enhanced PDCCH). For example, the embodiments presented herein are not limited to the existing TDD configuration; rather they are equally applicable to new TDD configurations defined in future. For example, the embodiments presented herein are noted limited to the eNB; rather they are equally applicable to various types of base stations. The technology is limited only by the accompanying claims and other embodiments than the specific ones described above are equally possible within the scope of the appended claims. As used herein, the terms “comprise/comprises” or “include/includes” do not exclude the presence of other elements or steps. Furthermore, although individual features may be included in different claims, these may possibly advantageously be combined, and the inclusion of different claims does not imply that a combination of features is not feasible and/or advantageous. In addition, singular references do not exclude a plurality. Finally, reference signs in the claims are provided merely as a clarifying example and should not be construed as limiting the scope of the claims in any way.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">23</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM260094444">
<claim-statement>What is claimed is:</claim-statement>
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. A method used in a User Equipment, UE, for reporting Hybrid Automatic Repeat Request, HARQ, acknowledgement, ACK, /non-acknowledgement, NACK, for Physical Downlink Shared Channels, PDSCHs, in dynamic time division duplex, TDD, configurations, the method comprising:
<div class="claim-text">receiving a plurality of PDSCHs in DownLink, DL, subframes associated with an UpLink, UL, subframe and indicated by a DL reference TDD configuration;</div>
<div class="claim-text">dividing the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration;</div>
<div class="claim-text">assigning a first set of Physical Uplink Control Channel, PUCCH, resource indices based on resources used in transmission of Physical Downlink Control Channels, PDCCHs, corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes;</div>
<div class="claim-text">assigning a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the second subset of DL subframes; and</div>
<div class="claim-text">for each of the received PDSCHs, reporting HARQ ACK/NACK using PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs received in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs received in the DL subframes of the second subset of DL subframes;</div>
<div class="claim-text">characterized by determining an offset between the first set of PUCCH resource indices and the second set of PUCCH resource indices.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising
<div class="claim-text">determining different start positions for the first set of PUCCH resource indices and the second set of PUCCH resource indices from the offset.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00003" num="00003">
<div class="claim-text">3. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising one of:
<div class="claim-text">determining the different start positions from information broadcasted by a respective base station, BS;</div>
<div class="claim-text">determining a start position for the first subset of DL subframes from information broadcasted by a respective base station, BS, and determining a start position for the second subset of DL subframes from a notification of the offset for the second subset via Radio Resource Control, RRC, signaling, or Medium Access Control, MAC, Control Element, CE;</div>
<div class="claim-text">determining the different start positions from information broadcasted by a respective base station, BS, wherein the information comprises an offset to indicate the difference between start positions of the different sets of PUCCH resource indices; and</div>
<div class="claim-text">determining the different start positions from information broadcasted by a respective base station, BS, wherein the information comprises a start position of the UL reference TDD configuration, and wherein the UE determines the PUCCH resources for the first subset according to the received start position and determines the PUCCH resources for the second subset proportionally according to the amount of the feedback of the two subsets.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00004" num="00004">
<div class="claim-text">4. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein assigning the first set of PUCCH resource indices and the second set of PUCCH resource indices are based on the following formula:
<div class="claim-text"> <br/> <i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup>=(<i>M</i> <sub>q</sub> <i>−i−</i>1)·<i>N</i> <sub>c</sub> <i>+i·N</i> <sub>c+1</sub> <i>+n</i> <sub>CCE,i</sub> <i>+N</i> <sub>PUCCH</sub> <sup>(q)</sup>,
</div>
</div>
<div class="claim-text">wherein n<sub>PUCCH,i</sub> <sup>(i) </sup>is a PUCCH resource index determined based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframe that is the i<sup>th </sup>element of the q<sup>th </sup>subset, M<sub>q </sub>is the total number of DL subframes in the q<sup>th </sup>subset, 0≤i≤M<sub>q</sub>, c is selected from {0, 1, 2, 3} such that N<sub>c</sub>≤n<sub>CCE,i</sub>&lt;N<sub>c+1</sub>, N<sub>c</sub>=max{0,└[N<sub>RB</sub> <sup>DL</sup>·(N<sub>sc</sub> <sup>RB</sup>·c−4)]/36┘} where N<sub>RB</sub> <sup>DL </sup>is the number of physical resource blocks, PRBs, in each downlink subframe and where N<sub>sc</sub> <sup>RB </sup>is the number of subcarriers in each physical resource block, n<sub>CCE,i </sub>is the sequence number of the first Control Channel Element, CCE, used for transmission of the corresponding PDCCH in subframe n−k<sub>i</sub> <sup>(q)</sup>, k<sub>i</sub> <sup>(q)</sup>(q=0, 1) is the i<sup>th </sup>element of the q<sup>th </sup>subset, n indicates the UL subframe associated with the DL subframes where the plurality of PDSCHs are received, N<sub>PUCCH</sub> <sup>(q)</sup>(q=0, 1) is an offset for q<sup>th </sup>subset, wherein q=0 corresponds to one of the first and second subsets of DL subframes and q=1 corresponds to the other one of the first and second subsets of DL subframes.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00005" num="00005">
<div class="claim-text">5. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second subset of DL subframes comprises all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00006" num="00006">
<div class="claim-text">6. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first subset of DL subframes comprises one or more virtual subframes that are added by the UE, wherein the one or more virtual subframes are used for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00007" num="00007">
<div class="claim-text">7. A User Equipment, UE, for reporting Hybrid Automatic Repeat Request, HARQ, acknowledgement, ACK, /non-acknowledgement, NACK, for Physical Downlink Shared Channels, PDSCHs, in dynamic time division duplex, TDD, configurations, the UE comprising a receiver, a transmitter, a memory and a processor,
<div class="claim-text">wherein the memory is configured to store TDD configurations;</div>
<div class="claim-text">the processor is configured to control the receiver to receive a plurality of PDSCHs in DownLink, DL, subframes associated with an UpLink, UL, subframe and indicated by a DL reference TDD configuration;</div>
<div class="claim-text">the processor is configured to divide the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration;</div>
<div class="claim-text">the processor is configured to assign a first set of Physical Uplink Control Channel, PUCCH, resource indices based on resources used in transmission of Physical Downlink Control Channels, PDCCHs, corresponding to the PDSCHs received in the DL subframes of the first subset of DL subframes;</div>
<div class="claim-text">the processor is configured to assign a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframes of the second subset of DL subframes; and</div>
<div class="claim-text">the processor is configured to control the transmitter to, for each of the received PDSCHs, report HARQ ACK/NACK using PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs received in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs received in the DL subframes of the second subset of DL subframes;</div>
<div class="claim-text">characterized in that the processor is further adapted for determining an offset between the first set of PUCCH resource indices and the second set of PUCCH resource indices.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00008" num="00008">
<div class="claim-text">8. The method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising one of:
<div class="claim-text">the processor is configured to determining the different start positions from information broadcasted by a respective base station, BS;</div>
<div class="claim-text">the processor is configured to determining a start position for the first subset of DL subframes from information broadcasted by a respective base station, BS, and determining a start position for the second subset of DL subframes from a notification of the offset for the second via Radio Resource Control, RRC, signaling, or Medium Access Control, MAC, Control Element, CE;</div>
<div class="claim-text">the processor is configured to determining the different start positions from information broadcasted by a respective base station, BS, wherein the information comprises an offset to indicate the difference between start positions of the different sets of PUCCH resource indices; and</div>
<div class="claim-text">the processor is configured to determining the different start positions from information broadcasted by a respective base station, BS, wherein the information comprises a start position of the UL reference TDD configuration, and wherein the UE determines the PUCCH resources for the first subset according to the received start position and determines the PUCCH resources for the second subset proportionally according to the amount of the feedback of the two subsets.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00009" num="00009">
<div class="claim-text">9. The UE according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the processor is configured to assign the first set of PUCCH resource indices and the second set of PUCCH resource indices based on the following formula:
<div class="claim-text"> <br/> <i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup>=(<i>M</i> <sub>q</sub> <i>−i−</i>1)·<i>N</i> <sub>c</sub> <i>+i·N</i> <sub>c+1</sub> <i>+n</i> <sub>CCE,i</sub> <i>+N</i> <sub>PUCCH</sub> <sup>(q)</sup>,
</div>
</div>
<div class="claim-text">wherein n<sub>PUCCH,i</sub> <sup>(1) </sup>is a PUCCH resource index determined based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframe that is the i<sup>th </sup>element of the q<sup>th </sup>subset, M<sub>q </sub>is the total number of DL subframes in the q<sup>th </sup>subset, 0≤i&lt;M<sub>q</sub>, c is selected from {0, 1, 2, 3} such that N<sub>c</sub>≤n<sub>CCE,i</sub>&lt;N<sub>c+1</sub>=max{0,└[N<sub>RB</sub> <sup>DL</sup>·(N<sub>sc</sub> <sup>RB</sup>·c−4)]/36┘} where N<sub>RB</sub> <sup>DL </sup>is the number of physical resource blocks, PRBs, in each downlink subframe and where N<sub>sc</sub> <sup>RB </sup>is the number of subcarriers in each physical resource block, is the sequence number of the first Control Channel Element, CCE, used for transmission of the corresponding PDCCH in subframe n−k<sub>i</sub> <sup>(q)</sup>, k<sub>i</sub> <sup>(q) </sup>(q=0, 1) is the i<sup>th </sup>element of the q<sup>th </sup>subset, n indicates the UL subframe associated with the DL subframes where the plurality of PDSCHs are received, N<sub>PUCCH</sub> <sup>(q)</sup>(q=0, 1) is an offset for q<sup>th </sup>subset, wherein q=0 corresponds to one of the first and second subsets of DL subframes and q=1 corresponds to the other one of the first and second subsets of DL subframes.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00010" num="00010">
<div class="claim-text">10. The UE according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the second subset of DL subframes comprises all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00011" num="00011">
<div class="claim-text">11. The UE according to <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein the processor is further configured to add one or more virtual subframes to the first subset of DL subframes, wherein the one or more virtual subframes are used for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00012" num="00012">
<div class="claim-text">12. A method used in a Base Station, BS, for receiving Hybrid Automatic Repeat Request, HARQ, acknowledgement, ACK, /non-acknowledgement, NACK, for Physical Downlink Shared Channels, PDSCHs, in dynamic time division duplex, TDD, configurations, the method comprising:
<div class="claim-text">transmitting a plurality of PDSCHs in DownLink, DL, subframes associated with an UpLink, UL, subframe and indicated by a DL reference TDD configuration;</div>
<div class="claim-text">dividing the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration;</div>
<div class="claim-text">assigning a first set of Physical Uplink Control Channel, PUCCH, resource indices based on resources used in transmission of Physical Downlink Control Channels, PDCCHs, corresponding to the PDSCHs transmitted in the DL subframes of the first subset of DL subframes;</div>
<div class="claim-text">assigning a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the second subset of DL subframes; and</div>
<div class="claim-text">for each of the transmitted PDSCHs, receiving HARQ ACK/NACK on PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the second subset of DL subframes,</div>
<div class="claim-text">characterized by transmitting an information of an offset between the first set of PUCCH resource indices and the second set of PUCCH resource indices to the UE.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00013" num="00013">
<div class="claim-text">13. The method according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the information indicates different start positions for the first set of PUCCH resource indices and the second set of PUCCH resource indices from the offset.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00014" num="00014">
<div class="claim-text">14. The method according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising one of:
<div class="claim-text">broadcasting the different start positions to the UE;</div>
<div class="claim-text">broadcasting a start position for the first subset of DL subframes, and transmitting a notification of the offset for the second subset via Radio Resource Control, RRC, signaling, or Medium Access Control, MAC, Control Element, CE;</div>
<div class="claim-text">broadcasting the offset to indicate the difference between start positions of the different sets of PUCCH resource indices; and</div>
<div class="claim-text">broadcasting the information comprising a start position of the UL reference TDD configuration, so that the UE determines the PUCCH resources for the first subset according to the received start position and determines the PUCCH resources for the second subset proportionally according to the amount of the feedback of the two subsets.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00015" num="00015">
<div class="claim-text">15. The method according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein assigning the first set of PUCCH resource indices and the second set of PUCCH resource indices are based on the following formula:
<div class="claim-text"> <br/> <i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup>=(<i>M</i> <sub>q</sub> <i>−i−</i>1)·<i>N</i> <sub>c</sub> <i>+i·N</i> <sub>c+1</sub> <i>+n</i> <sub>CCE,i</sub> <i>+N</i> <sub>PUCCH</sub> <sup>(q)</sup>,
</div>
</div>
<div class="claim-text">wherein n<sub>PUCCH,i</sub> <sup>(1) </sup>is a PUCCH resource index determined based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframe that is the i<sup>th </sup>element of the q<sup>th </sup>subset, M<sub>q </sub>is the total number of DL subframes in the q<sup>th </sup>subset, 0≤i&lt;M<sub>q</sub>, c is selected from {0, 1, 2, 3} such that N<sub>c</sub>≤n<sub>CCE,i</sub>&lt;N<sub>c+1</sub>, N<sub>c</sub>=max{0,└[N<sub>RB</sub> <sup>DL</sup>·(N<sub>sc</sub> <sup>RB</sup>·c−4)]/36┘} where N<sub>RB</sub> <sup>DL </sup>is the number of physical resource blocks, PRBs, in each downlink subframe and where N<sub>sc</sub> <sup>RB </sup>is the number of subcarriers in each physical resource block, n<sub>CCE,i </sub>is the sequence number of the first Control Channel Element, CCE, used for transmission of the corresponding PDCCH in subframe n−k<sub>i</sub> <sup>(q)</sup>, k<sub>i</sub> <sup>(q)</sup>(q=0, 1) is the i<sup>th </sup>element of the q<sup>th </sup>subset, n indicates the UL subframe associated with the DL subframes where the plurality of PDSCHs are received, N<sub>PUCCH</sub> <sup>(q)</sup>(q=0, 1) is an offset for q<sup>th </sup>subset, wherein q=0 corresponds to one of the first and second subsets of DL subframes and q=1 corresponds to the other one of the first and second subsets of DL subframes.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00016" num="00016">
<div class="claim-text">16. The method according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the second subset of DL subframes comprises all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00017" num="00017">
<div class="claim-text">17. The method according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the first subset of DL subframes comprises one or more virtual subframes that are added by the BS, wherein the one or more virtual subframes are used for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00018" num="00018">
<div class="claim-text">18. A Base Station, BS, for receiving Hybrid Automatic Repeat Request, HARQ, acknowledgement, ACK, /non-acknowledgement, NACK, for Physical Downlink Shared Channels, PDSCHs, in dynamic time division duplex, TDD, configurations, the BS comprising a receiver, a transmitter, a memory and a processor,
<div class="claim-text">wherein the memory is configured to store TDD configurations;</div>
<div class="claim-text">the processor is configured to control the transmitter to transmit a plurality of PDSCHs in DownLink, DL, subframes associated with an UpLink, UL, subframe and indicated by a DL reference TDD configuration;</div>
<div class="claim-text">the processor is configured to divide the DL subframes into a first subset of DL subframes and a second subset of DL subframes, wherein the first subset of DL subframes is also indicated by an UL reference TDD configuration;</div>
<div class="claim-text">the processor is configured to assign a first set of Physical Uplink Control Channel, PUCCH, resource indices based on resources used in transmission of Physical Downlink Control Channels, PDCCHs, corresponding to the PDSCHs transmitted in the DL subframes of the first subset of DL subframes;</div>
<div class="claim-text">the processor is configured to assign a second set of PUCCH resource indices based on resources used in transmission of PDCCHs corresponding to the PDSCHs transmitted in the DL subframes of the second subset of DL subframes; and</div>
<div class="claim-text">the processor is configured to control the receiver to, for each of the transmitted PDSCHs, receive HARQ ACK/NACK on PUCCH resources in an order of the assigned first set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the first subset of DL subframes and in an order of the assigned second set of PUCCH resource indices for PDSCHs transmitted in the DL subframes of the second subset of DL subframes, characterized in that the BS is configured to transmitting an information of an offset between the first set of PUCCH resource indices and the second set of PUCCH resource indices to the UE.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00019" num="00019">
<div class="claim-text">19. The BS according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the information indicates different start positions for the first set of PUCCH resource indices and the second set of PUCCH resource indices from the offset.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00020" num="00020">
<div class="claim-text">20. The method according to <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the BS is further configured to perform one of:
<div class="claim-text">broadcasting the different start positions to the UE;</div>
<div class="claim-text">broadcasting a start position for the first subset of DL subframes, and transmitting a notification of the offset for the second subset via Radio Resource Control, RRC, signaling, or Medium Access Control, MAC, Control Element, CE;</div>
<div class="claim-text">broadcasting the offset to indicate the difference between start positions of the different sets of PUCCH resource indices; and</div>
<div class="claim-text">broadcasting the information comprising a start position of the UL reference TDD configuration, so that the UE determines the PUCCH resources for the first subset according to the received start position and determines the PUCCH resources for the second subset proportionally according to the amount of the feedback of the two subsets.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00021" num="00021">
<div class="claim-text">21. The method according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein assigning the first set of PUCCH resource indices and the second set of PUCCH resource indices are based on the following formula:
<div class="claim-text"> <br/> <i>n</i> <sub>PUCCH,i</sub> <sup>(1)</sup>=(<i>M</i> <sub>q</sub> <i>−i−</i>1)·<i>N</i> <sub>c</sub> <i>+i·N</i> <sub>c+1</sub> <i>+n</i> <sub>CCE,i</sub> <i>+N</i> <sub>PUCCH</sub> <sup>(q)</sup>,
</div>
</div>
<div class="claim-text">wherein n<sub>PUCCH,i</sub> <sup>(1) </sup>is a PUCCH resource index determined based on resources used in transmission of PDCCHs corresponding to the PDSCHs received in the DL subframe that is the i<sup>th </sup>element of the q<sup>th </sup>subset, M<sub>q </sub>is the total number of DL subframes in the q<sup>th </sup>subset, 0≤i&lt;M<sub>q</sub>, c is selected from {0, 1, 2, 3} such that N<sub>c</sub>≤n<sub>CCE,i</sub>&lt;N<sub>c+1</sub>, N<sub>c</sub>=max{0,└[N<sub>RB</sub> <sup>DL</sup>·(N<sub>sc</sub> <sup>RB</sup>·c−4)]/36┘} where N<sub>RB</sub> <sup>DL </sup>is the number of physical resource blocks, PRBs, in each downlink subframe and where N<sub>sc</sub> <sup>RB </sup>is the number of subcarriers in each physical resource block, is the sequence number of the first Control Channel Element, CCE, used for transmission of the corresponding PDCCH in subframe n−k<sub>i</sub> <sup>(q)</sup>, k<sub>i</sub> <sup>(q) </sup>(q=0, 1) is the i<sup>th </sup>element of the q<sup>th </sup>subset, n indicates the UL subframe associated with the DL subframes where the plurality of PDSCHs are received, N<sub>PUCCH</sub> <sup>(q)</sup>(q=0, 1) is an offset for q<sup>th </sup>subset, wherein q=0 corresponds to one of the first and second subsets of DL subframes and q=1 corresponds to the other one of the first and second subsets of DL subframes.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00022" num="00022">
<div class="claim-text">22. The BS according to <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the second subset of DL subframes comprises all the DL subframes indicated by the DL reference TDD configuration other than DL subframes of the first subset of DL subframes.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00023" num="00023">
<div class="claim-text">23. The BS according to <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the processor is further configured to add one or more virtual subframes to the first subset of DL subframes, wherein the one or more virtual subframes are used for assigning PUCCH resource indices, but not for real PDSCH transmissions.</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    