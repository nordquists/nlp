
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US10667009B1 - Profiling and identification of television viewers 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="docdb" mxw-id="PA398280222" source="national office">
<div class="abstract">In an embodiment, a computer-implemented method includes starting a first viewing session; receiving one or more programming streams including one or more video programs; storing (e.g., at regular time intervals) program data including identification data describing the one or more video programs and a corresponding time interval; monitoring and/or storing a plurality of interactions with video controls of the particular viewer during the first viewing session; ending the first viewing session; aggregating at least a portion of the plurality of the interactions and the program data in a new session profile that represents the particular viewer's short-term viewing habits; accessing one or more existing signature profiles having signature categories that may represent the long-term viewing habits of a respective viewer; and matching the new session profile with one of the one or more existing signature profiles to deliver a particular viewer a targeted advertisement.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES265045466">
<heading id="h-0001">CROSS REFERENCE TO RELATED APPLICATION</heading>
<div class="description-paragraph" id="p-0002" num="0001">This application is a continuation of U.S. patent application Ser. No. 15/296,793 (now U.S. Pat. No. 10,182,258), filed Oct. 18, 2016, which is a continuation of U.S. patent application Ser. No. 14/196,488 (now U.S. Pat. No. 9,473,814), filed Mar. 4, 2014, which is a continuation of U.S. patent application Ser. No. 13/277,839 (now U.S. Pat. No. 8,667,536), filed Oct. 20, 2011, entitled Profiling and Identification of Television Viewers, which is a continuation of U.S. patent application Ser. No. 11/751,154 (now U.S. Pat. No. 8,046,798), filed May 21, 2007, entitled Profiling and Identification of Television Viewers, which is a divisional of U.S. patent application Ser. No. 09/998,979 (now U.S. Pat. No. 7,260,823), filed Oct. 31, 2001, and entitled Profiling and Identification of Television Viewers, the entire disclosures of which are incorporated herein by reference. U.S. patent application Ser. No. 09/998,979 (now U.S. Pat. No. 7,260,823) claims the benefit of U.S. Provisional Application Nos. 60/260,946, filed Jan. 11, 2001, entitled Viewer Profiling within a Set-top Box, and 60/263,095, filed Jan. 19, 2001, entitled Session Based Profiling in a Television Viewing Environment, the entire disclosures of which are incorporated herein by reference.</div>
<div class="description-paragraph" id="p-0003" num="0002">This application is related to all of the Applicants' applications, patents and publications listed below. The entire list below is herein incorporated in their entirety, but are not admitted to be prior art:
</div> <ul> <li id="ul0001-0001" num="0000"> <ul> <li id="ul0002-0001" num="0003">U.S. patent application Ser. No. 09/204,888, filed on Dec. 3, 1998, now U.S. Pat. No. 7,150,030 entitled “Subscriber Characterization System”;</li> <li id="ul0002-0002" num="0004">PCT Application PCT/US99/28528 (WIPO Publication WO 00/33160A3), filed on Dec. 2, 1999 entitled “Subscriber Characterization and Advertisement Monitoring System”;</li> <li id="ul0002-0003" num="0005">U.S. patent application Ser. No. 09/516,983 now U.S. Pat. No. 7,240,355, filed on Mar. 1, 2000, entitled “Subscriber Characterization with Filters”;</li> <li id="ul0002-0004" num="0006">U.S. patent application Ser. No. 09/591,577, now U.S. Pat. No. 7,949,565, filed on Jun. 9, 2000, entitled “Privacy-Protected Advertising System”;</li> <li id="ul0002-0005" num="0007">U.S. patent application Ser. No. 09/635,252, filed on Aug. 9, 2000, now abandoned, entitled “Subscriber Characterization Based on Electronic Program Guide Data”;</li> <li id="ul0002-0006" num="0008">U.S. patent application Ser. No. 09/205,653, filed on Dec. 3, 1998, now U.S. Pat. No. 6,457,010, entitled “Client-Server Based Subscriber Characterization System”;</li> <li id="ul0002-0007" num="0009">U.S. patent application Ser. No. 09/205,119, filed on Dec. 3, 1998, now abandoned, entitled “Advertisement Monitoring System”;</li> <li id="ul0002-0008" num="0010">U.S. patent application Ser. No. 09/516,314, filed on Mar. 1, 2000, now abandoned, entitled “Advertisement Monitoring and Feedback System”;</li> <li id="ul0002-0009" num="0011">U.S. patent application Ser. No. 09/452,893, filed on Dec. 2, 1999, now U.S. Pat. No. 6,684,194, entitled “Subscriber Identification System”;</li> <li id="ul0002-0010" num="0012">PCT Application PCT/US99/28600 (WIPO Publication WO 00/33233), filed on Dec. 2, 1999 entitled “Subscriber Identification System”;</li> <li id="ul0002-0011" num="0013">U.S. patent application Ser. No. 09/635,253, filed on Aug. 9, 2000, now U.S. Pat. No. 6,714,917, entitled “Subscriber Identification Based on Electronic Program Guide Data”;</li> <li id="ul0002-0012" num="0014">U.S. patent application Ser. No. 09/268,519, filed Mar. 12, 1999, now U.S. Pat. No. 6,298,348, entitled “Consumer Profiling System”;</li> <li id="ul0002-0013" num="0015">PCT Application PCT/US99/28628 (WIPO Publication WO 00/33228), filed on Dec. 2, 1999, entitled “Consumer Profiling and Advertisement Selection System”;</li> <li id="ul0002-0014" num="0016">U.S. patent application Ser. No. 09/553,637, filed on Apr. 20, 2000, now U.S. Pat. No. 6,820,277, entitled “Advertising Management System for Digital Video Streams”;</li> <li id="ul0002-0015" num="0017">PCT Application PCT/US00/10633 (WIPO Publication WO 00/64165), filed on Apr. 20, 2000, entitled “Advertising Management System for Digital Video Streams”;</li> <li id="ul0002-0016" num="0018">U.S. patent application Ser. No. 09/553,099, filed on Apr. 20, 2000, now U.S. Pat. No. 6,820,277, entitled “Advertisement Insertion Techniques for Digital Video Streams”;</li> <li id="ul0002-0017" num="0019">U.S. patent application Ser. No. 09/568,084, filed on May 10, 2000, now abandoned, entitled “Advertisement Subgroups for Digital Video Streams”;</li> <li id="ul0002-0018" num="0020">PCT Application PCT/US00/12710 (WIPO Publication WO 00/69163), filed on May 10, 2000 entitled “Advertisement Subgroups for Digital Video Streams”;</li> <li id="ul0002-0019" num="0021">U.S. patent application Ser. No. 09/568,477, filed on May 10, 2000, now U.S. Pat. No. 6,615,039, entitled “Advertisement Subgroups for Digital Video Streams”;</li> <li id="ul0002-0020" num="0022">U.S. patent application Ser. No. 09/635,539, filed on Aug. 10, 2000, now abandoned, entitled “Delivering targeted advertisements in cable-based networks”;</li> <li id="ul0002-0021" num="0023">U.S. patent application Ser. No. 09/694,848, filed on Oct. 20, 2000, now U.S. Pat. No. 7,068,724, entitled “Method and Apparatus for Inserting Digital Media Advertisements into Statistical Multiplexed Streams”;</li> <li id="ul0002-0022" num="0024">PCT Application PCT/US00/29034 (WIPO Publication WO 01/30086A), filed on Oct. 20, 2000, entitled “Method and Apparatus for Inserting Digital Media Advertisements into Statistical Multiplexed Streams”;</li> <li id="ul0002-0023" num="0025">U.S. patent application Ser. No. 09/796,339, filed on Feb. 28, 2001, now abandoned, entitled “Privacy-Protected Targeting System”;</li> <li id="ul0002-0024" num="0026">PCT Application PCT/US01/06650 (WIPO Publication WO 01/65453A1), filed on Feb. 28, 2001 entitled “Privacy-Protected Targeting System”;</li> <li id="ul0002-0025" num="0027">U.S. patent application Ser. No. 09/635,542, filed on Aug. 10, 2000, now abandoned, entitled “Grouping Subscribers Based on Demographic Data”;</li> <li id="ul0002-0026" num="0028">U.S. patent application Ser. No. 09/635,544 filed on Aug. 10, 2000, now abandoned, entitled “Transporting Ad Characterization Vectors”;</li> <li id="ul0002-0027" num="0029">U.S. patent application Ser. No. 09/712,790 filed on Nov. 14, 2000, now U.S. Pat. No. 7,068,724, entitled “Queue Based Advertisement Scheduling and Sales”;</li> <li id="ul0002-0028" num="0030">PCT Application PCT/US01/27217, filed on Aug. 31, 2001, entitled “Targeted Advertising at the Set-Top Box”;</li> <li id="ul0002-0029" num="0031">U.S. patent application Ser. No. 09/731,606 filed on Dec. 7, 2000, now abandoned, entitled “System for Providing Targeted Advertisements Using Advertiser Specific Target Groups”;</li> <li id="ul0002-0030" num="0032">U.S. patent application Ser. No. 09/748,949 filed on Dec. 27, 2000, now abandoned, entitled “Advertisement Filtering and Storage for Targeted Advertisement Systems”;</li> <li id="ul0002-0031" num="0033">U.S. patent application Ser. No. 09/742,527 filed on Dec. 21, 2000, entitled “System and Method for Automatically Managing Avail Inventory Data and Avail Pricing”;</li> <li id="ul0002-0032" num="0034">U.S. patent application Ser. No. 09/748,942 filed on Dec. 27, 2000, now U.S. Pat. No. 7,328,448, entitled “Advertisement Distribution System for Distributing Targeted Advertisements in Television Systems”;</li> <li id="ul0002-0033" num="0035">U.S. patent application Ser. No. 09/742,506 filed on Dec. 21, 2000, now abandoned, entitled “Internet Based Electronic Program Guide Advertisement Insertion Method and Apparatus”;</li> <li id="ul0002-0034" num="0036">U.S. patent application Ser. No. 09/748,943 filed on Dec. 27, 2000, now abandoned, entitled “Delivering Targeted Advertisements to the Set-Top Box”;</li> <li id="ul0002-0035" num="0037">U.S. patent application Ser. No. 09/742,534 filed on Dec. 21, 2000, now U.S. Pat. No. 7,039,932, entitled “Queue Based Head-End Advertisement Scheduling Method and Apparatus”;</li> <li id="ul0002-0036" num="0038">U.S. patent application Ser. No. 09/742,852 filed on Dec. 21, 2000, entitled “System for Rescheduling and Inserting Advertisements”;</li> <li id="ul0002-0037" num="0039">U.S. patent application Ser. No. 09/750,800 filed on Dec. 28, 2000, now U.S. Pat. No. 7,228,555, entitled “System and Method for Delivering Targeted Advertisements Using Multiple Presentation Streams”;</li> <li id="ul0002-0038" num="0040">U.S. patent application Ser. No. 09/766,004 filed on Jan. 19, 2001, now U.S. Pat. No. 7,185,353, entitled “System and Method for Delivering Statistically Scheduled Advertisements”;</li> <li id="ul0002-0039" num="0041">U.S. patent application Ser. No. 09/824,434 filed on Apr. 2, 2001, now abandoned, entitled “Grouping of Advertisements on an Advertising Channel in a Targeted Advertising System”;</li> <li id="ul0002-0040" num="0042">U.S. patent application Ser. No. 09/658,204 filed on Sep. 8, 2000, now abandoned, entitled “Targeted Advertising Through the Electronic Program Guide”;</li> <li id="ul0002-0041" num="0043">U.S. Provisional Application No. 60/238,059, filed on Oct. 5, 2000, entitled “Platform Independent Addressable Television Advertising System”;</li> <li id="ul0002-0042" num="0044">U.S. Provisional Application No. 60/238,056, filed on Oct. 5, 2000, entitled “Method and System for Addressable Advertising in the Electronic Program Guide”;</li> <li id="ul0002-0043" num="0045">U.S. patent application Ser. No. 09/749,255 filed on Dec. 27, 2000, now U.S. Pat. No. 7,653,923, entitled “Scheduling and Linking IPG Ads in Conjunction with Programming Ads in a Television Environment”;</li> <li id="ul0002-0044" num="0046">PCT Application PCT/US01/31682, filed on Oct. 5, 2001, entitled “Targeting Ads on IPG's Live Programming and Recorded Programming, and Coordinating the Ads there between”;</li> <li id="ul0002-0045" num="0047">U.S. patent application Ser. No. 09/680,622 filed on Oct. 6, 2000, now abandoned, entitled “Method and System for Addressable and Program Independent Advertising During Recorded Programs”;</li> <li id="ul0002-0046" num="0048">U.S. patent application Ser. No. 09/751,349 filed on Dec. 28, 2000, now abandoned, entitled “Inserting Local Signals During MPEG Channel Changes”;</li> <li id="ul0002-0047" num="0049">U.S. Provisional Application No. 60/267,370, filed on Feb. 8, 2001, entitled “Presentation Stream Switching Using Channel Maps”;</li> <li id="ul0002-0048" num="0050">U.S. Provisional Application No. 60/278,612, filed on Mar. 26, 2001, entitled “Formation and Utilization of Cable Microzones”;</li> <li id="ul0002-0049" num="0051">U.S. Provisional Application No. 60/281,037, filed on Apr. 3, 2001, entitled “Personal Video Recorder (PVR) Market Overview and Advertising Opportunities”;</li> <li id="ul0002-0050" num="0052">U.S. Provisional Application No. 60/329,992, filed on Oct. 17, 2001, entitled “Personal Video Recorder (PVR) System Requirements and Specification”;</li> <li id="ul0002-0051" num="0053">U.S. patent application Ser. No. 09/928,024 on Aug. 10, 2001, now abandoned, entitled “Targeting Ads to Subscribers based on Privacy Protected Subscriber Profiles”; and</li> <li id="ul0002-0052" num="0054">PCT Application PCT/US01/25261, filed on Aug. 10, 2001, entitled “Targeting Ads to Subscribers based on Privacy Protected Subscriber Profiles”.</li> </ul> </li> </ul>
<heading id="h-0002">BACKGROUND OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0004" num="0055">Advertising forms an important part of broadcast programming including broadcast video (television), radio and printed media. The revenues generated from advertisers subsidize and in some cases pay entirely for programming received by subscribers. For example, over the air broadcast programming (non-cable television) is provided entirely free to the subscribers and is essentially paid for by the advertisements placed in the shows that are watched. Even in cable television systems and satellite-based systems, the revenues from advertisements subsidize the cost of the programming, and were it not for advertisements, the monthly subscription rates for cable television would be many times higher than at present. Radio similarly offers free programming based on payments for advertising. The low cost of newspapers and magazines is based on the subsidization of the cost of reporting, printing and distribution from the advertising revenues.</div>
<div class="description-paragraph" id="p-0005" num="0056">Along with the multitude of programming choices that the television viewer faces, the viewers are subject to advertisements. While advertisements are sometimes beneficial to subscribers and deliver desired information regarding specific products or services, consumers generally view advertising as a “necessary evil” for broadcast-type entertainment. A prior art (present model) of providing advertisements along with actual programming is based on linked sponsorship. In the linked sponsorship model, the advertisements are inserted into the actual programming based on the contents of the programming, e.g., a baby stroller advertisement may be inserted into a parenting program. Even with linked sponsorship, advertising, and in particular broadcast television advertising, is mostly ineffective. That is, a large percentage, if not the majority, of advertisements do not have a high probability of affecting a sale. In addition to this fact, many advertisements are not even seen/heard by the subscriber who may mute the sound, change channels, or simply leave the room during a commercial break. The reasons for such ineffectiveness are due to the fact that the displayed advertisements are not targeted to the subscribers' needs, likes or preferences. Generally, the same advertisements are displayed to all the subscribers irrespective of the needs and preferences of the subscribers.</div>
<div class="description-paragraph" id="p-0006" num="0057">In order to deliver more targeted programming and advertising to subscribers, it is necessary to understand their likes and dislikes to a greater extent than is presently done today. Targeting of an ad requires knowing certain attributes of the target viewer, demographic, psychograph, and any data relevant to determining the relative appropriateness of an ad for the particular viewer. Systems which identify subscriber preferences based on their purchases and responses to questionnaires allow for the targeted marketing of literature in the mail, but do not in any sense allow for the rapid and precise delivery of programming and advertising which is known to have a high probability of acceptance to the subscriber. In order to determine which programming or advertising is appropriate for the subscriber, knowledge of that subscriber and of the subscriber's programming preferences is required. Characterizing or profiling viewers based on viewing habits may be used to achieve targeted advertising.</div>
<div class="description-paragraph" id="p-0007" num="0058">Methods for monitoring the viewing habits of television viewers, for classifying TV programming into categories, and for using the viewing habits for determining viewing preferences have been previously disclosed. For example</div>
<div class="description-paragraph" id="p-0008" num="0059">The following detailed description will be better understood when read in conjunction with the appended drawings, in which there is shown one or more of the multiple embodiments of the present invention. It should be understood, however, that the various embodiments of the present invention are not limited to the precise arrangements and instrumentalities shown in the drawings.
</div> <ul> <li id="ul0003-0001" num="0000"> <ul> <li id="ul0004-0001" num="0060">Bedard (WIPO publication WO 98/21877A2), assigned to Hyundai Electronics of San Jose, Calif., discloses a method for monitoring a viewer's viewing habits in order to arrange an electronic program guide (EPG) and determine viewing preferences;</li> <li id="ul0004-0002" num="0061">Barton et al. (WIPO publication WO 00/59223), assigned to TIVO, Inc. of Alviso, Calif., discloses a data storage and scheduling system in a personal video recorder (PVR). Based on past viewing habits/preferences, the PVR automatically records desired programs; and</li> <li id="ul0004-0003" num="0062">Maissel et al. (WIPO publication WO 99/01984A1), assigned to NDS Limited of Middlesex, England, discloses a method of customizing the EPG by monitoring viewing behavior to create a preference profile.</li> </ul> </li> </ul>
<div class="description-paragraph" id="p-0009" num="0063">A method for delivering targeted ads to different demographic groups in a television environment was disclosed by Wachob (U.S. Pat. No. 5,155,591), assigned to General Instrument of Hatboro, Pa. Wachob discloses a cable television system for broadcasting different commercial messages to different demographically targeted audiences. Demographic information is obtained and targeted audiences are formed based on subscriber address (i.e., geographic location) or on household survey information such as a viewing habit diary kept by the subscriber.</div>
<div class="description-paragraph" id="p-0010" num="0064">Methods for delivering advertising or other customized programming to viewers in a television environment based on previous viewing habits or menu selections has previously been disclosed. For example, Despain et al. (WIPO publication WO 00/14951), assigned to Next Century Media, Inc. of New Paltz, N.Y., discloses a system for targeted advertising in a digital system. In the system, a digital set-top box (STB) captures and uploads household data viewing preferences to the cable operator head end, which can then be used to deliver targeted ads and other content to the viewer based on the viewer preferences. An on-screen questionnaire is used to elicit demographic attributes and preferences from viewers. “Boo” and “applause” buttons on the remote control are used by the viewer to indicate viewer likes/dislikes. Channel change data can be captured and sent upstream, and in conjunction with data from the questionnaires and interactive buttons, may be used to provide each viewer with their own custom menu and forms of customized programming. However, Despain et al. do not teach local storing and processing of data to generate a viewer profile to be stored and utilized at the STB. Moreover, it does not teach specific methods on how to create a demographic, psychographic or other viewer profile from a multitude of viewer interaction data or how to correlate or use those profiles for the delivery of targeted advertisements.</div>
<div class="description-paragraph" id="p-0011" num="0065">A preference agent for monitoring television programs watched by a viewer is disclosed in Gogoi et al. (WIPO publication WO 99/65237), assigned to Metabyte, Inc. of Freemont, Calif. The preference agent, located within a STB or PVR, also retrieves category information about viewed programs, and generates a viewer program preference profile. The preference agent automatically records or suggests programs of interest to the viewer based on the viewer's program preference profile.</div>
<div class="description-paragraph" id="p-0012" num="0066">The creation of user profiles on an interactive computer is disclosed in Freeman et al. (U.S. Pat. No. 5,861,881), assigned to ACTV Inc., of Freeman, N.Y. The profiles are based on the selections made during one of the interactive programs, however, are limited to interactive program activity by the viewer, and are not based on general viewing habits or general surf activity.</div>
<div class="description-paragraph" id="p-0013" num="0067">Hendricks et al. (U.S. Pat. No. 6,160,989), assigned to Discovery Communications Inc., of Bethesda, Md., discloses a network controller that provides monitoring and control of STBs. The network controller also gathers data received from the STBs to compile subscriber viewing information and programs watched information. The data is processed to generate packages of advertisements, as well as account and billing reports, targeted towards each STB. To build a personal profile, the viewer answers a series of questions presented on a series of questionnaire menu screens.</div>
<div class="description-paragraph" id="p-0014" num="0068">Barton et al. (WIPO publication WO 00/59223), assigned to TIVO Inc. of Alviso, Calif., disclose a data storage and scheduling system, wherein viewing preferences can be inferred from viewing patterns, and where the navigation actions of the TV channels by the viewer are recorded, stored, and then sent upstream. However, Barton et al. do not teach or suggest local profiling or viewer identification, or how profiles could be utilized to delivery targeted advertising.</div>
<div class="description-paragraph" id="p-0015" num="0069">For the foregoing reasons, a need exists for a method and system for monitoring click-stream and other interactivity of a viewer with the viewer's television viewing environment and generating one more viewer profiles therefrom. Additionally, a need exists for the monitoring of interactivity and generation of viewer profiles to be performed within the television viewing environment (i.e., TV, STB, PVR). Furthermore, a need exists for such profiling to be done in a secure and privacy-protected manner. Moreover, a need exists for a reliable way of automatically, detecting or inferring, which specific individual or individuals, are actually watching the TV in a household comprising more than one individual at a particular time, and for generating one or more profiles per each individual.</div>
<heading id="h-0003">SUMMARY OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0016" num="0070">The invention comprises a method of profiling one or more viewers for targeted advertising by starting a first viewing session and/or receiving one or more programming streams including one or more video programs. The invention further comprises storing (e.g., at regular time intervals) program data including identification data describing the one or more video programs and a corresponding time interval. The invention further comprises monitoring and/or storing a plurality of interactions with video controls of the particular viewer during the first viewing session. The invention further comprises ending the first viewing session and/or aggregating at least a portion of the plurality of the interactions and the program data in a new session profile that represents the particular viewer's short-term viewing habits. The invention further comprises accessing one or more existing signature profiles having signature categories that may represent the long-term viewing habits of a respective viewer and/or matching the new session profile with one of the one or more existing signature profiles to deliver a particular viewer a targeted advertisement.</div>
<div class="description-paragraph" id="p-0017" num="0071">The invention also comprises a method of characterizing or profiling one or more viewer's, by monitoring and processing at the viewer set-top or receiver, each viewer's interactivity (e.g., via a remote control unit) with the set-top receiver, and then generating one or more profiles for each viewer based on one or more of the multitude of interactions of each viewer and on, in general, the viewing habits and preferences of the viewer. The invention further comprises a method of automatically and reliably, detecting or inferring at a particular time, which specific individual or individuals, are actually watching (i.e., interacting with the remote) the TV in household comprising more than one individual. Such viewer identification and profile generation can be used to facilitate the delivery of targeted content including targeted advertising.</div>
<div class="description-paragraph" id="p-0018" num="0072">The invention also comprises a system for carrying out the local (i.e., at the set-top) profiling of viewers based on their viewing preferences and other interactions at the set-top and for distinguishing between viewers in a multi-viewer household. The invention further comprises a profiler or profiling agent, resident at the viewer's receiver or set-top, and whereby the click-stream and other interactivity by a viewer can be monitored and processed to generate one more viewer profiles and for distinguishing between viewers in a multi-viewer household.</div>
<div class="description-paragraph" id="p-0019" num="0073">In a preferred embodiment, the profiling agent is resident at a viewer's receiver and is responsible for profiling a single household, and distinct individual members of that household. The set-top box profiler monitors the viewing behavior and other receiver interactivity of the viewers including their viewing preferences and utilizing data about programming viewed or not viewed, derives characteristics about and generates profiles of the household and of individual viewers within the household. In a preferred embodiment, the profiles are comprised of profile categories, including the categories of preferred programs, preferred networks, viewing duration, channel change frequency, and holding factor per program or program category. The program data may be delivered to the set-top box periodically (e.g., on a carousel) or may be delivered with the video (e.g., in the VBI or in the PSI).</div>
<div class="description-paragraph" id="p-0020" num="0074">In a preferred embodiment, the profiler identifies different viewing sessions, a period of time during which viewership is static and does not change (i.e., a session of one or more specific viewers), based on viewing and other habits and preferences exhibited by the viewer or viewers, and creates session profiles for each session. Signature profiles are created from one or more correlated session profiles, and subsequent session profiles are correlated and matched with existing signature profiles. Sessions (or session durations) may be defined by, for example, the cycling of power (on/off) of the set-top box, a specific window of time or day-part, periods of inactivity, and monitoring channel change, viewing and other viewer activity.</div>
<div class="description-paragraph" id="p-0021" num="0075">In one embodiment, the profiler comprises an event queue that stores viewer interactivity as viewer-generated events. The profile engine accepts events from the event queue, reads database information (e.g., program data), and processes the events to produce the subscriber profiles. Events are dispatched to the profiling engine based on the clock time, and each of these events may be used to update and modify the viewer's profile. In a preferred embodiment the profile engine uses filters to process events. Each filter may handle one or more profiles elements, determining whether or not each specific event is applicable to (i.e., should be used to update) one or more profiles.</div>
<div class="description-paragraph" id="p-0022" num="0076">In one embodiment, automatic session detection uses channel change and other information to dynamically determine which viewer is watching television at any given time. In a preferred embodiment, reliable viewer identification is accomplished and more complete, updated and accurate profiles of particular viewers are generated, by combining current session data with historical data for those viewers. This historical data, or signature, is an aggregation of session data for a particular viewer or type of viewer, and reflects a set of viewing and interactivity habits. During a specific session, as the profiler collects viewer interactivity session data, the profiler continuously correlates the session data with existing signature data in order to match the session data to a specific signature. This correlation associates long term viewing habits with a particular user based on their short term viewing habits. Moreover, matching session data with a signature identifies a particular viewer and an associated profile.</div>
<div class="description-paragraph" id="p-0023" num="0077">In one embodiment, the signature profile represents an individual viewer. In an alternate embodiment, the signature profile represents a plurality of household viewers. In another embodiment, the signature profile is a standard profile, created independently of any session data or created from aggregated session data from a plurality of household.</div>
<div class="description-paragraph" id="p-0024" num="0078">Default or standard signature profiles, comprising standard profile categories may be generated, independent of local viewing sessions, and may be downloaded to the local receiver or set top. Local viewing session profiles are correlated with these standard signature profiles to identify one or more particular attributes of the session viewer.</div>
<div class="description-paragraph" id="p-0025" num="0079">Advantages of the invention include the ability to, based on viewing habits and other interactions, identify individual viewers or groups of viewers that possess or share certain preferences, demographic, or other relevant traits, and the ability to identify one or more particular viewers, from among a larger group of viewers, and to reliably identify whether that viewer is a man, a woman, or a child. The identification of specific viewers, based on each viewers current and previous interactivity with a receiver, and the characterization (profiling) of each of those viewers (or groups of viewers) creates enormous opportunities for content providers and advertisers to address their content to an individual or groups of individuals with particular demographic traits or who have particular interests. An additional advantage of the invention is that the local monitoring and profile generation at the set-top is consistent with and affords solutions to security and privacy considerations.</div>
<div class="description-paragraph" id="p-0026" num="0080">These and other features and objects of the invention will be more fully understood from the following detailed description of the preferred embodiments that should be read in light of the accompanying drawings.</div>
<description-of-drawings>
<heading id="h-0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<div class="description-paragraph" id="p-0027" num="0081">The accompanying drawings, which are incorporated in and form a part of the specification, illustrate the embodiments of the present invention and, together with the description serve to explain the principles of the invention.</div>
<div class="description-paragraph" id="p-0028" num="0082">In the Drawings:</div>
<div class="description-paragraph" id="p-0029" num="0083"> <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates exemplary television delivery networks for which the current invention could be implemented;</div>
<div class="description-paragraph" id="p-0030" num="0084"> <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates exemplary television delivery systems for which the current system could be implemented;</div>
<div class="description-paragraph" id="p-0031" num="0085"> <figref idrefs="DRAWINGS">FIG. 2A</figref> illustrates an exemplary system diagram and architecture of the current invention, according to one embodiment;</div>
<div class="description-paragraph" id="p-0032" num="0086"> <figref idrefs="DRAWINGS">FIG. 2B</figref> illustrates an exemplary context diagram of a Viewer Characterization and Profiling System (VCPS), according to one embodiment;</div>
<div class="description-paragraph" id="p-0033" num="0087"> <figref idrefs="DRAWINGS">FIGS. 3A-B</figref> illustrate an exemplary head-end channel map table format and channel map table respectfully, according to one embodiment;</div>
<div class="description-paragraph" id="p-0034" num="0088"> <figref idrefs="DRAWINGS">FIGS. 4A-B</figref> illustrate an exemplary head-end network table format and network table respectfully, according to one embodiment;</div>
<div class="description-paragraph" id="p-0035" num="0089"> <figref idrefs="DRAWINGS">FIGS. 5A-B</figref> illustrate an exemplary head-end BpID table format and BpID table respectfully, according to one embodiment;</div>
<div class="description-paragraph" id="p-0036" num="0090"> <figref idrefs="DRAWINGS">FIGS. 6A-B</figref> illustrate an exemplary head-end program table format and program table respectfully, according to one embodiment;</div>
<div class="description-paragraph" id="p-0037" num="0091"> <figref idrefs="DRAWINGS">FIGS. 7A-B</figref> illustrate an exemplary set-top box (STB) channel map header format and channel map table format respectfully, according to one embodiment;</div>
<div class="description-paragraph" id="p-0038" num="0092"> <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates an exemplary program schedule;</div>
<div class="description-paragraph" id="p-0039" num="0093"> <figref idrefs="DRAWINGS">FIGS. 9A-B</figref> illustrate exemplary STB fixed length program header format and fixed length program record format respectively, according to one embodiment;</div>
<div class="description-paragraph" id="p-0040" num="0094"> <figref idrefs="DRAWINGS">FIGS. 10A-C</figref> illustrate exemplary STB variable length program header format, network record format, and program record format respectively, according to one embodiment;</div>
<div class="description-paragraph" id="p-0041" num="0095"> <figref idrefs="DRAWINGS">FIG. 11</figref> illustrates an exemplary logic flow of how user interactions are captured, according to one embodiment;</div>
<div class="description-paragraph" id="p-0042" num="0096"> <figref idrefs="DRAWINGS">FIG. 12</figref> illustrates an exemplary class diagram of how the click stream of a viewer is processed to generate a viewer profile, according to one embodiment;</div>
<div class="description-paragraph" id="p-0043" num="0097"> <figref idrefs="DRAWINGS">FIG. 13</figref> illustrates an exemplary subset of genres and categories as defined by the VCPS, according to one embodiment;</div>
<div class="description-paragraph" id="p-0044" num="0098"> <figref idrefs="DRAWINGS">FIG. 14</figref> illustrates an exemplary conversion of program data, according to one embodiment;</div>
<div class="description-paragraph" id="p-0045" num="0099"> <figref idrefs="DRAWINGS">FIG. 15</figref> illustrates an exemplary process flow of genre data, according to one embodiment;</div>
<div class="description-paragraph" id="p-0046" num="0100"> <figref idrefs="DRAWINGS">FIG. 16</figref> illustrates an exemplary preferred program category profile, according to one embodiment;</div>
<div class="description-paragraph" id="p-0047" num="0101"> <figref idrefs="DRAWINGS">FIG. 17</figref> illustrates an exemplary graphical representation of the genre profile of a viewer, according to one embodiment;</div>
<div class="description-paragraph" id="p-0048" num="0102"> <figref idrefs="DRAWINGS">FIGS. 18A-C</figref> illustrate exemplary tables for probabilities based on program categories, adjustments to those probabilities based on day part, and normalization of the adjusted probabilities respectively, according to one embodiment;</div>
<div class="description-paragraph" id="p-0049" num="0103"> <figref idrefs="DRAWINGS">FIG. 19</figref> illustrates an exemplary set of conditional probabilities for different genres, according to one embodiment;</div>
<div class="description-paragraph" id="p-0050" num="0104"> <figref idrefs="DRAWINGS">FIG. 20</figref> illustrates an exemplary preferred networks profile, according to one embodiment;</div>
<div class="description-paragraph" id="p-0051" num="0105"> <figref idrefs="DRAWINGS">FIGS. 21A-B</figref> illustrate examples of records and graphs of network viewership by day part profile table and graph respectively, according to one embodiment;</div>
<div class="description-paragraph" id="p-0052" num="0106"> <figref idrefs="DRAWINGS">FIGS. 22A-B</figref> illustrate exemplary average viewing duration profile table and graph respectively, according to one embodiment;</div>
<div class="description-paragraph" id="p-0053" num="0107"> <figref idrefs="DRAWINGS">FIG. 23</figref> illustrates an exemplary channel change frequency by day part profile, according to one embodiment;</div>
<div class="description-paragraph" id="p-0054" num="0108"> <figref idrefs="DRAWINGS">FIG. 24</figref> illustrates an exemplary holding factor profile, according to one embodiment;</div>
<div class="description-paragraph" id="p-0055" num="0109"> <figref idrefs="DRAWINGS">FIGS. 25A-D</figref> illustrate exemplary channel order, surf session and dwell time profiles, and a dwell time graph respectively, according to one embodiment;</div>
<div class="description-paragraph" id="p-0056" num="0110"> <figref idrefs="DRAWINGS">FIG. 26</figref> illustrates an exemplary process flow chart illustrating how sessions are automatically initiated and terminated and new sessions detected, according to one embodiment;</div>
<div class="description-paragraph" id="p-0057" num="0111"> <figref idrefs="DRAWINGS">FIGS. 27A-B</figref> illustrate examples of how the time span of a viewing session can be determined and delimited, according to one embodiment;</div>
<div class="description-paragraph" id="p-0058" num="0112"> <figref idrefs="DRAWINGS">FIGS. 28A-C</figref> illustrate examples of how viewing sessions can be defined based on viewer activity or inactivity, according to one embodiment;</div>
<div class="description-paragraph" id="p-0059" num="0113"> <figref idrefs="DRAWINGS">FIG. 29</figref> illustrates a sliding window is used to identify session termination and initiation points, according to one embodiment;</div>
<div class="description-paragraph" id="p-0060" num="0114"> <figref idrefs="DRAWINGS">FIG. 30</figref> illustrates sliding windows and their associated data sub-sessions, according to one embodiment;</div>
<div class="description-paragraph" id="p-0061" num="0115"> <figref idrefs="DRAWINGS">FIGS. 31A-B</figref> illustrate how session data is compared with the signature data already stored on the VCPS, according to one embodiment;</div>
<div class="description-paragraph" id="p-0062" num="0116"> <figref idrefs="DRAWINGS">FIGS. 32A-B</figref> illustrate an exemplary process flow chart of how events are processed and associated with a particular session, and how the sliding window is managed, according to one embodiment;</div>
<div class="description-paragraph" id="p-0063" num="0117"> <figref idrefs="DRAWINGS">FIG. 33</figref> illustrates how session data are correlated and matched to signature data, according to one embodiment;</div>
<div class="description-paragraph" id="p-0064" num="0118"> <figref idrefs="DRAWINGS">FIG. 34</figref> illustrates an exemplary process flow of how session data is saved and matched to a signature, according to one embodiment; and</div>
<div class="description-paragraph" id="p-0065" num="0119"> <figref idrefs="DRAWINGS">FIGS. 35A-B</figref> illustrate an exemplary process flow generating the session profile and adding the session profile to a correlated signature profile based on the event queue, according to one embodiment.</div>
</description-of-drawings>
<heading id="h-0005">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<div class="description-paragraph" id="p-0066" num="0120">In describing a preferred embodiment of the invention illustrated in the drawings, specific terminology will be used for the sake of clarity. However, the invention is not intended to be limited to the specific terms so selected, and it is to be understood that each specific term includes all technical equivalents which operate in a similar manner to accomplish a similar purpose.</div>
<div class="description-paragraph" id="p-0067" num="0121">With reference to the drawings, in general, and <figref idrefs="DRAWINGS">FIGS. 1 through 35</figref> in particular, the method and apparatus of the present invention is disclosed.</div>
<div class="description-paragraph" id="p-0068" num="0122">The present invention can be implemented for use with various television (TV) delivery systems including, but not limited to, digital broadcast satellite (DBS) systems, switched digital video (SDV) systems, local multipoint distribution systems (LMDS), multichannel multipoint distribution systems (MMDS), hybrid fiber coax (HFC) systems, the Internet, other cable TV (CTV) systems, or other terrestrial wireless networks. The TV delivery system can deliver programming in various forms, including but not limited to digital video, analog video, or streaming media. The programming may be compressed in accordance with a variety of now known or later discovered compression standards, such as the current Motion Picture Expert Group (MPEG-2) standard for digital video.</div>
<div class="description-paragraph" id="p-0069" num="0123"> <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates exemplary embodiments of three of the most common types of TV delivery networks discussed above with respect to <figref idrefs="DRAWINGS">FIG. 1</figref> with which the present invention can be suitably used. These include DBS <b>100</b>, CTV <b>120</b>, and very high-speed digital subscriber line (VDSL) <b>150</b>. A DBS system <b>100</b> transmits a programming stream comprising upwards of a hundred channels of TV programming directly from a geo-stationary satellite transmitter <b>102</b> orbiting the earth to a receiving antenna <b>104</b> mounted on or near each subscriber's house <b>106</b>. The programming stream is transmitted from the antenna via a cable (not shown) to a satellite receiving station <b>108</b> in the form of a set-top box (STB) in the subscriber's house <b>106</b>. The satellite receiving station (i.e., STB) <b>108</b> selects a channel and demodulates the signal for delivery to a monitor <b>110</b>, such as a television. Most DBS systems <b>100</b> are arranged such that data also can be sent in the upstream direction, that is, from the STB <b>108</b> to the DBS provider. In most DBS systems <b>100</b>, the STB <b>108</b> also is coupled to the telephone line and is designed and programmed to place telephone calls to the DBS service provider to periodically send information in the upstream direction. Such information commonly may comprise requests for Pay-Per-View (PPV) programs, requests for changes in the subscription (a request that one or more of premium channels be added to the service, etc.).</div>
<div class="description-paragraph" id="p-0070" num="0124">A CTV network <b>120</b>, such as digital cable network, transmits multiple channels of TV information from a head end or central office (HE/CO) <b>190</b> via a cable network <b>122</b>. Particularly, the channels are transmitted via cables <b>124</b>, such as fiber optic cables, to nodes <b>126</b>. The nodes are essentially switching/routing stations that service multiple homes (usually a few hundred). The nodes <b>126</b> route the signals to individual subscribers <b>128</b>. For digital cable, the individual subscribers <b>128</b> will have STBs <b>130</b> that select a particular channel from the transmit stream, demodulate it and forward it for display on one or more monitors (i.e., televisions) <b>132</b>. Upstream information may be sent from the STB <b>130</b> to the HE/CO <b>190</b> via a dedicated upstream channel over the cable. In cable systems that do not support two-way communication, the upstream “channel” can be through the telephone as described above in connection with DBS systems <b>100</b>.</div>
<div class="description-paragraph" id="p-0071" num="0125">A VDSL system <b>150</b> transmits TV programming over the regular telephone network.</div>
<div class="description-paragraph" id="p-0072" num="0126">Particularly, TV signals are transmitted from a broadband distribution terminal (BDT) <b>152</b> within the HE/CO <b>190</b> via cables <b>154</b>, such as fiber optic cables, to a universal service access multiplexer (USAM) <b>156</b> that delivers the data to multiple individual subscriber households <b>160</b> via regular telephone twisted wire pair <b>158</b> using VDSL modems and protocols. The USAM <b>156</b> receives a wide bandwidth signal comprising some or all of the television channels. However, because of the bandwidth limitations of twisted pair wire, typically only about one channel of television programming at a time can be delivered from the USAM <b>156</b> to the household. Accordingly, the subscriber has a STB <b>162</b> that is similar in functionality to the previously discussed STBs for DBS and CTV, except that when the user changes channels such as by operating a remote control, the remote channel change signal is received by the STB <b>162</b> and transmitted to the USAM <b>156</b> which switches the channel for the user and begins sending the newly selected channel to the household. Such systems are known as SDV systems. SDV systems are essentially fully modern asynchronous two-way communication networks. Accordingly, the STB <b>162</b> can transmit information upstream via the same VDSL modem that receives the downstream signals. SDV systems typically operate using an asynchronous transfer mode (ATM) protocol that is well-known in the networking arts.</div>
<div class="description-paragraph" id="p-0073" num="0127">In an alternative embodiment, the TV signals are transmitted from the BDT <b>152</b> to a broadband network unit (BNU) <b>164</b>. The BNU <b>164</b> delivers the data to individual households <b>160</b> using coaxial cable <b>166</b>.</div>
<div class="description-paragraph" id="p-0074" num="0128">It should be noted that STBs are described above with reference to <figref idrefs="DRAWINGS">FIG. 1</figref>. The current invention may be incorporated in an STB but may also be incorporated in other devices that can perform the same, similar, or additional functions. These devices may include, but are not limited to, TV, Video Cassette Recorder (VCR), Digital Video Recorder (DVR), Personal Video Recorder (PVR), Residential Gateway (RG), and computers. For simplicity the term STB will be used herewithin to cover all the various devices.</div>
<div class="description-paragraph" id="p-0075" num="0129"> <figref idrefs="DRAWINGS">FIG. 2A</figref> illustrates an exemplary system diagram and architecture of the current invention, according to one embodiment of the invention. As illustrated, the architecture includes a HE <b>210</b> and a STB <b>220</b>. The HE <b>210</b> delivers program content to the STB <b>220</b> and may receive commands, such as channel change commands, or viewer profiles <b>199</b> from the STB <b>220</b>. The HE <b>210</b> includes a communications manager <b>212</b>, a program database <b>214</b> and a profile database <b>216</b>. In one embodiment, the HE <b>210</b> also includes a compressor <b>218</b>. The communications manager <b>212</b> handles the communications with the STB <b>220</b>, including packaging and delivering program content to the STB <b>220</b> and receiving data, such as commands or profiles, from the STB <b>220</b>. The program database <b>214</b> stores information about the programs to be broadcast. The profile database <b>216</b> stores profiles for multiple households connected thereto. The profile database may group or cluster profiles according to similarity. The compressor <b>218</b> is used to compress program information prior to being transmitted to the STBs <b>220</b>.</div>
<div class="description-paragraph" id="p-0076" num="0130">The STB <b>220</b> receives program content from the HE <b>210</b> and delivers the program content to the TV, receives and processes commands from a viewer, and monitors the interactions of the viewer to generate viewer profile(s). The STB <b>220</b> includes a communications manager <b>222</b>, a user interface <b>224</b>, a profile engine <b>230</b>, profile filters <b>240</b>, a profile database <b>250</b>, a program database <b>260</b>, a clock <b>270</b>, and an event queue <b>280</b>.</div>
<div class="description-paragraph" id="p-0077" num="0131">The communications manager <b>222</b> handles the communications with the HE <b>210</b>. The communications manager <b>222</b> may receive program content or database downloads (i.e., program data, channel maps) from the HE <b>210</b> and may transmit commands (i.e., channel changes), profiles (i.e., updated), or other information including anonymous system statistics (i.e., audience measurements). The user interface <b>224</b> allows the viewer to interact with the STB <b>220</b>, for example, via a conventional remote control unit. The viewer interactions include, but are not limited to, channel and volume changes, EPG activity, and participation in interactive entertainment and advertisements.</div>
<div class="description-paragraph" id="p-0078" num="0132">The program database <b>260</b> stores program data including, but not limited to, name, network, time, and genre of programs being transmitted or to be transmitted from the HE <b>210</b>. The event queue <b>280</b> stores both viewer-generated events and internal events. Viewer-generated events include viewer interactions as mentioned above. Internal events include, but are not limited to, the end of a program or the end of a day part. The clock <b>270</b> runs independently within the system. The clock <b>270</b> is used to mark the time that the viewer generated events occur and to trigger internal events, such as, program changes, end of day parts, and change of day. The events are dispatched from the event queue <b>280</b> to the profiling engine <b>230</b> based on the clock <b>270</b>.</div>
<div class="description-paragraph" id="p-0079" num="0133">The profile engine <b>230</b> accepts events from the event queue <b>280</b> and, if applicable, retrieves program data related to a selected program from the program database <b>260</b>. The profile engine <b>230</b> in conjunction with the profile filters <b>240</b>, processes the events to produce the viewer profiles <b>199</b> which are then stored in the profile database <b>250</b>. Each of the profile filters <b>240</b> handles a single profile element (as will be described further herein).</div>
<div class="description-paragraph" id="p-0080" num="0134">It should be noted that typical STBs likely include some type of user interface and network interface (i.e., communications manager). The communications manager <b>222</b> and the user interface <b>224</b> may be typical components of a STB or slight modifications thereof. Also, the clock <b>270</b> may be standard component of a STB. The profile database <b>250</b>, the program database <b>260</b> and the event queue <b>280</b> may be a single memory device or may be separate memory devices. The profile engine <b>230</b> and the profile filters are resident software applications stored and running on the STB <b>220</b>. As one of ordinary skill in the art would know, there are numerous variations of this architecture that are well within the scope of the current invention.</div>
<div class="description-paragraph" id="p-0081" num="0135">The term program data in the context of the present invention is meant to include and encompass one or more subsets of information, which identifies, describes and generally characterizes specific television programs and television networks, categories of programs and networks, etc. Program data can be readily obtained from several commercial enterprises including TVData of Glen Falls, N.Y. In a preferred embodiment, program data is used in order to be able to characterize what program and networks are viewed, surfed, or the like. For instance, program data is used to convert channel, date, and time into a program name and content type. This information determines the types of programs that are preferred by a household and how long certain programs hold their attention.</div>
<div class="description-paragraph" id="p-0082" num="0136">In a preferred embodiment, the HE <b>210</b>, or other upstream system, generates and stores the program database <b>214</b> and transmits relevant program data to the STB <b>220</b>. According to one embodiment, the relevant program data are placed on a download carousel, where they are transmitted in their entirety to the STB <b>220</b>. Alternatively, the relevant program data can be downloaded periodically in smaller increments. In another embodiment, the program data is transmitted with the programs. For example, the program data is transmitted within the vertical blanking interval (VBI) or the program specific information (PSI) of a transport stream, such as, a Motion Picture Expert Group (MPEG-2) transport stream. It should be understood however, that many alternate methods for getting the program data exist and the utility and scope of the present invention is not limited by how the data is obtained.</div>
<div class="description-paragraph" id="p-0083" num="0137">In one embodiment, the HE <b>210</b> aggregates the program data by cable supplier, date, time, and television network to produce a variety of tables. These tables or a variation thereof are downloaded to the STB <b>220</b>. Furthermore, the STB <b>220</b> may receive program data in one format and subsequently process the downloaded program data to produce other tables and alternate formats. As will be evident to those skilled in the art, the format of the program data at the HE <b>210</b>, the format by which it is downloaded to the STB <b>220</b>, and the format of the program data stored at the STB <b>220</b> can be widely variable. The invention is in no way limited to the specific formats discussed and illustrated below.</div>
<div class="description-paragraph" id="p-0084" num="0138"> <figref idrefs="DRAWINGS">FIG. 2B</figref> depicts a context diagram of a Viewer Characterization and Profiling System (VCPS) <b>290</b> according to one embodiment of the invention. The VCPS <b>290</b> monitors interactivity <b>291</b> of one or more viewers <b>292</b> with the TV. The interactivity includes, but is not limited to, channel changes, volume changes, EPG activity, and power on/off events. According to one embodiment, the VCPS <b>290</b> generates one or more viewer profiles <b>293</b> (session profiles <b>294</b> and signature profiles <b>295</b>) based on the interactivity. The viewer profiles <b>293</b> identify characteristics about one or more categories of viewing habits of the user, including but not limited to, channel change rate, dwell time, amount of TV watched, volume habits, and EPG habits. According to another embodiment, the VCPS <b>290</b> uses program data <b>296</b>, such as program and network information <b>297</b> (i.e., stored in program database <b>260</b>), to further define the viewer profiles <b>293</b> to include viewing preferences related to specific networks, program types, and programs. According to another embodiment, the VCPS <b>290</b> utilizes heuristic rules <b>298</b> to further define the viewer profiles to infer preferences and demographic traits of the viewer.</div>
<div class="description-paragraph" id="p-0085" num="0139">The session profiles <b>294</b> identify characteristics about the user (or group of users) for that particular viewing session. The signature profiles <b>295</b> are a compilation of closely related session profiles <b>294</b> (are associated with the same user or group of users). The VCPS <b>290</b> can identify which user (or group of users) are interacting with the TV by correlating the current session profile <b>294</b> with one or more signature profiles <b>295</b>. The session profile <b>294</b> is identified with the signature profile <b>295</b> having the highest correlation, as long as it meets a predefined correlation threshold. The identification is an identification of preferences and not necessarily an actual identification of the user (or users). The viewer profiles <b>293</b> can be used for a variety of purposes including, but not limited to, delivering targeted content including advertising and for distinguishing a particular viewer from a household of multiple viewers.</div>
<div class="description-paragraph" id="p-0086" num="0140"> <figref idrefs="DRAWINGS">FIGS. 3A and 3B</figref> illustrate an exemplary channel map table format and channel map table that may be stored in the program database <b>214</b>. As illustrated in <figref idrefs="DRAWINGS">FIG. 3A</figref>, the channel map table format includes for each field a column for name <b>300</b>, type <b>302</b> (i.e., integer, string), size <b>304</b> (number of bytes), flags <b>306</b>, and description <b>308</b>. The fields captured in the channel map table include user perceived channel indicator (UPCI) <b>310</b> and broadcast program ID (BpID) <b>312</b>, which are both required 2 byte integers. The UPCI <b>310</b> is the channel number illustrated on the front panel of the STB <b>220</b> and the BpID <b>312</b> is a service provider's reference number for a particular network or presentation stream. As illustrated in <figref idrefs="DRAWINGS">FIG. 3B</figref>, the table simply converts the UPCI <b>310</b> that the viewer recognizes into the BpID <b>312</b> that the HE <b>210</b> recognizes. For example, a UPCI of 02 is a BpID of 27.</div>
<div class="description-paragraph" id="p-0087" num="0141"> <figref idrefs="DRAWINGS">FIGS. 4A and 4B</figref> illustrate an exemplary network table format and network table that would be stored in the program database <b>214</b>. As illustrated in <figref idrefs="DRAWINGS">FIG. 4A</figref>, the network table format includes for each field a column for name <b>400</b>, type <b>402</b> (i.e., integer, string), size <b>404</b> (number of bytes), flags <b>406</b>, and description <b>408</b>. The fields captured in the network table include network ID (NET_ID) <b>410</b>, network name (NET_NAME) <b>412</b>, network call sign (NET_CALL) <b>414</b>, and network reference (NET_REF) <b>416</b>. Each of the fields has the characteristics defined in the table. For example, the NET_ID <b>410</b> is a 4-byte long integer that is a unique and required field. <figref idrefs="DRAWINGS">FIG. 4B</figref> illustrates how for each NET_NAME <b>412</b> and NET_CALL <b>414</b> there is a unique NET_ID <b>410</b> assigned and potentially a unique NET_REF <b>416</b>. For example, WHYY FOX Philadelphia is assigned a NET_ID of 0001, but does not have a NET_REF.</div>
<div class="description-paragraph" id="p-0088" num="0142"> <figref idrefs="DRAWINGS">FIG. 5A</figref> illustrates an exemplary BpID table format for a BpID table that would be stored in the program database <b>214</b>. As illustrated, the BpID table format includes a column for name <b>500</b>, type <b>502</b>, size <b>504</b>, flags <b>506</b>, and description <b>508</b>. The fields captured in the BpID table include a unique record ID (BID_ID) <b>510</b>, the BpID (BID_BPID) <b>512</b>, a broadcast domain number (BID_BDMNUM) <b>514</b>, and the NET_ID (BID_NETID) <b>516</b>. Both the BID_BDMNUM <b>514</b> and the BID_NETID <b>516</b> are foreign keys that point to the network table (<figref idrefs="DRAWINGS">FIG. 4B</figref>) and a broadcast table (not illustrated) respectively. <figref idrefs="DRAWINGS">FIG. 5B</figref> illustrates an exemplary BpID table.</div>
<div class="description-paragraph" id="p-0089" num="0143"> <figref idrefs="DRAWINGS">FIG. 6A</figref> illustrates an exemplary program table format for a program table that would be stored in the program database <b>214</b>. As illustrated, the program table format includes a column for name <b>600</b>, type <b>602</b>, size <b>604</b>, flags <b>606</b>, and description <b>608</b> columns. The fields captured in the program table include a unique program ID (PRG_ID) <b>610</b>, program start time (PRG_START) <b>612</b>, program end time (PRG_END) <b>614</b>, the NET_ID (PRG_NETID) <b>616</b>, and program title (PRG_TITLE) <b>618</b>. The program table contains the program data provided by, for example, TVData. As such, the program table should also include the program type and program category (not illustrated) that TVData uses to classify programs. <figref idrefs="DRAWINGS">FIG. 6B</figref> illustrates an exemplary program table.</div>
<div class="description-paragraph" id="p-0090" num="0144">As would be understood by those of ordinary skill in the art, the STB <b>220</b> will likely not have sufficient memory to store the entire program database <b>214</b> in the program database <b>260</b>. As such, either the HE <b>210</b> will modify the program database <b>214</b> and transmit the modified database to the STB <b>220</b> or the HE <b>210</b> will transmit the entire program database <b>214</b> and the STB <b>220</b> will process the data and store a modified version thereof. In either event, exemplary headers and table formats for the STB <b>220</b> are discussed below.</div>
<div class="description-paragraph" id="p-0091" num="0145">Within the STB <b>220</b> the channel map and the network tables can be combined into a single table that would be specific to a local service domain or zone. <figref idrefs="DRAWINGS">FIG. 7A</figref> illustrates an exemplary channel map header format. As illustrated, the channel map header format includes for each field a column for name <b>700</b>, type <b>702</b> (i.e., integer, string), size <b>704</b> (number of bytes), flags <b>706</b>, and description <b>708</b>. The fields captured in the channel map header include channel map version (version) <b>710</b>, number of records in the channel map (count) <b>712</b> and size in bytes of the record (size) <b>714</b>.</div>
<div class="description-paragraph" id="p-0092" num="0146"> <figref idrefs="DRAWINGS">FIG. 7B</figref> illustrates an exemplary channel map record format. As illustrated, the channel map record format also includes a column for name <b>700</b>, type <b>702</b>, size <b>704</b>, flags <b>706</b>, and description <b>708</b>. The fields captured in the channel map record include UPCI <b>730</b>, BpID <b>732</b>, network call sign (netcall) <b>734</b>, network reference number (netref) <b>736</b>, and an index of the network in a program table (netidx) <b>738</b>. The netidx <b>738</b> has a different meaning based on whether the program database <b>260</b> has a fixed or variable number of records (discussed below). As one skilled in the art would recognize, the channel map table size would be the number of presentation streams multiplied by the record size plus the header size. As illustrated the header is 6 bytes and the record is 24 bytes, so if there were 200 presentation streams the channel map table would be 4806 bytes.</div>
<div class="description-paragraph" id="p-0093" num="0147">A program table within the STB <b>220</b> may be either a fixed or variable length table. For a fixed length program table the time period covered will be divided into time slots of equal length, for example, 5 minutes, 10 minutes, 30 minutes. As would be obvious to one skilled in the art the granularity depends on the amount of storage in the STB <b>220</b>. The fixed length program table stores information about the programs appearing in those slots for each of the networks. It is possible that one network may have multiple programs during a single time slot. In those cases, the program table captures the program that airs for the majority of the time slot. For example, <figref idrefs="DRAWINGS">FIG. 8</figref> illustrates an exemplary program schedule displaying programs <b>800</b> airing for each of three networks <b>810</b> for the 8:00 to 8:30 time slot <b>820</b>. While ESPN and CNN each only have one program during this time slot, TBS has two different programs airing in this time slot, since TBS programs are aired at 5 and 35 minutes past the hour. The program data table would assign Ripley's Believe It or Not! to the 8:00 time slot since it covers 25 of the 30 minutes of that slot.</div>
<div class="description-paragraph" id="p-0094" num="0148">The fixed record size and fixed slot size allow the VCPS <b>290</b> to very rapidly locate the program information for the network at the given time. The fixed length program table is also easily divided into one or two hour increments. This enables the program data for the current time to be transmitted to the STBs <b>220</b> quickly and often. In a fixed length table, each network has only one entry per time slot. The program data is found by locating the start of the time slot corresponding to the event time and adding the netidx <b>738</b>.</div>
<div class="description-paragraph" id="p-0095" num="0149"> <figref idrefs="DRAWINGS">FIG. 9A</figref> illustrates an exemplary fixed length program header format. As illustrated, the fixed length program header format includes for each field a column for name <b>900</b>, type <b>902</b>, size <b>904</b>, flags <b>906</b>, and description <b>908</b>. The fields captured in the fixed length program header include program table version number (version) <b>910</b>, number of minutes per slot (slotsize) <b>912</b>, number of slots (slotcount) <b>914</b>, starting date/time of the program table (startdate) <b>916</b>, and number of networks per slot (netcount).</div>
<div class="description-paragraph" id="p-0096" num="0150"> <figref idrefs="DRAWINGS">FIG. 9B</figref> illustrates an exemplary fixed length program record format. As illustrated, the fixed length program record format also includes a column for name <b>900</b>, type <b>902</b>, size <b>904</b>, flags <b>906</b>, and description <b>908</b>. The fields captured in the fixed length program record include network reference number (netref) <b>930</b>, program type (type) <b>932</b> and the program ID (prgid) <b>934</b>. The netref <b>930</b> verifies that the channel map corresponds to the program table by requiring that this field match the like-named netref field <b>736</b> in the channel map corresponding to the network reference number. The prgid <b>934</b> is a host-assigned unique program ID, and is used to calculate the holding factor for programs. Programs that are the same, even if aired at different times, will have the same prgid <b>934</b>. The type <b>932</b> contains the type or category of the program corresponding to the prgid <b>934</b>.</div>
<div class="description-paragraph" id="p-0097" num="0151">As one skilled in the art would recognize, the fixed length program table size would be approximately 96K for 200 channels having 30 minute time slots and 24 hours of data (200 channels*10 bytes/time slot/channel*48 time slots). If the program table size was too large, the time slots could be increased, the amount of time captured for in the table could be decreased, the netref <b>930</b> could be removed so that the verification wasn't performed or other modifications that would be obvious to one of ordinary skill in the art.</div>
<div class="description-paragraph" id="p-0098" num="0152">A variable length program table is particularly useful when the accuracy of exactly what program is being viewed is of critical importance. The variable length program table includes a variable length program header (<figref idrefs="DRAWINGS">FIG. 10A</figref>), a variable length network header (<figref idrefs="DRAWINGS">FIG. 10B</figref>), and one or more variable length data records (<figref idrefs="DRAWINGS">FIG. 10C</figref>).</div>
<div class="description-paragraph" id="p-0099" num="0153"> <figref idrefs="DRAWINGS">FIG. 10A</figref> illustrates an exemplary variable length program header format. As illustrated, the variable length program header format includes for each field a column for name <b>1000</b>, type <b>1002</b>, size <b>1004</b>, flags <b>1006</b>, and description <b>1008</b>. The fields captured in the variable length program header include a program table version number (version) <b>1010</b>, starting date and time of the program table (startdate) <b>1012</b>, duration of the program table (duration) <b>1014</b>, and number of networks (netcount) <b>1016</b>.</div>
<div class="description-paragraph" id="p-0100" num="0154"> <figref idrefs="DRAWINGS">FIG. 10B</figref> illustrates an exemplary variable length network header format. As illustrated, the variable length network header format includes fields for network reference number (NETREF) <b>1020</b>, and number of programs for the network (count) <b>1022</b>.</div>
<div class="description-paragraph" id="p-0101" num="0155"> <figref idrefs="DRAWINGS">FIG. 10C</figref> illustrates an exemplary variable length data record format. As illustrated, the variable length data record format includes for each program a start time (start) <b>1030</b>, which is expressed as difference from the startdate <b>1012</b>, duration of program (duration) <b>1032</b> measured in minutes, program type (type) <b>1034</b>, and a program ID (prgid) <b>1036</b>.</div>
<div class="description-paragraph" id="p-0102" num="0156">In a variable length table, all program data for a single network is specified prior to moving on to the next network. The netidx <b>738</b> provides the location for the start of the program data for that network. The program information is then sequentially searched to locate the program time that corresponds to the event. A variable length program table provides the VCPS <b>290</b> the most exact data about the programs. Since the number of records is variable, the exact table size is unknown. As would be obvious to one of ordinary skill in the art, the data sizes of the program records can be reduced at the cost of flexibility and accuracy.</div>
<div class="description-paragraph" id="p-0103" num="0157"> <figref idrefs="DRAWINGS">FIG. 11</figref> illustrates an exemplary logic flow of how user interactions are captured by the VCPS <b>290</b>. The user interface <b>224</b> receives user interactions <b>1100</b>, such as, channel changes <b>1102</b> and power on/off <b>1104</b>, and forwards these interactions <b>1100</b> to the event queue <b>280</b>. The event queue <b>280</b> captures these viewer interactions <b>1100</b> and time stamps them according to the time <b>1110</b> provided by the clock <b>270</b>. The clock <b>270</b> is also used to initiate internal events <b>1120</b>, such as, change of day part (not illustrated), and end of show <b>1122</b>, and these internal events <b>1120</b> are also stored in the event queue <b>280</b>. As illustrated, the event queue <b>280</b> includes four entries, each entry identifying the time <b>1110</b> and the type of event. For example, the first event was a channel change <b>1102</b> that occurred at <b>10</b>:<b>29</b>:<b>55</b>. The entries from the event queue <b>280</b> and the time <b>1110</b> from the clock <b>270</b> are provided to the profile engine <b>230</b>. In a preferred embodiment, the entries are taken in time order (i.e., first in, first out).</div>
<div class="description-paragraph" id="p-0104" num="0158"> <figref idrefs="DRAWINGS">FIG. 12</figref> illustrates an exemplary class diagram of how the click stream of a viewer is processed to generate a viewer profile. A ClickStreamManager <b>1210</b> manages a ClickEventListener <b>1220</b>, a ClickStreamProcessor <b>1230</b>, and a ProgramContentManager <b>1240</b>. The ClickEventListener <b>1220</b> listens for events, both internal and via the user interface, and time stamps the event with the time provided by a clock <b>1250</b>. As one of ordinary skill in the art would recognize, internal events, such as change of day part, change of day, and end of program, are not related to the click stream of a viewer but may still be captured by the ClickEventListener <b>1220</b> and processed by the other components of the exemplary class diagram of <figref idrefs="DRAWINGS">FIG. 12</figref>.</div>
<div class="description-paragraph" id="p-0105" num="0159">The ClickStreamProcessor <b>1230</b> retrieves events from the ClickEventListener <b>1220</b> and, if applicable, requests program data for a selected program from the ProgramContentManager <b>1240</b>. The ProgramContentManager <b>1240</b> retrieves the applicable program data from ProgramContent <b>1270</b>. The program data includes, but is not limited to, program title, program genre, program category, and network. The ClickStreamProcessor <b>1230</b> then processes the events and, if applicable, program data utilizing ClickStreamFilters <b>1260</b> to filter events such that only the appropriate event types are used in generating profile categories.</div>
<div class="description-paragraph" id="p-0106" num="0160">The ClickStreamFilters <b>1260</b> direct and add data to the relevant profile category to generate or update a Profile <b>1290</b> comprising multiple profile categories. Such categories, as described further herein, include preferred networks, preferred programs, viewing duration, channel change frequency, and holding factor. The ClickStreamProcessor <b>1230</b> also generates a ClickEventRecord <b>1295</b>, which is a record of events for a given session or other time period.</div>
<div class="description-paragraph" id="p-0107" num="0161">In one embodiment, the ClickStreamProcessor <b>1230</b> will continually poll the ClickEventListener <b>1220</b> for the next event. If no events have been triggered, the ClickStreamProcessor <b>1230</b> will sleep for a short period of time. Otherwise, the ClickStreamProcessor <b>1230</b> will handle an event and then immediately check for the next event. Event processing is based on the event time. According to this embodiment, the ClickStreamProcessor <b>1230</b> handles events, such as channel change and power on/off events, from the remote control to dynamically update a viewer's profile. Thus, the ClickStreamProcessor <b>1230</b> spends most of its time polling the ClickEventListener <b>1220</b> for new events. When an event occurs, the ClickStreamProcessor <b>1230</b> passes the ClickStreamFilters <b>1260</b> (an array of profile filters), which extract specific data for the household or viewer profile.</div>
<div class="description-paragraph" id="p-0108" num="0162">Referring back to <figref idrefs="DRAWINGS">FIG. 2A</figref>, the profile filters <b>250</b> are a set of components that implement an interface and provide mechanisms to profile the viewer based on viewer interaction with the television. Each event that occurs, whether viewer interaction or an internal event, is passed to each profile filter <b>250</b>. Each profile filter <b>250</b> determines whether or not the event is relevant to the data the profile filter <b>250</b> is tracking. Each filter performs an aspect of profiling. For example, one filter may track average channel change frequency while another tracks preferred content.</div>
<div class="description-paragraph" id="p-0109" num="0163">In a preferred embodiment, profiles generated by the VCPS <b>290</b> include multiple profile categories, each category reflecting distinct relevant characteristics about a viewer's viewing preferences and habits. Examples of profile categories include, but are not limited to:
</div> <ul> <li id="ul0005-0001" num="0000"> <ul> <li id="ul0006-0001" num="0164">preferred programs—measure of the amount of time a viewer(s) watch a particular program or program category;</li> <li id="ul0006-0002" num="0165">preferred networks—measure of the amount of time viewer(s) watch a particular network;</li> <li id="ul0006-0003" num="0166">viewing duration—amount of viewing time per viewing session;</li> <li id="ul0006-0004" num="0167">channel change frequency—average number of channel changes per time period;</li> <li id="ul0006-0005" num="0168">holding factor per program or program category—how much of an entire program or program category a household or individual watches; and</li> <li id="ul0006-0006" num="0169">surf sequence—typical order networks are visited in a surf routine.</li> </ul> </li> </ul>
<div class="description-paragraph" id="p-0110" num="0170">As one of ordinary skill in the art would recognize, there are numerous other profile categories that could be included that would fall within the scope of the current invention. The current invention is in no way not limited to the categories described herein.</div>
<div class="description-paragraph" id="p-0111" num="0171">In order to generate a preferred programs profile, the VCPS <b>290</b> collects information (characterizations) about the programs that a viewer or household watches. The characterizations about the programs may include, but is not limited to, types, categories, genres, or some combination thereof. In a preferred embodiment, the characterizations will include genre and category for each program. The genre is a consistent high-level classification of a program (i.e., a generic set of program types or categories), such as sports, comedy, drama, etc. A category is a sub-class of the genre classification that is a more specific classification than the genre.</div>
<div class="description-paragraph" id="p-0112" num="0172"> <figref idrefs="DRAWINGS">FIG. 13</figref> illustrates an exemplary subset of genres <b>1310</b> and categories <b>1320</b> as defined by the VCPS <b>290</b>. As illustrated, a comedy genre includes categories for movie, network series, syndicated, and TV movie. As one of ordinary skill in the art would recognize, the number and type of genres <b>1310</b>, the number and type of categories <b>1320</b>, and the relationship therebetween can be modified without departing from the scope of the current invention.</div>
<div class="description-paragraph" id="p-0113" num="0173">The program genre and categories may be defined by the VCPS <b>290</b>, received from a service provider (e.g., TVData), or derived from a service provider. In a preferred embodiment, program characterizations are obtained from, for example, TVData and these characterizations are converted into genre and category. TVData provides a program type and category for each category and these characterizations are translated (e.g., mapped) into the program classifications of genre and category.</div>
<div class="description-paragraph" id="p-0114" num="0174"> <figref idrefs="DRAWINGS">FIG. 14</figref> illustrates an exemplary conversion of program type <b>1400</b> and program category <b>1410</b> provided by TVData converted to program genre <b>1420</b> and program category <b>1430</b> in the VCPS <b>290</b>. For example, a TVData program type “SY” (syndicated) and category “comedy” maps to a VCPS genre “comedy” and type “syndicated”. The TVData category is not necessarily a subset of the type. Moreover, a “*” indicates a “match all” meaning that the type or category matches all categories or types respectively. The VCPS <b>290</b> types are a subset of the genre.</div>
<div class="description-paragraph" id="p-0115" num="0175">The VCPS <b>290</b> tracks the total number of seconds that a viewer watches particular program categories (genres). The VCPS <b>290</b> responds to all channel change and power on/off events. When a channel change occurs, the VCPS <b>290</b> records the time and network, and locates the program's characteristics from the program table. When the next channel change occurs, the VCPS <b>290</b> notes the elapsed time and stores that elapsed time in an array. Because it is possible that a program will end prior to a channel change, the VCPS <b>290</b> saves the elapsed time to the appropriate program category (genre) and then gets the program information for the program that is about to air such that when a channel change or power off event occurs the appropriate time spent on each program category will be accurate.</div>
<div class="description-paragraph" id="p-0116" num="0176">The VCPS <b>290</b> may also track the preferred program categories (genres) of the household by day or day part. A day part is a range of time during the day that is used by advertisers to characterize viewers. The VCPS <b>290</b> can create an event for a day part by saving elapsed time to the specific day part and generating a new event for the next day part.</div>
<div class="description-paragraph" id="p-0117" num="0177"> <figref idrefs="DRAWINGS">FIG. 15</figref> illustrates an exemplary process flow for processing genre data in order to generate a viewer profile. The process starts when a new event is detected and is passed to the genre filter at step <b>1501</b>. A check is made as to whether or not the event is a power on event or a new session event at step <b>1503</b>. If yes at step <b>1503</b>, the current session data up to that point is cleared at step <b>1505</b>, and the current channel and event time are saved (i.e., stored in memory for the new session) at step <b>1507</b>. If no at step <b>1503</b>, then the actual program data associated with the channel tuned to at the event time is obtained at step <b>1509</b>. The genre for the particular program is then determined, utilizing the program data, at step <b>1511</b>. The total genre viewing time is calculated at step <b>1513</b>. The current session profile is then updated to reflect the total genre viewing time for that session at step <b>1515</b>. The current channel and event time are then saved at step <b>1507</b>. The processing of the event is then complete (step <b>1517</b>).</div>
<div class="description-paragraph" id="p-0118" num="0178"> <figref idrefs="DRAWINGS">FIG. 16</figref> illustrates an exemplary preferred program category (genre) profile <b>1600</b>, reflecting the top five program categories (genres) chosen by this viewer and the associated relative durations that those program categories were watched. The category profile <b>1600</b> includes program type (genre) <b>1610</b>, duration <b>1620</b> (total time spent viewing each program type <b>1610</b> in HH:MM:SS format), percent <b>1630</b> (percentage of the total viewing time spent viewing that the particular program type) and a bar graph <b>1640</b> reflective of the percent <b>1630</b>, or the duration <b>1620</b>, or both for each program type <b>1610</b>. As illustrated, the number one program type (genre) <b>1610</b> is shopping, which this particular viewer has viewed over 30% of the time.</div>
<div class="description-paragraph" id="p-0119" num="0179">Note that this example profile is an aggregated profile comprising more than a week's worth of data. A similar session profile comprising a much smaller span of viewing time may also be obtained by the VCPS <b>290</b>. As one of ordinary skill in the art would recognize, there are numerous other formats of this graph that would be well within the scope of the current invention. For example, the bar graphs <b>1640</b> could be a pie chart or the chart could be further broken out by day or day part.</div>
<div class="description-paragraph" id="p-0120" num="0180"> <figref idrefs="DRAWINGS">FIG. 17</figref> illustrates an exemplary graphical representation of the genre profile of a viewer based on viewing time of each genre. The genres <b>1700</b> (i.e., art, entertainment) are displayed along the horizontal axis and the viewing duration (time) <b>1720</b> is displayed along the vertical axis. In the exemplary illustration, the total viewing time <b>1730</b> is identified in the upper right hand corner. As illustrated, the entertainment genre is watched the most at approximately 10 hours of the total of nearly 23 hours of programming that have been monitored. As one of ordinary skill in the art would recognize, the graph could have different styles, formats, or orientations, or could be a table or other representation, without departing from the scope of the current invention. For example, the graph could be further broken out by day or day part.</div>
<div class="description-paragraph" id="p-0121" num="0181">As previously discussed, program categories <b>1320</b> are more specific than genres <b>1310</b> and therefore provide for increased granularity. The VCPS <b>290</b> also tracks program categories <b>1320</b> in the same fashion as it tracks program genre <b>1310</b>. An exemplary graphical representation of the program category profile is not illustrated. However, as one of ordinary skill in the art would recognize, the graph of the program category profile would be similar to the genre profile illustrated in <figref idrefs="DRAWINGS">FIG. 17</figref> except that it would have more data points and each data point would likely account for less time. In one embodiment, all the program categories may be illustrated on one graph. In an alternative embodiment, a separate graph may be illustrated for each genre. According to one embodiment, the program category profile can be broken out by, for example, day part.</div>
<div class="description-paragraph" id="p-0122" num="0182">A viewer type profile estimates what type of viewer (i.e., man, woman or child) is watching a particular program. In one embodiment, the VCPS <b>290</b> uses program classifications (genre/category) and day part information to derive the estimates. <figref idrefs="DRAWINGS">FIG. 18A</figref> illustrates an exemplary table of probabilities of the viewer type based on the genre/category of programs. The table includes a genre/category column <b>1810</b> and columns associated with the probability of a viewer of a program having that genre/category being a male <b>1812</b>, a female <b>1814</b> or a child <b>1816</b>. As illustrated in the exemplary table, the probability of a man watching an action/movie is 40%, while the probability is 30% for woman and children.</div>
<div class="description-paragraph" id="p-0123" num="0183">The VCPS <b>290</b> may adjust the probability data based on the day part. For example, because the probability that a daytime viewer is a man is lower than the probability that the viewer is a woman or a child, this fact results in an adjusted and reduced probability that the daytime viewer is male. <figref idrefs="DRAWINGS">FIG. 18B</figref> illustrates an exemplary day part adjustment table, according to one embodiment. The table includes a day part column <b>1820</b> and adjustment columns for men <b>1822</b>, women <b>1824</b>, and children <b>1826</b>. The adjustment factor is multiplied by the probability defined in the table of <figref idrefs="DRAWINGS">FIG. 18A</figref> to determine an adjusted probability. An adjustment value of 1.0 indicates that no adjustment is required, while values smaller than 1.0 will adjust the probability downwards, and values larger than 1.0 will adjust the probability upwards. For example, the adjustment factor for weekdays between 09:00-16:00 is 0.3, 0.9 and 1.0, for men, women and children respectively.</div>
<div class="description-paragraph" id="p-0124" num="0184">As one of ordinary skill in the art would recognize, applying the adjustment factor will likely mean that the sum of the probabilities for a particular day part will not equal 1.0. <figref idrefs="DRAWINGS">FIG. 18C</figref> illustrates an exemplary table for normalizing the probabilities. The table includes columns for viewer type <b>1830</b> (man, woman, child), for adjusted probability <b>1840</b>, adjusted sum <b>1850</b>, and normalized probability <b>1860</b>. Using a viewer watching an action movie (respective probabilities of 0.4, 0.3 and 0.3 from <figref idrefs="DRAWINGS">FIG. 18A</figref>), during daytime hours (respective adjustments of 0.3, 0.9, 1 from <figref idrefs="DRAWINGS">FIG. 18B</figref>) the viewer has an adjusted probability of 0.12, 0.27 and 0.3 of being a man, women or child respectively (see column <b>1840</b>). As illustrated, the adjusted sum <b>1850</b> is 0.69 and the normalized probabilities <b>1860</b> are 0.174, 0.391 and 0.435 respectively.</div>
<div class="description-paragraph" id="p-0125" num="0185">The distinction of a viewer type by gender, as described above, can be readily extended to other viewer types and demographics, and in general any set of heuristic rules or probabilities can be applied to the viewer interactivity data to generate predicted viewer traits and demographics, as will be evident to those skilled in the art. The present invention is not meant to be limited to distinguishing three viewer types as described, but could include additional sets of rules and probabilities which, in conjunction with viewer interactivity data, can be used to derive or infer viewer demographics and other attributes.</div>
<div class="description-paragraph" id="p-0126" num="0186"> <figref idrefs="DRAWINGS">FIG. 19</figref> illustrates an exemplary table of conditional probabilities of the likely viewer demographic makeup for different program categories (genres). The table includes different demographic groups <b>1910</b> (i.e., age, income) for different program categories <b>1920</b> (i.e., news, fiction). Each demographic group <b>1910</b> has numerous categories <b>1930</b> defined thereunder (i.e., ages 0-10, 10-18). Each cell in the table contains a conditional probability that represents the likelihood that the viewer or viewing group watching a particular category (genre) of program <b>1920</b> is within a particular category <b>1930</b> for each demographic group <b>1910</b>. For example, as illustrated there is a 10% chance that a viewer watching the news will be between the ages of 0-10. As will be evident to those of ordinary skill in the art, other sets of rules and probabilities could also be utilized without departing from the scope of the present invention.</div>
<div class="description-paragraph" id="p-0127" num="0187">In order to generate a preferred network profile, the VCPS <b>290</b> tracks the networks that are most watched by each viewer or household. <figref idrefs="DRAWINGS">FIG. 20</figref> illustrates an exemplary preferred networks profile <b>2000</b>, reflecting the top five networks <b>2010</b> chosen by this viewer, the associated percentage <b>2020</b> and relative duration <b>2030</b> those networks were watched. Horizontal bars <b>2040</b> also graphically illustrate the relative duration of network viewing. The VCPS <b>290</b> responds to all channel change and power on/off events. When a channel change occurs, the VCPS <b>290</b> records the time and network, and when the next channel change occurs, the VCPS <b>290</b> notes the elapsed time and stores that elapsed time in an array. The VCPS <b>290</b> may also track the preferred networks by day or day part. Note that this exemplary profile is an aggregated profile comprising more than a week's worth of data. A similar session profile comprising a much smaller span of viewing time may also be generated by the VCPS <b>290</b>.</div>
<div class="description-paragraph" id="p-0128" num="0188"> <figref idrefs="DRAWINGS">FIG. 21A</figref> illustrates an exemplary network viewership table broken out by day part. The day parts may be associated with a single day, weekdays, weekends, or other intervals that may be appropriate. As illustrated, the breakout is for weekdays. The network viewership table includes a network column <b>2110</b> and various day part columns <b>2120</b>. As illustrated, there is a total of eight-day parts having varying time durations associated therewith. The viewership duration for each day part for each network is recorded in the appropriate cell of the table. As illustrated, the time is in seconds, but could be in minutes, hours or other suitable time parameters. As one of ordinary skill in the art would recognize, the number and duration of the day parts could vary without departing from the scope of the current invention.</div>
<div class="description-paragraph" id="p-0129" num="0189"> <figref idrefs="DRAWINGS">FIG. 21B</figref> illustrates an exemplary graphical representation of viewership by network day part. The graph displays the total time <b>2130</b> (illustrated in hours) on the vertical axis and the channels (networks) <b>2140</b> illustrated on the horizontal axis.</div>
<div class="description-paragraph" id="p-0130" num="0190">A viewing duration profile is the average duration of each viewing session. This is useful for determining how much television a viewer or household watches at a time (e.g., per session). This information can help identify the households that do not watch television often. To collect statistics for this profile, the VCPS <b>290</b> responds to power on/off events. The VCPS <b>290</b> tracks the elapsed time between a power on event and a power off event. The VCPS <b>290</b> also generates an average duration of each session (i.e., average viewing duration for all viewing sessions).</div>
<div class="description-paragraph" id="p-0131" num="0191"> <figref idrefs="DRAWINGS">FIG. 22A</figref> illustrates an exemplary average viewing statistics profile <b>2200</b>. The profile <b>2200</b> includes average statistics for viewing duration <b>2210</b>, click frequency <b>2220</b>, and the holding factor <b>2230</b>. The viewing duration <b>2210</b> depicts the total amount of time (i.e., in minutes) of this particular viewing session. The click frequency <b>2220</b> depicts the frequency of channel changes during the particular viewing session. The holding factor <b>2230</b> is how much of an entire program a household watches and the average holding factor <b>2230</b> is the average of all the holding factors. No matter how many channel changes occur, the VCPS <b>290</b> will track the total time that each program is viewed.</div>
<div class="description-paragraph" id="p-0132" num="0192">The VCPS <b>290</b> also tracks viewing duration by day or day part. <figref idrefs="DRAWINGS">FIG. 22B</figref> illustrates an exemplary viewing duration profile by day part <b>2250</b>. The profile <b>2250</b> includes the total duration <b>2255</b> (i.e., in hours) that the profile <b>2250</b> is based on, a period column <b>2260</b> and day of week columns <b>2270</b>. The period column <b>2260</b> indicates the time of day, for example, as illustrated, the periods are each 4-hour periods of time (e.g., 8 pm to midnight). The days of week columns <b>2270</b>, illustrate each day of the week (e.g., Monday, Tuesday, etc.). The profile <b>2250</b> tracks the viewing duration (i.e., in hours) for each period of time for each day of the week. As illustrated, the greatest viewing duration was on Friday between the hours of 8 pm and midnight (e.g., 17 hrs).</div>
<div class="description-paragraph" id="p-0133" num="0193">A channel change frequency profile measures how often or rapidly a viewer or household changes channels. This information can be used to determine characteristics about the household and it can help differentiate individual users within the household. <figref idrefs="DRAWINGS">FIG. 23</figref> illustrates an exemplary channel change frequency by day part profile <b>2300</b>. The channel change frequency is expressed as the average number of channel changes per time period (i.e., 30 minutes). As illustrated, the profile <b>2300</b> includes the total number of channel changes (clicks) <b>2310</b>, a period column <b>2320</b>, and day of week columns <b>2330</b>. The number of clicks <b>2310</b> is recorded for a certain time period (e.g., one week). The period column <b>2320</b> includes time periods in which the channel changes are calculated (i.e., 4 pm to 8 pm). The day of week columns <b>2330</b> include a column for each day of the week (i.e., Monday, Tuesday, etc.). The profile <b>2300</b> tracks channel changes and calculates channel change frequency for a given day, during a given period of time. As illustrated, for Tuesday between 4 pm and 8 pm the channel change frequency calculated for that day part is illustrated as “0”. To collect statistics for this profile <b>2300</b>, the VCPS <b>290</b> responds to all channel change events, and collects the number of channel changes. The profile <b>2300</b> is then generated by calculating the average channel change rate for a predetermined period of time (e.g., 30 minutes).</div>
<div class="description-paragraph" id="p-0134" num="0194">A holding factor profile generally indicates relative interest levels in certain programs by a viewer or household. A holding factor is how much of an entire program a viewer or household watches. The VCPS <b>290</b> tracks the total time that each program is viewed. <figref idrefs="DRAWINGS">FIG. 24</figref> illustrates an exemplary holding factor profile <b>2400</b> for an example household for specific programs. For each program title <b>2405</b>, a holding factor <b>2420</b> along with the viewing duration <b>2415</b> (i.e., in seconds) and dwell time <b>2410</b> (i.e., in seconds) for a sample household is illustrated. The average holding factor takes into account the total time a particular program is watched for the entire duration of the program. For example, an hour-long program airs on channel A. Assuming a household watches channel A for 20 minutes, then changes to another channel for 10 minutes, then returns to channel A for 20 minutes, and finally turns the STB <b>220</b> off. The holding factor <b>1220</b> for the program on channel A is 40/60=66.7%. Note that in this example the holding factor is the total time spent viewing an individual program. For holding factors that are tracked by individual programs, a program reference number identifies each program. The VCPS <b>290</b> stores the program reference number in the program table. The VCPS <b>290</b> responds to power on/off events, channel change events, end of program events, and end of day part events. It is to be understood that the holding factor profile <b>2400</b> could also be applied to networks, program categories, genres, etc, and is not limited to specific program.</div>
<div class="description-paragraph" id="p-0135" num="0195">A channel search sequence is the order that the viewer typically visits specific networks, and this may be tracked by day part. The VCPS <b>290</b> tracks the order the networks are typically visited by averaging the visit position of each network over a series of channel surf sequences. This is quite useful for profiling and viewer identification as there may be certain channels that a particular viewer typically watches, or a specific surf sequence a particular viewer may perform.</div>
<div class="description-paragraph" id="p-0136" num="0196"> <figref idrefs="DRAWINGS">FIG. 25A</figref> illustrates an exemplary table with data related to surf sequence channel order being captured and processed. The table includes a column for networks <b>2500</b>, channel surf sequences <b>2510</b>, <b>2520</b>, <b>2530</b> and a typical search order <b>2540</b>. The networks column <b>2500</b> lists networks that are desirable to track. As illustrated five networks are tracked (CNN, ESPN, HIST, TBS, TLC). The channel surf sequence columns <b>2510</b>, <b>2520</b>, <b>2530</b> capture the order that each network was selected during a surf sequence. For example, in the first surf sequence <b>2510</b>, ESPN was the first network that was selected. The typical search order <b>2540</b> is a weighted average of all surf sequences <b>2510</b>, <b>2520</b>, <b>2530</b>. Notice that in third surf sequence <b>2530</b>, the viewer did not visit the HIST channel. In this case, the typical order for the history channel relies only on the two channel surf sequences <b>2510</b>, <b>2520</b> that it has data for.</div>
<div class="description-paragraph" id="p-0137" num="0197">Alternatively, a viewer may always sequentially search channels, such a channel range of the sequential search can help identify the viewer or an associated signature. As discussed further below, the VCPS <b>290</b> compares the session-based search order with the search order for all signatures.</div>
<div class="description-paragraph" id="p-0138" num="0198"> <figref idrefs="DRAWINGS">FIG. 25B</figref> illustrates an exemplary table having data related to number of times each network is selected during a viewing session being captured. The table includes a network column <b>2500</b> and a surf session column <b>2550</b>. The networks column <b>2550</b> lists networks desirable to track (CNN, ESPN, LIFE, TBS, TNT, USA are illustrated). The surf session column <b>2550</b> lists how many times a particular network was selected in a viewing session. As illustrated, ESPN was selected in 3 surf sequences and USA was not selected. Many networks typically carry certain genres of programs, such as sports, drama, comedy, talk illustrates, etc. for a specific day part. Because viewers have varying preferences for certain types of programs, particular viewers will look for specific programs on certain networks based on the time of day and day of week. Different viewers also have certain differing dislikes and each viewer may avoid surfing disliked networks entirely. The VCPS <b>290</b> monitors the networks visited during channel surfing for the current day part and compares the data to signatures to see if there is similar data.</div>
<div class="description-paragraph" id="p-0139" num="0199">The VCPS <b>290</b> keeps track of two arrays, one for the number of times the viewer visits a network (count <b>2560</b>) while surfing and the other to determine the total dwell time <b>2570</b> on that network while surfing. This data can also be tracked by day part. The VCPS <b>290</b> also calculates the average channel dwell time, which is calculated by dividing the data in the total time array by the data in the total count array. The result indicates the amount of time that a viewer watched each particular network during a channel surf sequence. This result can be used to determine whether the program on that network is of interest or potentially of interest (i.e., the viewer spent time determining if they were interested) or not (i.e., the viewer was simply surfing past the channel). Viewers will typically have a higher average dwell time on networks that carry programs of interest to the viewer. <figref idrefs="DRAWINGS">FIG. 25C</figref> illustrates an exemplary table capturing dwell time <b>2570</b> and surf count <b>2560</b>.</div>
<div class="description-paragraph" id="p-0140" num="0200"> <figref idrefs="DRAWINGS">FIG. 25D</figref> illustrates a graph of the average channel dwell time for all networks in a given session. The networks are represented by the channel number on the horizontal axis <b>2580</b>. The dwell time is represented along the vertical axis <b>2590</b> (i.e., in seconds). In addition to networks having different average dwell times based on viewer interest levels, the overall average dwell time can vary and be characteristic of particular viewers (indicate demographic or psychographic traits). For instance, shorter dwell times may indicate these viewers may be able to discern content faster than others and thus be associated with higher intelligence and relative income. A Fast Fourier Transform (FFT) may also be used to analyze the sequence of channel changes to extract frequency information.</div>
<div class="description-paragraph" id="p-0141" num="0201">A method will now be described for profiling viewers on a session-by-session basis and for differentiating viewers in a household of multiple viewers. When the identity (or profile) of a specific viewer or viewers that are watching during any given session can be identified and distinguished from other potential viewers (or profiles), targeted and custom content, including ads, can be delivered to those viewers. Such targeting will be much more efficient and accurate than if the targeting was based solely on household demographics or on a household profile. In a preferred embodiment, the viewer profiling and identification is accomplished by monitoring and processing channel change data, but it could also be accomplished by processing other forms of viewer interactivity including volume adjustments, EPG activity, etc. Moreover, the algorithms and methods described herein are exemplary methods and implementations and are by no means the only possible mechanisms or implementations of the present invention.</div>
<div class="description-paragraph" id="p-0142" num="0202">The VCPS <b>290</b> uses the concept of a viewing session to identify and profile individual viewers and households. In a preferred embodiment, a viewing session is a period of time during which the viewers do not change (i.e., those viewers watching at the start of the session are the same viewers watching at the end of the session). The VCPS <b>290</b> identifies the different viewing sessions and the individuals (and their associated profiles) involved in those sessions. Although viewing sessions can be determined and delimited by a viewer's self-identification (e.g., via a viewer specific remote, viewer login or custom menu usage), in the preferred embodiment, automatic detection of viewing sessions and associated viewer or viewers is employed. An exemplary embodiment of automatic detection is now described, but it is to be understood, as will be evident to those skilled in the art that the invention is not limited to the exemplary embodiment described, but could be implemented in a variety of ways.</div>
<div class="description-paragraph" id="p-0143" num="0203"> <figref idrefs="DRAWINGS">FIG. 26</figref> illustrates an exemplary process flow chart illustrating how sessions are automatically initiated, terminated and new sessions detected, according to one embodiment. The power is turned on at step <b>2601</b> resulting in the start of a new session at step <b>2603</b>. Any events for that session are processed at step <b>2605</b>. A determination is made if there is a change in viewing pattern at step <b>2607</b> (discussed in more detail later). If there was a change at step <b>2607</b>, the session is ended at step <b>2613</b>. If there was no change at step <b>2607</b>, a determination is made as to whether there has been recent viewer activity at step <b>2609</b>. If there was no activity at step <b>2609</b>, the session ends at step <b>2613</b>. If there was activity at step <b>2609</b>, a determination is made as to whether the power was turned off at step <b>2611</b>. If the power was not turned off, the next event is processed at step <b>2605</b>. If the power is turned off at step <b>2611</b>, the current session is ended at step <b>2613</b>. If the power is turned off at the end of the session at step <b>2615</b>, the session detection process ends at step <b>2617</b> (i.e., until the next power on event). Otherwise, a new session is started at step <b>2603</b>.</div>
<div class="description-paragraph" id="p-0144" num="0204"> <figref idrefs="DRAWINGS">FIG. 27A</figref> illustrates viewing sessions being determined based on when the STB <b>220</b> is powered on or off. A first session <b>2710</b> starts when the STB <b>220</b> is turned on <b>2712</b> and terminates when it is turned off <b>2714</b>. A second session <b>2720</b> begins the next time the STB <b>220</b> is powered on <b>2722</b> and ends at the next power off event <b>2724</b>.</div>
<div class="description-paragraph" id="p-0145" num="0205"> <figref idrefs="DRAWINGS">FIG. 27B</figref> illustrates sessions being defined based on fixed length windows of time. As illustrated, a first session <b>2750</b> starts when the STB <b>220</b> is powered on <b>2752</b>. The first session <b>2750</b> extends for a fixed amount of time, such as the length of the average program or until the end of the current day part (illustrated as a first day part <b>2760</b>). A second session <b>2770</b>, is then initiated at the start of a second day part <b>2780</b>. The second session <b>2770</b> continues until it is terminated at the next power off event <b>2772</b>. Alternatively, the session could have continued until the end of the second day part <b>2780</b>. This method improves on the simple power on/off session definition described above as it handles STBs <b>220</b> that are left on for long periods of time. Also, because viewers change frequently at the transition point between day parts, this method handles the transition of one viewer to another.</div>
<div class="description-paragraph" id="p-0146" num="0206"> <figref idrefs="DRAWINGS">FIGS. 28A-C</figref> illustrate how viewing sessions can be defined based on viewer activity or inactivity, and how session start and end points can be based on remote control activity or inactivity. In <figref idrefs="DRAWINGS">FIG. 28A</figref>, the initiation of remote activity <b>2800</b>, such as channel surfing, marks the start of a first session <b>2810</b>, and occasional remote activities <b>2820</b> keep the session alive. However, if the remote control is idle for an extended period of time (period of inactivity) <b>2830</b>, the VCPS <b>290</b> considers the next activity from the remote control <b>2840</b> to be indicative of the start of a second session <b>2850</b>. The period of inactivity <b>2830</b> used to determine a new session can vary widely depending on the application and may be dynamically configurable.</div>
<div class="description-paragraph" id="p-0147" num="0207"> <figref idrefs="DRAWINGS">FIG. 28B</figref> illustrates a case where the VCPS <b>290</b> immediately terminates the first session <b>2810</b>, after a period of inactivity of a defined time <b>2860</b>. The second session <b>2850</b> does not begin until activity <b>2840</b> resumes. Viewers are not considered to be watching television during the period of inactivity after the session ends, and therefore there is no session <b>2870</b>. The period of inactivity <b>2860</b> can be specified as a fixed amount of time or a varying amount of time based on day, day part, network, etc.</div>
<div class="description-paragraph" id="p-0148" num="0208"> <figref idrefs="DRAWINGS">FIG. 28C</figref> illustrates an example of how the first session <b>2810</b> is ended based on a period of inactivity <b>2880</b>, but only after a program currently being viewed has ended <b>2890</b>. This method has the advantage that even though extended periods of inactivity occur, a viewer may be simply watching a particular program for an extended period of time and thus the session should cover these periods. As illustrated, this embodiment shortened the period associated with no session <b>2870</b> since the first session <b>2810</b> did not end until some time after (period of inactivity <b>2880</b>) the end of the current program <b>2890</b>. As one skilled in the art would recognize there are numerous methods for utilizing the period of interactivity <b>2880</b> in conjunction with the end of program <b>2890</b> that are well within the scope of the current invention. For example, the period of inactivity <b>2880</b> may be defined as a time, such as 60 minutes or the end of a program <b>2890</b>, whichever is greater. Alternatively, the period of inactivity <b>2880</b> may be defined as 60 minutes or 30 minutes after the end of the program <b>2890</b>, whichever is greater. Alternatively, the period of inactivity <b>2880</b> may be a total of 60 minutes or 30 minutes of inactivity after the end of a program <b>2890</b>, whichever is less (as long as the program was over prior to 60 minutes of inactivity).</div>
<div class="description-paragraph" id="p-0149" num="0209">Viewing sessions can also be defined based on the content accessed by the viewer and the interactivity behavior of the viewer. Examples of such interactivity behavior include but are not limited to, the rate of channel change, program type preferences, preferred networks, and program search patterns. The interactivity behaviors could vary by day part. Using the concept of a sliding window, viewer behavior changes, such as increased channel change frequency, and viewer preference changes, such as changes in programs or networks, can be detected and used to terminate a current session, initiate a new session, or both. A determination as to whether to start a new session based on the change of preferred networks can be made based on predetermined rules regarding the networks (e.g., different networks attract viewers with differing demographic attributes), or could be based on previously stored session information and profiles and/or signature profiles (discussed further herein).</div>
<div class="description-paragraph" id="p-0150" num="0210"> <figref idrefs="DRAWINGS">FIG. 29</figref> illustrates the concept of a sliding window identifying session termination and initiation points. A sliding window <b>2900</b> is a window of specific duration <b>2910</b>, which is continually translated forward in time along a time axis <b>2920</b>. As the sliding window <b>2900</b> moves along the time axis <b>2920</b>, data, such as preferred networks, within the sliding window <b>2900</b> are monitored and compared with the same data for an overall session up to that point in time. Utilizing this comparison, the VCPS <b>290</b> can determine whether or not the viewership has changed based on how well the data (e.g., preferred networks) in the sliding window <b>2900</b> compares with similar data for the entire session. When the viewing behavior within the sliding window <b>2900</b> is sufficiently different from the overall session behavior, the VCPS <b>290</b> considers the data within the sliding window <b>2900</b> as part of a new session</div>
<div class="description-paragraph" id="p-0151" num="0211">As illustrated on a first time axis <b>2920</b>A, the sliding window <b>2900</b> includes networks DSC, ESPN, and FX. These networks are considered to be identifiable with a single viewer and thus are identified as session <b>1</b>. As time progresses to time axis <b>2920</b>B, the sliding window <b>2900</b> includes networks FX, ESPN and Lifetime. These changes in networks are not yet enough to trigger a change in session. However, as time progresses to time axis <b>2920</b>C and the sliding window <b>2900</b> includes mostly networks Lifetime and A&amp;E, the VCPS <b>290</b> initiates session <b>2</b>. The determination as to whether to start a new session based on the change of preferred networks can be made based on predetermined rules regarding the networks (e.g., different networks attract viewers with differing demographic attributes), or could be based on previously stored session information and profiles and/or signature profiles (discussed further herein).</div>
<div class="description-paragraph" id="p-0152" num="0212">This method of automatic session detection and transition is extremely powerful as it is driven by viewer habit and preferences, and occurs in real-time. Although in this example the preferred networks are monitored by the sliding window it is to be understood, as will be evident to those skilled in the art, that other classes of viewer interactivity and preferences or combinations of classes (weighted or non-weighted) could also be used with the sliding window method to identify session transition. These other classes may include, but not limited to, preferred program genre, networks, surf patterns, program categories, viewer type (i.e., male, female, child), volume adjustments, and EPG activity.</div>
<div class="description-paragraph" id="p-0153" num="0213">In a preferred embodiment, the VCPS <b>290</b> uses two sliding windows, a small window to detect radical changes in viewer behavior and a larger window to detect more subtle changes. <figref idrefs="DRAWINGS">FIG. 30</figref> illustrates implementing sliding windows by collecting data into fixed-width data bins termed sub-sessions. Each sub-session represents a unit of time during which viewer interactivity is monitored. A window consists of a fixed number of the sub-sessions, starting with the most recent. As the amount of time represented by a single sub-session elapses, the window slides so that it always incorporates the most recent set of sub-sessions. According to one embodiment, the VCPS <b>290</b> uses six 5-minute sub-sessions <b>3002</b>-<b>3012</b> with two sliding windows, one of 15 minutes <b>3020</b> (<b>3</b> sub-sessions) and one of 30 minutes <b>3030</b> (<b>6</b> sub-sessions).</div>
<div class="description-paragraph" id="p-0154" num="0214">The fifteen-minute window <b>3020</b> has a high threshold of viewer behavioral change as it is meant to detect radical changes in the viewing behavior in a short period of time. The thirty-minute window <b>3030</b> detects more subtle changes in behavior and has a lower threshold for change detection. Each sub-session is labeled with a range of minutes, which indicates the amount of time that has elapsed since session began. Two additional sub-sessions, represent data that is outside the windows <b>3020</b>, <b>3030</b> (events that occurred 30+ minutes ago). One sub-session stores events that occurred over 30 minutes ago for the current day part <b>3040</b>. The other sub-session stores data that occurred over 30 minutes ago for this session <b>3050</b>.</div>
<div class="description-paragraph" id="p-0155" num="0215">As events occur, the data is stored in the 0-4 minute sub-session <b>3002</b>. After 5 minutes has elapsed, the data for all sub-sessions except the 30+ minute sub-sessions <b>3040</b>, <b>3050</b> is shifted to an adjacent bin (as illustrated, shifted to the right). Data coming out of the 25-29 minute bin <b>3012</b> is added to both the 30+ minute day-part bin <b>3040</b> and the 30+ minute session bin <b>3050</b>. The 0-4 minute sub-session <b>3002</b> is cleared. The 15-minute sliding window <b>3020</b> encompasses the first three sub-sessions <b>3002</b>-<b>3006</b> while the 30-minute sliding window <b>3030</b> encompasses the first six sub-sessions <b>3002</b>-<b>3012</b>.</div>
<div class="description-paragraph" id="p-0156" num="0216">In addition to collecting session data in order to generate a session profile, which is limited to a viewing session and which is collected over a relatively short period of time, the VCPS <b>290</b> generates and updates a more complete profile of the user by combining current session data with historical data for this viewer. This aggregated viewer or household historical data is referred to as a signature. A signature can best be described as the aggregation of session data for a particular type of viewer or household over an extended (multiple sessions) period of time. A single signature does not necessarily correspond to a single unique viewer in a household. The combination of multiple members of a household watching television simultaneously may result in a household signature, different than any of the individual signatures.</div>
<div class="description-paragraph" id="p-0157" num="0217">Also, members of the household with similar viewing habits may be aggregated into a single signature. It is also possible that different viewing habits for a single member of the household can result in multiple signatures for that member. The VCPS <b>290</b> stores multiple signatures, in order to account for multiple viewers and subsets of those viewers within a household, each signature representing at least a subset of different viewing characteristics. In a preferred embodiment, the VCPS <b>290</b> stores up to fifteen unique signatures per household, and each signature may correspond to a particular viewer, a group of particular viewers, or to the entire household of viewers, and the VCPS <b>290</b> retains the signature information in long-term storage (e.g., on a hard drive or in non-volatile memory).</div>
<div class="description-paragraph" id="p-0158" num="0218">In a preferred embodiment, the VCPS <b>290</b> generates and stores viewer and household signature profiles based on one or more session profiles. When the VCPS <b>290</b> is first initiated, and there are no session or signature profiles, the VCPS <b>290</b> generates the first signature profiles from the first session profiles. Then, as the VCPS <b>290</b> monitors and processes data from subsequent viewing sessions, it will continually attempt to correlate the session data with a specific signature, and associate the long term viewing habits and other interactivity of a particular viewer or household with short term viewing habits and interactivity. In an alternative embodiment, signatures may be loaded into the STB <b>220</b> externally (either when the unit is manufactured, purchaser, or installed or during use). The loaded signatures may represent characteristics that advertisers are looking for, be standard signatures that identify distinct market segments, be representative signatures for a particular area, or other representations that would still be within the scope of the current invention. The preloaded signatures may be updated to take into account session profiles that are deemed to correlate with the signature profiles or may stay the same until updated by the network operator or other responsible party.</div>
<div class="description-paragraph" id="p-0159" num="0219">In a preferred embodiment, the signature profile comprises the same profile categories as the session profile allowing for a direct correlation between categories. The VCPS <b>290</b> writes session data to the signature history at the end of day parts and sessions. Each 5-minute sub-session tracks the day part that it resides in, and the 30-minute day-part sub-session <b>3040</b> does the same. When data is being added from the 25-29 minute sub-session <b>3012</b> into the 30+ minute day-part sub-session <b>3040</b>, the VCPS <b>290</b> verifies that the sub-sessions are the same day part <b>3060</b>. If the sub-sessions are for a different day part, the data from the 30+ minute day-part bin <b>3040</b> is written to the signature data that best matches the current session and the 30+ minute day-part bin <b>3040</b> is cleared.</div>
<div class="description-paragraph" id="p-0160" num="0220">Because the VCPS <b>290</b> tracks all of the session data and also must write day part data to the signatures, the 30+ minute session sub-session <b>3050</b> stores all data for the current session that is outside the sliding windows. This data is used for comparing changes in session behavior. When a session terminates due to behavior change, data within the sliding window represents a new session while data outside that window is the old session.</div>
<div class="description-paragraph" id="p-0161" num="0221">If the 30 minute window <b>3030</b> detected the change in session, the 30+ minute day-part sub-session <b>3040</b> is written to the signature file and the 30+ minute day part bin <b>3040</b> and 30+ minute session bin <b>3050</b> are cleared. Note, the 30+ minute session bin <b>3050</b> is not required to be written to the signature file as the 30+ minute day part bin <b>3040</b> is written to the signature file, and all previous day parts that were part of this session were previously written to the signature file.</div>
<div class="description-paragraph" id="p-0162" num="0222">If the 15-minute sliding window <b>3020</b> detected the behavior change, then data in the 5-minute sub-sessions outside the 15-minute sliding window <b>3020</b> (last 3 five-minute sub-sessions <b>3008</b>-<b>3012</b>) are also written to the signature file and cleared. When a session terminates due to power off or lack of user interaction, all data in the 5-minute sub-sessions <b>3002</b>-<b>3012</b> and the 30+ minute day-part sub-session <b>3040</b> are written to the signature file and cleared.</div>
<div class="description-paragraph" id="p-0163" num="0223"> <figref idrefs="DRAWINGS">FIGS. 31A and 31B</figref> illustrate an exemplary process flow of how the sliding windows are managed and events are associated with sessions according to one embodiment. A new event occurs at step <b>3101</b>. A determination is made as to whether it is the end of a bin (i.e., 5 minutes of data saved in current bin) at step <b>3103</b>. The new event will be with the current sub-session (bin) until the end of the sub-session (bin). If the current sub-session is still active, a determination is made as to whether the power is turned off at step <b>3105</b>. If the determination of step <b>3105</b> is yes, the data collected for the current sub-session will be saved to a signature file at step <b>3113</b> and the session ends at step <b>3115</b>. Otherwise, the event will be processed using the filters at step <b>3107</b> and the profile characteristics derived will be added to the current sub-session at step <b>3109</b>. The processing of the event is complete at step <b>3111</b>.</div>
<div class="description-paragraph" id="p-0164" num="0224">If the new event occurs at the end of a sub-session at step <b>3103</b>, then a check is made as to whether the leading edge of the sliding window coincides with the end of a day part at step <b>3117</b>. If they do not coincide, then the last sliding window sub-session is shifted into the 30+ minute session bin at step <b>3119</b>. If they do coincide, then the day part profile is saved to a signature file at step <b>3127</b>, the data is cleared from the 30+ minute day part bin at step <b>3129</b>, and then the last sliding window sub-session is shifted into 30+ minute session bin at step <b>3119</b>.</div>
<div class="description-paragraph" id="p-0165" num="0225">At step <b>3121</b>, a determination is made as to whether there was any change in viewing pattern. If there was no change, all sliding window sub-sessions are shifted at step <b>3123</b> and the current bin is cleared at step <b>3125</b>. The data from the ending sub-session is then processed via the filters at step <b>3107</b> and added to the profile for that sub-session at step <b>3109</b>. If a change in viewing pattern is detected, then the session data is saved to a signature file at step <b>3131</b> and a new session is started at step <b>3133</b>. All sliding window bins are then shifted at step <b>3133</b>.</div>
<div class="description-paragraph" id="p-0166" num="0226">As one of ordinary skill in the art would recognize, there are numerous methods for performing the determination of step <b>3121</b> that are well within the scope of the current invention. For example, the determination can be made by comparing the current viewing characteristics with the session profile, or, if applicable, with the signature profile associated with the session profile. The current viewing characteristics may be defined as a single element of time or may be multiple elements of time for purposes of comparison. The embodiment described above used two periods of time (last 15 minutes and last 30 minutes) for the current viewing characteristics. It should be noted that the current invention is not limited to these time frames. According to one embodiment, these time frames would be an adaptable parameter of the system.</div>
<div class="description-paragraph" id="p-0167" num="0227">If multiple time frames are used the thresholds for determining a change in viewership would be different. As described above, the shorter window of time would be used to detect radical changes while the longer window of time would be used to detect more subtle changes. The comparisons may be based on one or more viewing characteristics. If multiple viewing characteristics are used in the comparison, the different characteristics may have different weighting factors applied. If multiple windows of time are used, the same elements may be compared, the same element with different weighting factors may be compared, or different element may be compared.</div>
<div class="description-paragraph" id="p-0168" num="0228"> <figref idrefs="DRAWINGS">FIGS. 32A and 32B</figref> illustrate how session data is compared with the signature data already stored in the VCPS <b>290</b>. As data is collected about a session, the VCPS <b>290</b> continually calculates (in real or near-real time) the session profile and compares that to existing signature profiles. <figref idrefs="DRAWINGS">FIG. 32A</figref> illustrates a session profile <b>3200</b> and correlation factors <b>3210</b> for existing signature profiles <b>3220</b>. As illustrated, the session profile <b>3200</b> has the best correlation with signature 4 (77%). This iterative process continues until the session terminates. According to one embodiment, the VCPS <b>290</b> compares the current session data against the signature data every five minutes to find the signature that correlates best with the session. The “best” signature match may change several times while session data is being collected. This is to be expected since the accuracy of the data increases as the amount of viewing data increases. It should be noted that although the session profile is illustrated as tracking networks, it is to be understood that the actual correlation of a session to a signature may entail correlating various category profiles, combinations of category profiles, or weighted combinations of category profiles. According to one embodiment, the correlation factors are adaptable. It would be within the scope of the current invention for the user, the network operator or other parties to adapt these parameters.</div>
<div class="description-paragraph" id="p-0169" num="0229">When the viewing session terminates, the current session profile <b>3200</b> is added to the signature profile <b>3220</b> that had the best correlation <b>3210</b>. The VCPS <b>290</b> performs a weighted average between the session profile <b>3200</b> and the signature profile <b>3220</b> so that the data is properly scaled based on overall viewing time. Thus, the signature profiles <b>3220</b> that represent long periods of viewing history will only be slightly altered by new viewing data. In addition to adding the session profile <b>3200</b> to the associated (highest correlation above threshold) signature profile <b>3220</b> at the end of the session, the VCPS <b>290</b> may also add the current session profile <b>3200</b> to the associated signature profile <b>3220</b> at the end of day parts, the end of programs, end of days or defined time periods.</div>
<div class="description-paragraph" id="p-0170" num="0230"> <figref idrefs="DRAWINGS">FIG. 32B</figref> illustrates a case where the session profile <b>3200</b> does not correlate with any of the existing signature profiles <b>3220</b> (none of the correlation meet a minimum correlation threshold). Therefore, the session profile <b>3200</b> is used to create a new signature profile <b>3220</b> that is stored in one of the empty signature bins <b>3230</b>.</div>
<div class="description-paragraph" id="p-0171" num="0231">According to one embodiment, once a matching signature has been established, a fully populated 15-minute sliding window <b>3020</b> (all three 5 minute bins <b>3002</b>-<b>3006</b> are filled) is used to determine viewer behavior changes. The VCPS <b>290</b> compares the data in the 15-minute sliding window <b>3020</b> against the signature data. The data within the 15-minute sliding window <b>3020</b> must differ significantly (e.g., exceed a difference threshold or not meet a correlation threshold) from the signature data for the VCPS <b>290</b> to terminate the session. As would be obvious to one of ordinary skill in the art, reducing the difference threshold (or increasing the correlation threshold) would likely result in earlier termination of sessions, and increasing the difference threshold (or decreasing the correlation threshold) would likely result in longer sessions.</div>
<div class="description-paragraph" id="p-0172" num="0232">In another embodiment, once the matching signature profile has been identified the VCPS <b>290</b> may also use a fully populated 30-minute sliding window <b>3030</b> to determine viewer changes. As the 30-minute sliding window <b>3030</b> is designed to detect more subtle changes, the difference threshold is accordingly lower (or correlation threshold is accordingly higher) than for the 15-minute sliding window <b>3020</b>. If the 30-minute sliding window <b>3030</b> and the signature exceed the difference threshold (or fall below the correlation threshold) the session is terminated. In an alternative embodiment, the 30-minute sliding window <b>3030</b> is next compared to the overall session before a termination decision is made. If this difference threshold is also exceeded (or falls below the correlation threshold) the session is terminated. The difference (or correlation) thresholds for both the 30-minute sliding window-vs.-signature and 30-minute sliding window-vs.-overall session may be the same or may be different (to account for the likely differences in the session profile and the signature profile).</div>
<div class="description-paragraph" id="p-0173" num="0233"> <figref idrefs="DRAWINGS">FIG. 33</figref> illustrates an exemplary graphical user interface (GUI) comparing session data and signature data. The GUI includes a session portion <b>3300</b>, a best match portion <b>3340</b> and a signature summary portion <b>3380</b>. The session summary portion <b>3300</b> includes graphs for genre <b>3310</b>, surf dwell time <b>3315</b>, network by day part <b>3320</b>, category <b>3325</b>, and viewer type <b>3330</b> for the session, and also includes total time <b>3335</b> associated with the session. The best match portion <b>3340</b> includes graphs for genre <b>3350</b>, surf dwell time <b>3355</b>, network by day part <b>3360</b>, category <b>3365</b>, and viewer type <b>3370</b> for the signature, and also includes total time <b>3375</b> associated with the signature. According to one embodiment, the session data for genre, surf, network and category is over laid on the signature data for the same. In a preferred embodiment, the GUI would use different colors, one color for session data, another color for the signature data, and a third color illustrating the overlap between the session data and the signature data.</div>
<div class="description-paragraph" id="p-0174" num="0234">The signature summary portion <b>3380</b>, illustrates a number of signatures identified by their unique ID <b>3385</b>, total time <b>3390</b> and correlation score <b>3395</b>. The number of signatures displayed may be the top signatures (i.e., top 5), may be all of the signatures stored therein, or may be a predetermined number of signature slots. As illustrated, there are 15 signature slots displayed with the last three being empty signature slots. While it would be possible to store a large amount of signatures on the STB, there is a practical limit to how many should be stored thereon. The limit would be based on the memory in the STB as well as the granularity that is desired in the different signatures. As previously discussed, session monitoring and signature matching preferably occur in real time (or near-real-time), as session data is being received, processed, and continuously compared with signature data. Thus, the correlation scores are updated in real time (or near real time).</div>
<div class="description-paragraph" id="p-0175" num="0235">The correlation scores <b>3395</b> may be based on the correlation of a single element, multiple elements, or multiple weighted elements. According to one embodiment, the correlation score is based on the program genre, surf dwell time and networks. These elements may be weighted with program genre having the heaviest weighting factor. While the viewer type is not used in the correlation score in this embodiment, it may be used to exclude potential matches between a session and a signature. That is, if the session viewer type is significantly different from the signature viewer type, the match will be rejected. If the match is right on the threshold for acceptance, or no match can be found, the VCPS <b>290</b> examines the category data to assist in the session to signature match determination. For instance, if the session has a large amount of viewing time in a small set of categories, then the VCPS <b>290</b> can search the signature data for high viewing time in those categories.</div>
<div class="description-paragraph" id="p-0176" num="0236"> <figref idrefs="DRAWINGS">FIG. 34</figref> illustrates an exemplary process flow of how, at the end of a session, session data is saved and matched to a signature. A session ends at step <b>3401</b>, and then a determination is made as to whether or not the length (i.e., duration) of the session was at least a certain amount of time (i.e., 15 minutes) at step <b>3403</b>. If not, then the session data is discarded at step <b>3419</b> as such a short session is not considered to be of much value. If the session duration is greater than 15 minutes, then a determination is made as to whether or not the session data correlates (i.e., meets a correlation threshold) with a signature at step <b>3405</b>. If the session data does correlate with a signature then the session data is added to the matching signature at step <b>3417</b>. If the session data does not correlate with a signature, then a determination is made as to whether the signature list is full at step <b>3407</b>. If the signature list is not full (i.e., the number of stored signature has not exceeded a preset maximum) then the session data is saved as a new signature at step <b>3415</b>. If, however, the signature list is full, then the session and existing signatures are “scored” based on viewing time and access frequency at step <b>3409</b> (e.g., a session or signature with larger viewing time and/or click frequency contains more data with which to profile and thus receives a higher score). A determination is made as to whether the session score is the lowest at step <b>3411</b>. If the session “scores” the lowest, then the session data is discarded at step <b>3419</b>. Otherwise, the signature with the lowest score is discarded at step <b>3413</b> and the session data is saved as a new signature at step <b>3415</b>.</div>
<div class="description-paragraph" id="p-0177" num="0237">It is to be noted that the session duration parameter (step <b>3403</b>) used to determine whether or not the session data should be discarded is not required to be 15 minutes, but could a much smaller or much larger unit of time, or could be an adaptable parameter without departing from the scope of the current invention. Also, the minimum correlation threshold used to determine whether a session and a signature correlate (step <b>3405</b>), could be set to a relatively high or low value, or could be based on one or more parameters as discussed above without departing from the scope of the current invention. These parameters could be adaptable and set depending on implementation preference. Moreover, as one skilled in the art would recognize there are numerous methods for scoring the signatures (step <b>3409</b>) that would be well within the scope of the current invention.</div>
<div class="description-paragraph" id="p-0178" num="0238">According to one embodiment, the VCPS <b>290</b> may consider the signatures with the most viewing time to be off limits to purging. If a signature has a large amount of viewing time but the viewer that created it is no longer with the household, the signature will eventually be able to be deleted after the system accumulates viewing time for the active signatures. For the signatures that can be deleted, a combination of total viewing time and date that the signature was last updated contribute to the signature that the system selects for purging. A STB box has N slots for signatures and only signatures in the top N/2 slots can be considered off limits for purging. The system then calculates the total viewing time T for all signatures. If a signature is in a top slot and it has a viewing time of at least T/2N, then the signature cannot be deleted.</div>
<div class="description-paragraph" id="p-0179" num="0239">For example, assume that the STB has 15 signatures (N=15) stored therein and has compiled 50,000 seconds of total viewing time for all signatures (T=50,000). A signature cannot be purged if it is within the top 7 signatures (15/2) of viewing time and the signature viewing time is at least 1,667 seconds (50000/30).</div>
<div class="description-paragraph" id="p-0180" num="0240">The signatures that can be deleted will be assigned a score based on the viewing time and date of last update. Given a viewing time of V and number of days since last update of D, then the score will be V/((D/10)+1). Thus basically states that every 10 days of signature inactivity reduces the value of the viewing time. For example, if the viewing time is 2000 seconds and it has been 12 days since the last update, the score will be 1000 [2000/((12/10)+1)]. Note that the calculation uses integer math, which rounds the result down. Thus, the denominator includes a +1 to ensure that the value will not be 0.</div>
<div class="description-paragraph" id="p-0181" num="0241">The following example demonstrates all of these concepts. This example has six signature bins and a total viewing time of 60,000 seconds. Thus, the top three signatures that have a minimum signature time of 5000 seconds (60000/12) may be marked as off limits. However, as illustrated only two of the bins meet the viewing time and are marked off limits. Out of the remaining four signatures, signature 5 has the lowest score of 2000 [4000/(16/10)+1)].</div>
<div class="description-paragraph" id="p-0182" num="0242">
<tables id="TABLE-US-00001" num="00001">
<patent-tables colsep="0" frame="none" rowsep="0">
<table align="left" class="description-table" cols="6" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td align="center" class="description-td" colspan="6" nameend="6" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">•</td>
<td class="description-td">Slot</td>
<td class="description-td">Time (s)</td>
<td class="description-td">Days Since Update</td>
<td class="description-td">Score</td>
<td class="description-td">Description</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="6" nameend="6" namest="1" rowsep="1"> </td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td class="description-td"> </td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="6" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">•</td>
<td class="description-td">1</td>
<td class="description-td">30000</td>
<td class="description-td">20</td>
<td class="description-td">n/a</td>
<td class="description-td">off limits</td>
</tr>
<tr class="description-tr">
<td class="description-td">•</td>
<td class="description-td">2</td>
<td class="description-td">15000</td>
<td class="description-td">0</td>
<td class="description-td">n/a</td>
<td class="description-td">off limits</td>
</tr>
<tr class="description-tr">
<td class="description-td">•</td>
<td class="description-td">3</td>
<td class="description-td">4500</td>
<td class="description-td">11</td>
<td class="description-td">2250</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">•</td>
<td class="description-td">4</td>
<td class="description-td">4000</td>
<td class="description-td">8</td>
<td class="description-td">4000</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">•</td>
<td class="description-td">5</td>
<td class="description-td">4000</td>
<td class="description-td">16</td>
<td class="description-td">2000</td>
<td class="description-td">deleted</td>
</tr>
<tr class="description-tr">
<td class="description-td">•</td>
<td class="description-td">6</td>
<td class="description-td">2500</td>
<td class="description-td">2</td>
<td class="description-td">2500</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="6" nameend="6" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0183" num="0243"> <figref idrefs="DRAWINGS">FIGS. 35A-B</figref> illustrate an exemplary method for updating the signature profile with the session profile based on activity (events captured in the event queue). After the process starts (step <b>3501</b>), the event queue is initialized (step <b>3503</b>), and the VCPS <b>290</b> waits for the next event (step <b>3505</b>). Once the next event is received, the VCPS <b>290</b> determines if the event is a power on event (step <b>3507</b>). If the event was a power on event, the VCPS <b>290</b> determines when the sliding window will end (i.e., 15 minute window and 30 minute window) and adds these times as upcoming events in the event queue (step <b>3509</b>). The power on event is then processed (step <b>3517</b>). If the event was determined to not be a power on event, a determination of whether the event was a channel change event is made (step <b>3511</b>). If the determination is that the event was a channel change, the VCPS <b>290</b> deletes the end of program event associated with the previous channel from the event queue (step <b>3513</b>) and processes the channel change (step <b>3517</b>). If the event was not a channel change, the VCPS <b>290</b> determines if the event was an end of program event (step <b>3515</b>). The end of program determination is made by comparing the current time to the time marked in the event queue for the end of the current program. If the event was an end of program, then the end of program event is processed by the VCPS (step <b>3517</b>).</div>
<div class="description-paragraph" id="p-0184" num="0244">After the event (power on, channel change, end of program) is processed at step <b>3517</b>, the profile characteristics associated with the event are added to the current session profile (step <b>3519</b>). In accordance with a preferred embodiment of the current invention, the characteristics of the event are added on a time-weighted basis. Based on the current channel that is tuned to, the VCPS <b>290</b> determines when the current program is scheduled to end (based on program data) and adds an event for the end of the program to the event queue (step <b>3521</b>).</div>
<div class="description-paragraph" id="p-0185" num="0245">If the event was determined not to be an end of program event, the VCPS determines if the event was an end of bin event as established in step <b>3509</b> (step <b>3523</b>). If the event was an end of bin event, the end of bin event is processed (step <b>3525</b>) and the characteristics of this event are added to the current session profile (step <b>3527</b>). Next a determination is made as to whether it is the end of a day part (step <b>3531</b>). If it is determined that it was the end of a day part, the current session profile for that day part (i.e., bin <b>3040</b>) is saved to the associated signature profile (step <b>3531</b>) and then cleared (step <b>3533</b>). Regardless of whether, the event was an end of day part or not, the data within the sliding windows is shifted to the next bin (step <b>3535</b>). Referring back to <figref idrefs="DRAWINGS">FIG. 30</figref>, the contents of bin <b>3002</b> is shifted to bin <b>3004</b>, <b>3004</b> to <b>3006</b>, . . . and <b>3012</b> into <b>3040</b> and <b>3050</b>. Now that the sliding window has been shifted, the VCPS determines the end of the sliding window and adds that data to the event queue (step <b>3537</b>). The process then returns to step <b>3505</b> (waiting for next event).</div>
<div class="description-paragraph" id="p-0186" num="0246">If the event was not an end of pin event, the VCPS <b>290</b> determines if the event was a power off event (step <b>3539</b>). If the event was not a power off event, the process returns to step <b>3505</b>. If the event was a power off event, the power off event is processed (step <b>3541</b>), the characteristics of this event are added to the current session profile (step <b>3543</b>), the session profile is added to the associated signature profile, preferably on a time weighted basis (step <b>3545</b>), and the event queue is cleared (step <b>3547</b>). The process is complete at step <b>3549</b>.</div>
<div class="description-paragraph" id="p-0187" num="0247">As one of ordinary skill in the art would recognize, this process is merely an exemplary process. The steps of the process could be rearranged, steps could be removed or added, or completely different steps could be used to accomplish the same or similar result without departing from the scope of the current invention.</div>
<div class="description-paragraph" id="p-0188" num="0248">According to one embodiment, the VCPS <b>290</b> also periodically compares each signature with every other signature, in order to identify signatures that may correlate with one another. For example, as session data is added to existing signatures, it is possible that some of the signatures will begin to correlate with one another, indicating that the signatures actually represent the same viewer or viewer type. In one embodiment, the VCPS <b>290</b> handles this case by attempting to correlate signatures after every signature update. These updates preferably occur at the end of day parts and the end of sessions. The process of merging or joining two correlated signatures is accomplished by comparing the recently updated signature with every other signature stored by the VCPS <b>290</b>. The signature that best matches (according to a predefined threshold) will be merged with the recently updated signature by calculating the weighted average of the signature data. Additionally, the VCPS <b>290</b> preferably performs the process iteratively, attempting to merge the new signature with all other signatures. This iterative procedure is carried out because combining the two signatures may have altered them enough to correlate with another signature.</div>
<div class="description-paragraph" id="p-0189" num="0249">According to one embodiment, the VCPS <b>290</b> compares most of the elements of the signature data in order to determine if signatures correlate with one another. Unlike the session to signature comparisons, category data is used in the signature correlation process because the signatures represent many sessions, and the correlation of category data is particularly useful when comparing large data sets. However, viewer type is not used to correlate signatures, it is only used to exclude matches. That is, if the VCPS <b>290</b> determines that two signatures correlate, the VCPS <b>290</b> will look at viewer type. As long as the viewer type is not significantly different, the VCPS <b>290</b> will merge the two correlated signatures. However, if the viewer type is significantly different (i.e., signature 1=0.8 male, 0.1 female, 0.1 child and signature 2=−0.1 male, 0.8 female, 0.1 child) then the VCPS <b>290</b> will not merge the two signatures.</div>
<div class="description-paragraph" id="p-0190" num="0250">The VCPS <b>290</b> can perform the comparisons either after updating a signature with session data or as a background task. Performing the comparisons after an update will require only comparing the updated signature with the other signatures. Background comparisons must compare all signatures against all others. If two or more signatures correlate beyond a certain correlation threshold, the VCPS <b>290</b> combines signatures by performing a weighted average of the data from each signature. Such a correlation threshold may be dynamically configurable (e.g., from instructions from the HE).</div>
<div class="description-paragraph" id="p-0191" num="0251">In an alternate embodiment, standardized or customized signatures are downloaded from the HE <b>210</b> and stored at the STB <b>220</b> for utilization by the VCPS <b>290</b>. Such custom signatures may be derived based on, for instance, expected or predicted viewer behavior, or alternatively, these signatures may represent aggregate session data from multiple households. An example of such a signature is one that reflects one or more demographic traits shared by a cluster or group of households, which may be identified by analyzing session profile data (or signatures) from an array of households, and grouping households together that have highly correlative session or signature profiles. Session profiles can then be correlated with these “standard” signatures (e.g., a form of collaborative filtering) as well as with locally generated signatures as described above.</div>
<div class="description-paragraph" id="p-0192" num="0252">As discussed above, the VCPS <b>290</b> correlates profiles with other profiles, including, but not limited to:
</div> <ul> <li id="ul0007-0001" num="0000"> <ul> <li id="ul0008-0001" num="0253">session profile v. itself—to determine when one session is terminated and another is began;</li> <li id="ul0008-0002" num="0254">session profile v. numerous signature profiles—to determine which, if any, signature profile the session profile should be added to;</li> <li id="ul0008-0003" num="0255">a session profile v. matching signature profile—to determine when a session is terminated and another is began; and</li> <li id="ul0008-0004" num="0256">updated signature profile v. other signature profiles—to determine if updated signature profile now correlates with the other signature profiles.</li> </ul> </li> </ul>
<div class="description-paragraph" id="p-0193" num="0257">There are numerous ways that profiles can be correlated with each other. The correlation can range from simple to complex. The complexity of the correlation depends on such factors as what is being correlated, and how much data is contained within the profiles. For example, a correlation of a session profile against itself may be quite simple. That is, a single profile (i.e., network profile) may be monitored to determine when a session ends. On the other hand, a correlation of a session profile to a signature profile may be more complex and may correlate numerous profiles (i.e., genre, networks, category, surf) to determine when there is a match. Some possible profile correlations and the value of each are discussed below.</div>
<div class="description-paragraph" id="p-0194" num="0258">Genre profiles indicate the amount of time that a viewer watches each type of program genre, in effect weighting the importance of that program type to the viewer. The sessions and signatures track the viewing times of each genre in an array. The correlation compares the elements of each of the genre arrays. As it is believed that viewers generally watch the same types of programs, using the genre in the correlation calculation provides a highly accurate method for quickly comparing two profiles.</div>
<div class="description-paragraph" id="p-0195" num="0259">Channel surf dwell time profiles capture how long a particular channel or network will maintain the viewers' interest during a surf routine. Because a channel surf sequence may only take one or two minutes, a major benefit of tracking channel surf behavior is that the dwell time data is collected over a short period of time when compared with viewing interests. The sessions and signatures track dwell times by network, and each one has an array of both the number of times a network is visited during the surf sequence and the total dwell time on each network, in order to calculate an average dwell time per network per channel surf sequence. The average dwell time per network is correlated.</div>
<div class="description-paragraph" id="p-0196" num="0260">Network profiles track the amount of time that the viewer watches a particular network by day part and day of week. Because a viewer will typically watch the same programs at the same time every week, correlating the data by the appropriate day and day of week results in matching a viewer session to the appropriate signature. In one embodiment, the session-to-signature correlation compares the network information for the current day and day part against the signature data for the same time. The signature-to-signature correlation used to merge signatures compares all network day and day part data. The average correlation is used to help determine whether the signatures match. Since the signatures aggregate data over many sessions, the network viewing by day part should be similar if the signatures actually represent the same viewer.</div>
<div class="description-paragraph" id="p-0197" num="0261">Program category profiles are much more specific than genres and can be utilized, for instance, if a session cannot be matched with a signature or only produces marginal matches, to match a session with a signature. For example, if the VCPS <b>290</b> collects data reflecting a large amount of viewing time in a small set of categories, the VCPS <b>290</b> can search the history for signatures with large viewing times in those same categories. The search results can be used to determine if a marginal match between session and signature is actually a match. It can also help classify a session that would not otherwise correlate with a signature.</div>
<div class="description-paragraph" id="p-0198" num="0262">As would be obvious to one of ordinary skill in the art, the amount of data gathered for each session and each signature is dependent upon the amount of memory in the STB <b>220</b>, the amount of granularity (and potentially accuracy) desired. A tradeoff needs to be made between the amount of memory required and the granularity/accuracy desired. According to one embodiment, each session profile includes the following category profiles:
</div> <ul> <li id="ul0009-0001" num="0000"> <ul> <li id="ul0010-0001" num="0263">genre for overall session;</li> <li id="ul0010-0002" num="0264">network viewership for current day part;</li> <li id="ul0010-0003" num="0265">channel surf sequence for overall session;</li> <li id="ul0010-0004" num="0266">category data for overall session; and</li> <li id="ul0010-0005" num="0267">viewer type for overall session.</li> </ul> </li> </ul>
<div class="description-paragraph" id="p-0199" num="0268">According to one embodiment, each signature profile includes the following category profiles:
</div> <ul> <li id="ul0011-0001" num="0000"> <ul> <li id="ul0012-0001" num="0269">genre for overall history;</li> <li id="ul0012-0002" num="0270">network viewership for prime time for each weekday (Mon-Fri);</li> <li id="ul0012-0003" num="0271">network viewership for evenings for all weekdays;</li> <li id="ul0012-0004" num="0272">network viewership for late night for all weekdays;</li> <li id="ul0012-0005" num="0273">network viewership for daytime for all weekdays;</li> <li id="ul0012-0006" num="0274">network viewership for weekends;</li> <li id="ul0012-0007" num="0275">channel surf sequence for overall history;</li> <li id="ul0012-0008" num="0276">category data for overall history; and</li> <li id="ul0012-0009" num="0277">viewer type for overall history.</li> </ul> </li> </ul>
<div class="description-paragraph" id="p-0200" num="0278">The VCPS <b>290</b> may track prime time viewership (8 PM-11 PM) for the weekdays, evening viewing (6 PM-8 PM) for all weekdays, late night viewing (11 PM-5 AM) for all weekdays, daytime viewing (5 AM-6 PM) for all weekdays and weekend viewership. According to this embodiment, when comparing session data to signature data, the VCPS <b>290</b> compares the following data as the primary match criteria: session genre data and signature genre data; session network data by day part with signature network data by same corresponding day part; and session surf dwell time with signature surf dwell time. Each element or category may be weighted based on the importance of the data in the correlation. Genre has the largest weighting factor in this embodiment, but other relative weightings are also possible. The correlation result is a score for the signature match. The signature that has the highest correlation with the session is considered the best match, and the session data may be associated with that signature.</div>
<div class="description-paragraph" id="p-0201" num="0279">The signature profiles may be used to target content (advertisements, pay per view (PPV) events, video on demand (VOD) programming) to the subscribers or to customize their viewing environment (i.e., favorite programs listed first in EPG, format of EPG). The signature profiles stored in the STB <b>220</b> may be transmitted to the HE at determined intervals (i.e., every night at off-peak hours, every week). The HE may aggregate the data received from each of the STBs <b>220</b> connected thereto in order to form groups of viewers with similar characteristics. The groups having similar characteristics may receive specific content targeted to their characteristics (signature profiles). According to another embodiment, the HE may also use other external data to help group subscribers. The external data may be in the form of geodemographic data, such as the demographic data associated with distinct ZIP+4 geographies provided by Claritas (see U.S. Provisional Application No. 60/238,059; U.S. patent application Ser. No. 09/635,542; and U.S. patent application Ser. No. 09/928,024, each of which were previously referred to and incorporated by reference for additional details). The external data may also be in the form of other transactional profiles, such as purchase transactions (see U.S. patent application Ser. No. 09/591,577; U.S. patent application Ser. No. 09/268,519; and U.S. patent application Ser. No. 09/928,024, each of which were previously referred to and incorporated by reference for additional details).</div>
<div class="description-paragraph" id="p-0202" num="0280">The groups may be formed based on the topography of the television viewing network (i.e., based on nodes within the system). The groups would then consist of clusters of subscribers, wherein each of the clusters could be associated with a node, branch or other element of the system (see U.S. Provisional Application No. 60/278,612 and U.S. patent application Ser. No. 09/928,024, each of which were previously referred to and incorporated by reference for additional details). In an alternative embodiment, the STB may receive the additional data (i.e., geodemographic data, other transaction data) directly and incorporate this data into the generated profiles (i.e., signature profiles) to develop enhanced profiles. These enhanced profiles can then be forwarded to the HE for aggregation and potential grouping as described above.</div>
<div class="description-paragraph" id="p-0203" num="0281">Regardless of where the enhanced profiles are generated, there is likely a practical limit to how many different groups are formed (i.e., 5). The groups may be formed and the advertisements targeted thereto, or ad profiles defining characteristics about the target market of the ad are created and the users are grouped to these profiles. As discussed above, each of the groups may receive material targeted for them. In one embodiment, everybody will receive all content and will select the appropriate content for display based on matching the group number associated with the content and the group number of the STB, or particular user or group of users interacting with the STB. In a preferred embodiment, each STB will receive only the content associated with it based on what group it falls in, thus saving bandwidth. If the content is targeted ads, the targeted ads may be inserted in place of the default ads to create a plurality of presentation streams (programs with targeted ads). Local cable companies have the equipment necessary to insert targeted ads as they are permitted to substitute local ads in place approximately 20% of the default ads. In the preferred embodiment, it is necessary for the television system to be able to route the different presentation streams to different areas (i.e., nodes, branches) within the system so that each user only receives the appropriate presentation stream (see U.S. patent application Ser. No. 09/553,637; International Patent Application No. PCT/US00/10633; U.S. patent application Ser. No. 09/553,099; U.S. patent application Ser. No. 09/694,848; International Patent Application No. PCT/US00/29034; and U.S. patent application Ser. No. 09/750,800, each of which were previously referred to and incorporated by reference for additional details).</div>
<div class="description-paragraph" id="p-0204" num="0282">In an alternative embodiment, the STB will insert specific content (i.e., targeted ads) locally. Thus, each subscriber may, in effect, have ads targeted directly to them. The ads may be inserted in avails (advertisement opportunities) regardless of the programming being viewed. The STB may receive the targeted ads via an ad channel. The ads may be delivered ahead of time and stored on the STB, or be received at approximately the same time as the avail and inserted on the fly. If the ads are to be stored on the STB, the ad channel may deliver a plurality of ads on the ad channel with the STB selecting the appropriate ads to store thereon. The selection may be made based on group designations or may be made by comparing the ad profile with the signature profiles on the STB. In addition to the ads, an ad queue will need to be generated and stored on the STB to define what order the ads are inserted and what criteria affect the criteria (see U.S. patent application Ser. No. 09/712,790; International Patent Application No. PCT/US01/27217; U.S. patent application Ser. No. 09/731,606; U.S. patent application Ser. No. 09/748,943; U.S. patent application Ser. No. 09/750,800; and U.S. patent application Ser. No. 09/824,434, each of which were previously referred to and incorporated by reference for additional details).</div>
<div class="description-paragraph" id="p-0205" num="0283">In an alternative embodiment, the ad queue may be stored on the STB while the ads are stored somewhere else within the network. When the ad queue determines the next ad to be inserted, the ad is retrieved from the network and delivered to the STB. The ad may be delivered over an ad channel or over a dedicated line (such as an Internet connection). If the ad channel was used the ads may be delivered in real time (would require coordination between program(s) and ad channel), or ahead of time and temporarily stored (i.e., start delivering one avail in advance). The ads could be delivered on the ad channel either at the actual bit rate for the ad or at a slower bit rate where portions of the ad are stored as they are received. As one skilled in the art would recognize, the Internet connection provides both benefits and drawbacks. The drawback is the need the separate connection. The benefit is that the queue points to the URL address for the ad so the ad is displayed upon selection from the queue (see U.S. patent application Ser. No. 09/742,506, which was previously referred to and incorporated by reference for additional detail).</div>
<div class="description-paragraph" id="p-0206" num="0284">In a preferred embodiment, the ad queue is actually a plurality of ad queues with a different queue associated with each signature, or group of signatures. When the VCPS <b>290</b> determines that a session has ended and thus a new user or group of users (identified by a correlation with a new signature) is interacting with the TV, the ad queue changes to the one associated with that signature. Moreover, the ad queue may be adjusted based on the programs being watched as certain advertisers may not want ads displayed during certain programs or may pay a premium for insertion in other programs (See U.S. patent application Ser. No. 09/742,852, which was previously referred to and incorporated by reference for additional detail).</div>
<div class="description-paragraph" id="p-0207" num="0285">According to another embodiment, the STB may also store ads and ad queues for other types of targeted advertisements such as EPGs, program bugs (overlay in the corner of the video), product placement (illustration of product placed in program, such as a Coke can placed in actors hand), trick play ads (shortened version of ad displayed when user fast forwards through recorded ad), and record ads (alternative ads placed in a recorded program if it is determined that different subscriber is viewing or if it is being viewed for more than the first time). The ad queue could be used to manage how all of these ads are displayed so as not to saturate the viewer but yet enhance the advertisement effectiveness. The various types of ads and possible coordination therebetween are discussed in U.S. Provisional Patent Application No. 60/238,056; U.S. patent application Ser. No. 09/749,255; International Patent Application No. PCT/US01/31682; U.S. patent application Ser. No. 09/680,622; U.S. Provisional Patent Application No. 60/281,067; and U.S. Provisional Patent Application No. 60/329,992, each of which have all previously been referred to and incorporated by reference for additional detail.</div>
<div class="description-paragraph" id="p-0208" num="0286">Regardless of what is being correlated (ad profile to signature profile, session profile to signature profile), how many different elements are being correlated (program genre; program genre, channel changes and networks), and whether the different elements are weighted or not, there are numerous ways to perform these correlations. If the profiles are in the form of vectors you can perform a scalar dot product on the vectors to determine the correlation between the two vectors. In order for a scalar dot product to work the vectors must be normalized. That is, the magnitude of the vector must be 1.0. To calculate the magnitude, take the square root of the sum of the squares of the components as shown below.</div>
<div class="description-paragraph" id="p-0209" num="0287">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
<mrow>
<mo></mo>
<mi>V</mi>
<mo></mo>
</mrow>
<mo>=</mo>
<msqrt>
<mrow>
<munderover>
<mo>∑</mo>
<mrow>
<mi>i</mi>
<mo>=</mo>
<mn>1</mn>
</mrow>
<mi>N</mi>
</munderover>
<mo>⁢</mo>
<msubsup>
<mi>V</mi>
<mi>i</mi>
<mn>2</mn>
</msubsup>
</mrow>
</msqrt>
</mrow>
</math>
</maths>
</div>
<div class="description-paragraph" id="p-0210" num="0288">To normalize the vector, divide each component by the magnitude of the vector. Sample dot products are shown below.</div>
<div class="description-paragraph" id="p-0211" num="0289">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
<mrow>
<mrow>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
<mo>·</mo>
<mrow>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
</mrow>
<mo>=</mo>
<mrow>
<mrow>
<mrow>
<mn>1.00</mn>
<mo>⁢</mo>
<mstyle>
<mtext>
</mtext>
</mstyle>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
<mo>·</mo>
<mrow>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>1.0</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.0</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.0</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.0</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
</mrow>
<mo>=</mo>
<mrow>
<mrow>
<mrow>
<mn>0.50</mn>
<mo>⁢</mo>
<mstyle>
<mtext>
</mtext>
</mstyle>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
<mo>·</mo>
<mrow>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.4</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.1</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.2</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.3</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
</mrow>
<mo>=</mo>
<mn>0.46</mn>
</mrow>
</mrow>
</mrow>
</math>
</maths>
</div>
<div class="description-paragraph" id="p-0212" num="0290">One problem with the simple scalar dot product is that, it is possible to have vectors that do not match each other have the same scalar dot product as vectors that are identical (first illustrated vector above).</div>
<div class="description-paragraph" id="p-0213" num="0291">According to another embodiment, the variance (σ<sup>2</sup>) and standard deviation (σ) of vectors may be used to calculate the correlation. Assuming the two vectors that we wish to correlate are labeled A and B, the variance is defined by the following function:</div>
<div class="description-paragraph" id="p-0214" num="0292">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mrow>
<msup>
<mi>σ</mi>
<mn>2</mn>
</msup>
<mo>=</mo>
<mrow>
<mfrac>
<mn>1</mn>
<mi>N</mi>
</mfrac>
<mo>⁢</mo>
<mrow>
<munderover>
<mo>∑</mo>
<mrow>
<mi>i</mi>
<mo>=</mo>
<mn>1</mn>
</mrow>
<mi>N</mi>
</munderover>
<mo>⁢</mo>
<msup>
<mrow>
<mo>(</mo>
<mrow>
<msub>
<mi>A</mi>
<mi>i</mi>
</msub>
<mo>-</mo>
<msub>
<mi>B</mi>
<mi>i</mi>
</msub>
</mrow>
<mo>)</mo>
</mrow>
<mn>2</mn>
</msup>
</mrow>
</mrow>
</mrow>
</math>
</maths>
</div>
<div class="description-paragraph" id="p-0215" num="0293">The equation produces a low variance if there are only small differences between the components of each vector. This indicates a high correlation. A variance of zero indicates that there is no difference between the two vectors. Since each distribution vector is normalized, the square of the difference of each component will be in the range of 0 through 1. Since the variance is the average of this value, the variance will be limited to the same range. The actual variances will be small since the differences between components of a distribution will be small, and the differences are squared.</div>
<div class="description-paragraph" id="p-0216" num="0294">The standard deviation, σ, is the square root of the variance. Since the variance will be very small, the square root will increase the value. Therefore, it is suggested that the standard deviation be used as the basis of the correlation value. As a correlation of 1.0 would reflect a perfect match a standard deviation of 0.0 is a perfect match. Since the standard deviation will be constrained to values between 0 and 1, the following equation is suggested for the correlation:
<br/>
correlation=1−σ
</div>
<div class="description-paragraph" id="p-0217" num="0295">Using the above examples, the correlations are now calculated as:</div>
<div class="description-paragraph" id="p-0218" num="0296">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mrow>
<mrow>
<mrow>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
<mo>⁡</mo>
<mrow>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
</mrow>
<mo>=</mo>
<mrow>
<mrow>
<mrow>
<mn>1.00</mn>
<mo>⁢</mo>
<mstyle>
<mtext>
</mtext>
</mstyle>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
<mo>⁡</mo>
<mrow>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>1.0</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.0</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.0</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.0</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
</mrow>
<mo>=</mo>
<mrow>
<mrow>
<mrow>
<mn>0.56</mn>
<mo>⁢</mo>
<mstyle>
<mtext>
</mtext>
</mstyle>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.25</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
<mo>⁡</mo>
<mrow>
<mo>[</mo>
<mtable>
<mtr>
<mtd>
<mn>0.4</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.1</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.2</mn>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0.3</mn>
</mtd>
</mtr>
</mtable>
<mo>]</mo>
</mrow>
</mrow>
<mo>=</mo>
<mn>0.88</mn>
</mrow>
</mrow>
</mrow>
</math>
</maths>
</div>
<div class="description-paragraph" id="p-0219" num="0297">The above examples of correlation methods are exemplary in nature and in no way are intended to limit the scope of the invention. As would be obvious to one or ordinary skill in the art, there are numerous other methods for determining the correlation between profiles that would be well within the scope of the current invention.</div>
<div class="description-paragraph" id="p-0220" num="0298">As will be evident to those of ordinary skill in the art, the VCPS <b>290</b> application and other software components, can be implemented in a variety of software languages, including C, C++, and Java. Moreover, the VCPS can be implemented on and/or integrated with a variety of STB platforms, including those boxes produced by Motorola (formerly General Instrument) and Scientific Atlanta, and with a variety of operating systems, including VxWorks and PowerTV, and with a variety of middlewares such as those produced by Liberate and OpenTV.</div>
<div class="description-paragraph" id="p-0221" num="0299">Although this invention has been illustrated by reference to specific embodiments, it will be apparent to those skilled in the art that various changes and modifications may be made which clearly fall within the scope of the invention. The invention is intended to be protected broadly within the spirit and scope of the appended claims.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">10</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM260101586">
<claim-statement>What is claimed is:</claim-statement>
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. A computer-implemented method of profiling one or more viewers for targeted advertising, the one or more viewers interacting with a video receiver, the method comprising:
<div class="claim-text">starting a first viewing session;</div>
<div class="claim-text">receiving one or more programming streams including one or more video programs;</div>
<div class="claim-text">storing, at regular time intervals, program data, the program data including identification data describing the one or more video programs and a corresponding time interval;</div>
<div class="claim-text">monitoring and storing a plurality of interactions with video controls of the particular viewer during the first viewing session;</div>
<div class="claim-text">ending the first viewing session;</div>
<div class="claim-text">aggregating at least a portion of the plurality of the interactions and the program data in a new session profile that represents the particular viewer's short-term viewing habits;</div>
<div class="claim-text">accessing one or more existing signature profiles, each signature profile having signature categories that represent the long-term viewing habits of a respective viewer; and</div>
<div class="claim-text">matching the new session profile with one of the one or more existing signature profiles to deliver a particular viewer a targeted advertisement.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<div class="claim-text">creating a new signature profile for a new viewer when the new session profile does not match an existing signature profile.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00003" num="00003">
<div class="claim-text">3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the new session profile includes session category values.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00004" num="00004">
<div class="claim-text">4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the step of matching a new session profile includes comparing the session category values with the signature category values.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00005" num="00005">
<div class="claim-text">5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the matching signature profile is identified without determining an actual identity of the particular viewer.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00006" num="00006">
<div class="claim-text">6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the session profile and the signature profile identify viewing habits that determine a plurality of advertisement categories for a particular viewer.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00007" num="00007">
<div class="claim-text">7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the session profile and the signature profile include a plurality of demographic categories for a particular viewer.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00008" num="00008">
<div class="claim-text">8. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the plurality of demographic categories is assigned values based upon application of heuristic rules.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00009" num="00009">
<div class="claim-text">9. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the plurality of demographic categories is assigned values obtained from geodemographic data associated with distinct ZIP+4 geographies in which the particular viewer is located while viewing the video.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00010" num="00010">
<div class="claim-text">10. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the plurality of demographic categories is used for targeted advertising purposes.</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    