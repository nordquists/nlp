
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US10805842B2 - Mobile network operator (MNO) control of WiFi QOS via EAP/diameter 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="docdb" mxw-id="PA418467018" source="national office">
<div class="abstract">A mobile network operator (MNO) may control WiFi QoS. 3GPP has specified control mechanisms for various levels of quality of service (QoS) over the cellular access and core network. Embodiments described herein provide differentiation of WiFi QoS based on MNO requirements. In particular, extensible authentication protocol (EAP) and diameter messages may be extended to include a wireless local area network QoS parameter. This may be used by user equipment to set the uplink 802.11e User Priority (UP) for offloaded or evolved packet core-routed WiFi traffic.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES276417780">
<heading id="h-0001">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<div class="description-paragraph" id="p-0002" num="0001">This application is a divisional of U.S. patent application Ser. No. 15/022,081 filed Mar. 15, 2016 which was a National Stage Application filed under 35 U.S.C. 371 of International Application No. PCT/US2014/055859, filed Sep. 16, 2014, which claims the benefit of U.S. Provisional Patent Ser. No. 61/878,260, filed Sep. 16, 2013, the disclosures of which are hereby incorporated by reference as if set forth in their entirety herein</div>
<heading id="h-0002">BACKGROUND</heading>
<div class="description-paragraph" id="p-0003" num="0002">3GPP standards for cellular and WiFi interworking have been available since Release 6, evolving in Release 8, and expanding in subsequent releases. Institute of Electrical and Electronics Engineers (IEEE) has also ratified the 802.11u standard, Amendment for “Interworking with External Networks” which addresses wireless local area network (WLAN) enhancements in subscription service provider networks (SSPNs), such as those operated by 3GPP MNOs. However, feature deployment has been limited even though these standards enable access to operator-provided services and mobility between cellular and WiFi.</div>
<div class="description-paragraph" id="p-0004" num="0003">Mobile network operators (MNOs) may provide subscribers with managed network access using both cellular and WiFi technologies. Currently, MNOs typically consider WiFi only as a way to offload Internet-based traffic for their dual-mode subscribers. In current approaches, an MNO may configure certain handset applications to always use WiFi for Internet access when WiFi is available. For example, an MNO may configure applications to use WiFi when the applications are in low mobility scenarios and while they are within a WiFi hotspot. Current approaches to using WiFi may reduce congestion on the MNO's cellular and core networks, but the reduced congestion may come with a cost.</div>
<heading id="h-0003">SUMMARY</heading>
<div class="description-paragraph" id="p-0005" num="0004">Described herein are methods, devices, and systems for MNO control of WiFi quality of service (QoS). In one embodiment in which a system comprises a user equipment (UE) and a mobile network operator (MNO), a QoS parameter may be inserted into a diameter message, whereby the UE is provided with QoS policies that are specified by the MNO. In accordance with another embodiment, a UE sets a user priority for wireless local area network uplink traffic flows according to a policy of the MNO. For example, the policy may be pre-configured or may be signaled by mechanisms described herein. Different WiFi QoS may be provided based on MNO requirements.</div>
<div class="description-paragraph" id="p-0006" num="0005">In an example embodiment, a server, for instance a trusted wireless access network (TWAN) server, may receive a message that indicates a wireless local area network (WLAN) quality of service (QoS) parameter. The message may be formatted in accordance with an extended diameter message. The server may insert the WLAN QoS parameter into an extended extensible authentication protocol (EAP) message, thereby providing a QoS policy specified by an MNO to the UE. Further, the TWAN server may send a diameter message to a second server. The diameter message may be indicative of an identity of the UE. The TWAN server may monitor extensible authentication protocol (EAP) messages between the UE and the second server. Based on the monitored EAP messages and the identity of the UE, the TWAN server may identify the WLAN QoS policy associated with the UE. The TWAN server may send the identified WLAN QoS policy to the UE, for instance via an extended EAP message.</div>
<div class="description-paragraph" id="p-0007" num="0006">This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to be used to limit the scope of the claimed subject matter. Furthermore, the claimed subject matter is not limited to limitations that solve any or all disadvantages noted in any part of this disclosure.</div>
<description-of-drawings>
<heading id="h-0004">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<div class="description-paragraph" id="p-0008" num="0007">A more detailed understanding may be had from the following description, given by way of example in conjunction with accompanying drawings wherein:</div>
<div class="description-paragraph" id="p-0009" num="0008"> <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates an architecture for trusted wireless local area network (WLAN) access to evolved packet core (EPC);</div>
<div class="description-paragraph" id="p-0010" num="0009"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a flow diagram for controlling a WiFi quality of service (QoS) based on global policy in accordance with an example embodiment;</div>
<div class="description-paragraph" id="p-0011" num="0010"> <figref idrefs="DRAWINGS">FIGS. 3A-D</figref> is a flow diagram that for controlling a WiFi QoS based on subscriber policy in accordance with example embodiments;</div>
<div class="description-paragraph" id="p-0012" num="0011"> <figref idrefs="DRAWINGS">FIG. 4A</figref> illustrates an example architecture for trusted wireless local area network (WLAN) access and LTE EPC in which one or more disclosed embodiments may be implemented;</div>
<div class="description-paragraph" id="p-0013" num="0012"> <figref idrefs="DRAWINGS">FIG. 4B</figref> is a system diagram of an example user equipment (UE) or other device that may be used within the communication system illustrated in <figref idrefs="DRAWINGS">FIG. 4A</figref>; and</div>
<div class="description-paragraph" id="p-0014" num="0013"> <figref idrefs="DRAWINGS">FIG. 4C</figref> is a block diagram of an example computing system in which aspects of the communication system of <figref idrefs="DRAWINGS">FIG. 4A</figref> may be embodied.</div>
</description-of-drawings>
<heading id="h-0005">DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS</heading>
<div class="description-paragraph" id="p-0015" num="0014">The ensuing detailed description is provided to illustrate exemplary embodiments and is not intended to limit the scope, applicability, or configuration of the invention. Various changes may be made in the function and arrangement of elements and steps without departing from the spirit and scope of the invention.</div>
<div class="description-paragraph" id="p-0016" num="0015">Integrated small cell and WiFi (ISW) networks are deployments of small cells in the licensed spectrum along with WiFi access points in the unlicensed spectrum. Mobile Network Operators (MNOs) are beginning to incorporate “carrier-grade” WiFi in ways that complement their cellular and core networks through cost-effective integration and interworking. This may drive development of a variety of network architectures, subscriber service options, and policy management mechanisms.</div>
<div class="description-paragraph" id="p-0017" num="0016">ISW network requirements may address lower cost alternatives for Internet traffic offload via WiFi, service continuity between cellular and WiFi, simplified network deployment and management (e.g., via consolidation of cellular and WiFi provisioning mechanisms and self-organizing network (SON) extensions), and enhanced policy-based multi-access traffic management (e.g., via dynamic traffic steering and local enforcement of quality of service (QoS) across cellular and WiFi access technologies).</div>
<div class="description-paragraph" id="p-0018" num="0017">Disclosed herein are solutions for MNO control of WLAN QoS via Extensible Authentication Protocol (EAP) and Diameter messages. If MNOs deploy carrier WiFi, there may be a desire for access points (APs) and subscriber handsets to support at least some 802.11e or WiFi Alliance (WFA) Wireless Multimedia (WMM) QoS features so that the MNOs can offer value-added services via different levels of QoS over WiFi. For uplink data (WiFi transmission from the UE) a mechanism can be defined for providing operator-specified QoS policies to the user equipment (UE) directly from a 3GPP AAA server. The UE may also use these MNO policies to request a specified QoS level for specific downlink traffic streams from a wireless local area network (WLAN) AP.</div>
<div class="description-paragraph" id="p-0019" num="0018">To give further context, discussed below are relevant WiFi standards for WLANs QoS and WLANs as associated with 3GPP. 3GPP has specified control mechanisms for various levels of QoS over the cellular access and core network. As detailed herein, these capabilities are extended to include differentiation of WLAN QoS based on MNO requirements as may be similarly applied to cellular access networks.</div>
<div class="description-paragraph" id="p-0020" num="0019">WiFi may be used for inexpensive delivery of MNO value-added packet data services, including mobile session continuity, via unlicensed spectrum. Adjustments may be made for delivering better QoS for offloaded WiFi traffic depending on how and where the offload is done. For instance, WLANs may support QoS differentiation using the WMM standards based on IEEE 802.11e. IEEE 802.11e refers to Amendment <b>8</b>: Medium Access Control (MAC) Quality of Service Enhancements. Applications using the WMM APIs can prioritize 802.11e MAC frames according to user priorities (UPs) mapped to access categories (ACs) for voice, video, best effort, or background. The four AC queues allow higher priority frames to be transmitted with a statistically lower wait time than lower priority frames.</div>
<div class="description-paragraph" id="p-0021" num="0020"> <figref idrefs="DRAWINGS">FIG. 1</figref> illustrates a simplified architecture for a Trusted WLAN access network (TWAN) connected with an EPC. Further details regarding the TWAN are discussed with regard to <figref idrefs="DRAWINGS">FIG. 4A</figref> thru <figref idrefs="DRAWINGS">FIG. 4C</figref>. According to section 16.1.1 of TS 23.402, when the WLAN is considered trusted by the operator, TWAN <b>101</b> interfaces with EPC <b>119</b> in multiple ways. TWAN <b>101</b> may interface with EPC <b>119</b> via STa interface <b>104</b> for authentication procedures with 3GPP AAA server <b>107</b>. STa interface <b>104</b> securely transports access authentication, authorization, mobility parameters and charging-related information. In addition, TWAN <b>101</b> may interface with EPC <b>119</b> via S2a interface <b>106</b> for bearer management procedures with packet data network (PDN) gateway (PGW) <b>108</b>. ANDSF server <b>114</b> may be located in EPC <b>119</b> and communicate with UE <b>102</b> via communicatively connected PGW <b>108</b>. ANDSF server <b>114</b> may communicate to UE <b>102</b> using an s14 interface <b>100</b>. ANDSF server <b>114</b> may initiate a push to distribute its information to UE <b>102</b> or UE <b>102</b> may query ANDSF server <b>114</b> to pull desired information.</div>
<div class="description-paragraph" id="p-0022" num="0021">TS 23.402 considers the detailed functional split within TWAN <b>101</b> as out of scope for 3GPP. The external behavior exposed by the SWw interface <b>105</b>, S2a interface <b>106</b>, and STa interface <b>107</b> are considered in scope for 3GPP. Nevertheless, functions such as WLAN AN <b>113</b>, Trusted WLAN Access Gateway (TWAG) <b>117</b>, and Trusted WLAN AAA Proxy (TWAP) <b>115</b> are assumed in scope of TWAN <b>101</b>. WLAN AN <b>113</b> consists of one or more WLAN Access Points (APs). An AP terminates the UE's WLAN IEEE 802.11 link via SWw interface <b>105</b>. These could be standalone APs or APs connected to a Wireless LAN Controller (WLC), e.g., using IETF CAPWAP/DTLS protocols.</div>
<div class="description-paragraph" id="p-0023" num="0022">TWAG <b>117</b> acts as the default IP router for UE <b>102</b> on its access link and terminates the GTP-based S2a interface <b>106</b> with the PGW <b>108</b>. It also acts as a DHCP server for UE <b>102</b>. TWAG <b>117</b> maintains a UE MAC address association for forwarding packets between UE <b>102</b> and TWAG <b>117</b> via a point-to-point link through the AP (not shown) in WLAN <b>113</b> and the S2a GTP-u tunnel for UE <b>102</b> toward PGW <b>108</b>. The implementation of the point-to-point link, including how and when it is setup, is out-of-scope of 3GPP (e.g., WiFi procedures are defined by the WiFi Alliance and IEEE 802.11, while WiFi network discovery and selection decisions are based on UE implementation).</div>
<div class="description-paragraph" id="p-0024" num="0023">TWAP <b>115</b> terminates the Diameter-based STa interface <b>104</b> with 3GPP AAA Server <b>107</b>. Diameter refers to the IETF authentication, authorization, and accounting protocol. TWAP <b>115</b> relays the AAA information between WLAN AN <b>113</b> and 3GPP AAA Server <b>107</b> (or Proxy in case of roaming). TWAP <b>115</b> establishes the binding of UE <b>102</b> subscription data including international mobile subscriber identity (IMSI) with UE <b>102</b> MAC address and can inform TWAG <b>117</b> of layer 2 attach and detach events. There may be an analogy drawn to 3GPP “attach” which can be viewed as an “authentication” procedure with the core network. TWAP <b>115</b> may also provide TWAG <b>117</b> with subscription information for UE <b>102</b>, such as IMSI or MAC bindings.</div>
<div class="description-paragraph" id="p-0025" num="0024">The 3GPP Release 11 SA2 work item for “52a Mobility Over GTP” (SaMOG) has focused on enabling a GPRS tunneling protocol (GTP)-based S2a interface between PGW <b>108</b> and TWAN <b>101</b>. The 3GPP Release 11 architectures, functional descriptions, and procedures for GTP-based S2a over Trusted WLAN access were standardized in section 16 of TS 23.402. The applicable GTP control plane protocol for tunnel management (GTPv2-C) is specified in TS 29.274 and the GTP user plane is specified in TS 29.281. A focus of SaMOG is “trusted access to the EPC,” hence, the procedures begin with an “initial attachment” to EPC <b>101</b>. Just as in LTE, successful completion of the initial attach procedure results in establishment of a “default” EPC <b>101</b> bearer enabling an “always-on” connection with the core network via a GTP tunnel on S2a interface <b>106</b>. For SaMOG, direct offload to the Internet <b>111</b> is not relevant, because in the situation of direct offload to the Internet <b>111</b> the user plane connection to EPC <b>119</b> is bypassed and no GTP tunnels are established. Home subscriber server (HSS) <b>109</b> or 3GPP AAA server <b>107</b> may indicate via STa interface <b>104</b> whether access to EPC <b>119</b> via S2a interface <b>106</b> or the use of non-seamless WLAN offload (NSWO) or both are allowed for a subscriber.</div>
<div class="description-paragraph" id="p-0026" num="0025">UE <b>102</b> initiates an “initial attach” with TWAN <b>101</b> using “TWAN-specific L2 procedures” that are outside the scope of 3GPP. For WLAN, this would be via IEEE 802.11 procedures followed by the IETF EAPoL-Start message that initiates EAP procedures with the 3GPP AAA server <b>107</b> through TWAP <b>115</b>. By comparison, initiation of an “initial attach” for 3GPP access is done via establishment of an RRC connection with an evolved node B (eNB) followed by 3GPP-specified non-access stratum (NAS) signaling with a mobility management entity (MME).</div>
<div class="description-paragraph" id="p-0027" num="0026">After standard EAP-based authentication, TWAP <b>115</b> provides TWAG <b>117</b> with the default access point name (APN) retrieved from HSS subscription data via 3GPP AAA server <b>107</b>. TWAG <b>117</b> then selects PGW <b>108</b> associated with the APN and sends a GTP-C “Create Session Request” to PGW <b>108</b>. This request identifies the RAT type as “Non-3GPP” and includes the Default EPS Bearer QoS (as passed down from HSS <b>109</b>) and a GTP Tunnel Endpoint Identifier (TEID) for TWAN <b>101</b>. Note that this QoS is applicable to the GTP tunnel between the TWAG <b>117</b> and PGW <b>108</b> (S2a interface <b>106</b>)—not to the actual end-to-end EPS bearer which includes the WiFi link, where the WLAN radio interface is considered out of scope for 3GPP. The default bearer QoS includes a QoS Class Identifier (QCI) for a non-guaranteed bit rate (non-GBR). The QCI value represents a resource type (GBR or non-GBR), priority level, packet delay budget, and packet error loss rate, as shown in Table 1 which reflects information from Table 3.9, pg. 57 of “Next Generation Mobile Communications Ecosystem: Technology Management for Mobile Communications by Saad Z. Asif.</div>
<div class="description-paragraph" id="p-0028" num="0027">
<tables id="TABLE-US-00001" num="00001">
<patent-tables colsep="0" frame="none" pgwide="1" rowsep="0">
<table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 1</td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Standardized QCI Characteristics</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="6" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Packet</td>
<td class="description-td">Packet</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Delay</td>
<td class="description-td">Error Loss</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">Resource</td>
<td class="description-td"> </td>
<td class="description-td">Budget</td>
<td class="description-td">Rate</td>
</tr>
<tr class="description-tr">
<td class="description-td">QCI</td>
<td class="description-td">Type</td>
<td class="description-td">Priority</td>
<td class="description-td">(NOTE 1)</td>
<td class="description-td">(NOTE 2)</td>
<td class="description-td">Example Services</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="6" nameend="6" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">1</td>
<td class="description-td">GBR</td>
<td class="description-td">2</td>
<td class="description-td">100 ms</td>
<td class="description-td">10<sup>−2</sup> </td>
<td class="description-td">Conversational Voice</td>
</tr>
<tr class="description-tr">
<td class="description-td">(NOTE 3)</td>
</tr>
<tr class="description-tr">
<td class="description-td">2</td>
<td class="description-td"> </td>
<td class="description-td">4</td>
<td class="description-td">150 ms</td>
<td class="description-td">10<sup>−3</sup> </td>
<td class="description-td">Conversational Video (Live Streaming)</td>
</tr>
<tr class="description-tr">
<td class="description-td">(NOTE 3)</td>
</tr>
<tr class="description-tr">
<td class="description-td">3</td>
<td class="description-td"> </td>
<td class="description-td">3</td>
<td class="description-td"> 50 ms</td>
<td class="description-td">10<sup>−3</sup> </td>
<td class="description-td">Real Time Gaming</td>
</tr>
<tr class="description-tr">
<td class="description-td">(NOTE 3)</td>
</tr>
<tr class="description-tr">
<td class="description-td">4</td>
<td class="description-td"> </td>
<td class="description-td">5</td>
<td class="description-td">300 ms</td>
<td class="description-td">10<sup>−6</sup> </td>
<td class="description-td">Non-Conversational Video (Buffered</td>
</tr>
<tr class="description-tr">
<td class="description-td">(NOTE 3)</td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Streaming)</td>
</tr>
<tr class="description-tr">
<td class="description-td">5</td>
<td class="description-td">Non-GBR</td>
<td class="description-td">1</td>
<td class="description-td">100 ms</td>
<td class="description-td">10<sup>−6</sup> </td>
<td class="description-td">IMS Signalling</td>
</tr>
<tr class="description-tr">
<td class="description-td">(NOTE 3)</td>
</tr>
<tr class="description-tr">
<td class="description-td">6</td>
<td class="description-td"> </td>
<td class="description-td">6</td>
<td class="description-td">300 ms</td>
<td class="description-td">10<sup>−6</sup> </td>
<td class="description-td">Video (Buffered Streaming)</td>
</tr>
<tr class="description-tr">
<td class="description-td">(NOTE 4)</td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">TCP-based (e.g., www, e-mail, chat, ftp, p2p</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">file sharing, progressive video, etc.)</td>
</tr>
<tr class="description-tr">
<td class="description-td">7</td>
<td class="description-td"> </td>
<td class="description-td">7</td>
<td class="description-td">100 ms</td>
<td class="description-td">10<sup>−3</sup> </td>
<td class="description-td">Voice,</td>
</tr>
<tr class="description-tr">
<td class="description-td">(NOTE 3)</td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Video (Live Streaming)</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Interactive Gaming</td>
</tr>
<tr class="description-tr">
<td class="description-td">8</td>
<td class="description-td"> </td>
<td class="description-td">8</td>
<td class="description-td">300 ms</td>
<td class="description-td">10<sup>−6</sup> </td>
<td class="description-td">Video (Buffered Streaming)</td>
</tr>
<tr class="description-tr">
<td class="description-td">(NOTE 5)</td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">TCP-based (e.g., www, e-mail, chat, ftp, p2p</td>
</tr>
<tr class="description-tr">
<td class="description-td">9</td>
<td class="description-td"> </td>
<td class="description-td">9</td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">file sharing, progressive video, etc.)</td>
</tr>
<tr class="description-tr">
<td class="description-td">(NOTE 6)</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="6" nameend="6" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00001" nameend="6" namest="1">[1] NOTE 1:</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00002" nameend="6" namest="1">A delay of 20 ms for the delay between a PCEF and a radio base station should be subtracted from a given PDB to derive the packet delay budget that applies to the radio interface. This delay is the average between the case where the PCEF is located “close” to the radio base station (roughly 10 ms) and the case where the PCEF is located “far” from the radio base station, e.g. in case of roaming with home routed traffic (the one-way packet delay between Europe and the US west coast is roughly 50 ms). The average takes into account that roaming is a less typical scenario. It is expected that subtracting this average delay of 20 ms from a given PDB will lead to desired end-to-end performance in most typical cases. Also, note that the PDB defines an upper bound. Actual packet delays - in particular for GBR traffic - should typically be lower than the PDB specified for a QCI as long as the UE has sufficient radio channel quality.</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00003" nameend="6" namest="1">[2] NOTE 2:</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00004" nameend="6" namest="1">The rate of non congestion related packet losses that may occur between a radio base station and a PCEF should be regarded to be negligible. A PELR value specified for a standardized QCI therefore applies completely to the radio interface between a UE and radio base station.</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00005" nameend="6" namest="1">[3] NOTE 3:</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00006" nameend="6" namest="1">This QCI is typically associated with an operator controlled service, i.e., a service where the SDF aggregate's uplink/downlink packet filters are known at the point in time when the SDF aggregate is authorized. In case of E-UTRAN this is the point in time when a corresponding dedicated EPS bearer is established/modified.</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00007" nameend="6" namest="1">[4] NOTE 4:</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00008" nameend="6" namest="1">If the network supports Multimedia Priority Services (MPS) then this QCI could be used for the prioritization of non real-time data (i.e. most typically TCP-based services/applications) of MPS subscribers.</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00009" nameend="6" namest="1">[5] NOTE 5:</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00010" nameend="6" namest="1">This QCI could be used for a dedicated “premium bearer” (e.g. associated with premium content) for any subscriber/subscriber group. Also in this case, the SDF aggregate's uplink/downlink packet filters are known at the point in time when the SDF aggregate is authorized. Alternatively, this QCI could be used for the default bearer of a UE/PDN for “premium subscribers”.</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00011" nameend="6" namest="1">[6] NOTE 6:</td>
</tr>
<tr class="description-tr">
<td align="left" class="description-td" colspan="6" id="FOO-00012" nameend="6" namest="1">This QCI is typically used for the default bearer of a UE/PDN for non privileged subscribers. Note that AMBR can be used as a “tool” to provide subscriber differentiation between subscriber groups connected to the same PDN with the same QCI on the default bearer.</td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0029" num="0028">PGW <b>108</b> returns a “Create Session Response” to TWAG <b>117</b> including the default EPS Bearer QoS, the allocated UE <b>102</b> IP address, and a TEID for PGW <b>108</b>. A GTP-U tunnel now exists between TWAG <b>117</b> and PGW <b>108</b>. Packets for this EPS bearer are subsequently encapsulated with a GTPv1-U header containing the destination TEID, a UDP header identifying GTPv1-U port number <b>2152</b>, and an “outer IP” header marked with DSCP values corresponding to the QCI. The DSCP mappings are established based on operator policies.</div>
<div class="description-paragraph" id="p-0030" num="0029">PGW <b>108</b> may also initiate creation of dedicated bearers on the GTP-based S2a interface. TWAN <b>101</b> specific resource allocation/modification procedure may be executed in this step in order to support the dedicated bearer QoS. The details of this step are out of the scope of 3GPP.</div>
<div class="description-paragraph" id="p-0031" num="0030">PGW <b>108</b> may also initiate a bearer modification procedure for a GTP-based S2a bearer. This procedure is used to update the TFT for an active default or dedicated S2a bearer, or in cases when one or several of the S2a bearer QoS parameters QCI, GBR, MBR or ARP are modified (including the QCI or the ARP of the default S2a bearer), e.g. due to the HSS Initiated Subscribed QoS Modification procedure.</div>
<div class="description-paragraph" id="p-0032" num="0031">The IPv4 address and/or IPv6 prefix is allocated to UE <b>102</b> when a new PDN connection is established. For instance, TWAG <b>117</b> may request an IPv4 address in the GTP Create Session Request and the IPv4 address is delivered to TWAG <b>117</b> during the GTP tunnel establishment via the GTP Create Session Response from PGW <b>108</b>. When UE <b>102</b> requests the IPv4 address via DHCPv4, TWAG <b>117</b> delivers the received IPv4 address, subnet mask, default route, DNS server name, etc., to UE <b>102</b> within DHCPv4 signaling. UE <b>102</b> can use the subnet mask and the default gateway address for its packet routing decisions. Corresponding procedures are also defined for IPv6. For the case of NSWO, it is assumed TWAN <b>101</b> can support a network address translation (NAT) function and can provide the UE with a local IP address.</div>
<div class="description-paragraph" id="p-0033" num="0032">For Trusted WLAN access to EPC <b>119</b>, the PDN connectivity service is provided by the point-to-point connectivity between UE <b>102</b> and TWAN <b>101</b> concatenated with S2a bearer(s) between TWAN <b>101</b> and PGW <b>108</b>.</div>
<div class="description-paragraph" id="p-0034" num="0033">The S2a bearers include a default bearer as a minimum. When the default bearer is modified and/or when dedicated bearers are established, TFTs containing packet filters are also provided. TWAN <b>101</b> handles uplink packets based on the uplink packet filters in the TFTs received from PGW <b>108</b> for the S2a bearers of the PDN connection. Downlink packets are handled by PGW <b>108</b> based on downlink packet filters in the TFTs stored in PGW <b>108</b> for the S2a bearers of the PDN connection.</div>
<div class="description-paragraph" id="p-0035" num="0034">IEEE 802.11e has standardized two mechanisms for providing QoS enhancements in WLANs, namely, EDCA and HCCA. Subsequently, the WiFi Alliance has adopted some features of the 802.11e EDCA standard into their Wireless MultiMedia (WMM) certification program. The use of these standards have been limited, mostly focused on vendor-specific enterprise deployments (e.g., for voice over WLAN). It has not typically been used for interworking with 3GPP MNO QoS policies.</div>
<div class="description-paragraph" id="p-0036" num="0035">IEEE 802.11e includes MAC capabilities for QoS prioritization in WLANs where transmission opportunities (TXOPs) are determined based on traffic priority. Mechanisms have been standardized using a hybrid coordination function (HCF) in the AP. The HCF may be described as a “hybrid” function because it supports both 1) contention-based channel access (enhanced distributed channel access—EDCA), and 2) controlled channel access (HCF controlled channel access—HCCA). EDCA is a prioritized CSMA/CA contention-based access mechanism. EDCA maps user priorities (UP) to four “access categories” (ACs) allowing higher priority frames to be transmitted with a statistically lower wait time than lower priority frames. The backoff value for each AC is broadcast by the QoS-enabled AP in the beacon frames for use by stations in uplink transmissions. HCF Controlled Channel Access (HCCA) is a contention-free access mechanism based on AP polling mechanisms. Although this can theoretically reduce contention on the medium, in reality there can still be uncontrollable interference from overlapping service areas.</div>
<div class="description-paragraph" id="p-0037" num="0036">The EDCA mechanism provides differentiated, distributed access by mapping eight different user priorities (UPs) to four access categories (ACs). The AC is derived from the UPs as shown below in Table 2, which reflects information from Table 9-1 of IEEE Std 802.11™-2012.</div>
<div class="description-paragraph" id="p-0038" num="0037">
<tables id="TABLE-US-00002" num="00002">
<patent-tables colsep="0" frame="none" rowsep="0">
<table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 2</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">UP-to-AC mappings</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td class="description-td">
<chemistry id="CHEM-US-00001" num="00001">
<div class="patent-image"><a href="https://patentimages.storage.googleapis.com/97/29/1b/e5ae18836b24f2/US10805842-20201013-C00001.png"><img alt="Figure US10805842-20201013-C00001" class="patent-full-image" file="US10805842-20201013-C00001.TIF" he="41.15mm" height="165" id="EMI-C00001" img-content="table" img-format="tif" inline="no" orientation="portrait" src="https://patentimages.storage.googleapis.com/97/29/1b/e5ae18836b24f2/US10805842-20201013-C00001.png" wi="65.62mm" width="262"/></a></div>
<attachments>
<attachment attachment-type="cdx" file="US10805842-20201013-C00001.CDX" idref="CHEM-US-00001"> </attachment>
<attachment attachment-type="mol" file="US10805842-20201013-C00001.MOL" idref="CHEM-US-00001"> </attachment>
</attachments>
</chemistry>
</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0039" num="0038">The UP values are in the range of 0-7, the same as the values defined for 802.1D user priorities (thereby simplifying the mapping). These user priorities were established for layer 2 data link frame prioritization in alignment with earlier class of service (CoS) standards including 802.1D (based on work done in 802.1p). The 802.1D designations are listed as follows: BK=Background, BE=Best Effort, EE=Excellent Effort, CL=Controlled Load, VI=Video (&lt;100 ms delay), VO=Voice (&lt;10 ms delay), and NC=Network Control. User priority 0 is placed into the Best Effort AC instead of the Background AC to preserve backward compatibility with non-QoS stations since the IEEE considers QoS functionality optional.</div>
<div class="description-paragraph" id="p-0040" num="0039">The WiFi Alliance (WFA) defined its WiFi MultiMedia (WMM) certification program called WMM-Admission Control (WMM-AC) to ensure that devices requiring QoS (e.g., for VoIP) are only admitted into the network if sufficient resources are available. For example, a WMM client can include a “Traffic Specification” (TSPEC) in a signaling request to the AP before sending traffic flows of a specific AC type, such as voice.</div>
<div class="description-paragraph" id="p-0041" num="0040">IEEE 802.11u has defined standards for “Interworking with External Networks” such as those managed by 3GPP MNOs. The 802.11u amendment describes methods for WLAN network discovery and selection, QoS mapping from external networks, and prioritized WLAN access for emergency services (e.g., for first responders). The WiFi Alliance has adopted some features of 802.11u network discovery and selection into their Hotspot 2.0 “Passpoint” certification program and the 802.11u QoS enhancements may be addressed in future Passpoint releases.</div>
<div class="description-paragraph" id="p-0042" num="0041">With respect to QoS mapping, 802.11u provides QoS mapping for subscription service provider networks (SSPNs) and other external networks that may have their own layer-3 end-to-end packet marking practice (e.g., differentiated services code point (DSCP) usage conventions). Therefore, a way to remap the layer-3 service levels to a common over-the-air service level is necessary. The QoS map provides stations and access points with a mapping of network-layer QoS packet marking (e.g., DSCP) to 802.11e UPs.</div>
<div class="description-paragraph" id="p-0043" num="0042">For the downlink, at the AP, DSCP values are mapped to EDCA UPs. The non-AP station 802.11 (STA) may also use TSPEC and TCLAS elements in an add traffic stream (ADDTS) request frame to setup a traffic stream in the WLAN. In this method, the UP is specified in the traffic classification (TCLAS) element. The policy used by the AP to choose a specific method to map frames to user priorities is outside the scope of 802.11.</div>
<div class="description-paragraph" id="p-0044" num="0043">For the uplink, at the non-AP STA, external QoS parameters are mapped to IEEE 802.11 QoS parameters, e.g., DSCP to IEEE 802.11 UP and in turn to EDCA ACs. This mapping helps the non-AP STA to construct correct QoS requests to the AP, e.g., ADDTS Request, and to transmit frames at the correct priority. Standards do not specify how a UE sets the DSCP value for uplink packets, if at all. UE <b>102</b> may, for instance, use the value received in the corresponding downlink packet for the corresponding flow.</div>
<div class="description-paragraph" id="p-0045" num="0044">Table 3, which reflects information from IEEE Std 802.11™-2012 Table V-1, shows examples of differentiated services (DiffServ) per hop behavior (PHB) and DSCP mappings for 3GPP UMTS/GPRS traffic classes and 802.11e AC and UP. The mapping of the DSCP to 3GPP UMTS/GPRS traffic class is available in Global System for Mobile Association (GSMA) IR.34 v4.6, while IR.34 v9.0 adds the Evolved Packet System (EPS) QoS Class Identifier (QCI) mappings.</div>
<div class="description-paragraph" id="p-0046" num="0045">
<tables id="TABLE-US-00003" num="00003">
<patent-tables colsep="0" frame="none" pgwide="1" rowsep="0">
<table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 3</td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">Mapping table of DSCP to 3GPP QoS Information and EDCA ACs</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="3" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">QoS Requirement on</td>
<td class="description-td"> </td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="4" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">GPRS Roaming Exchange</td>
<td class="description-td"> </td>
<td class="description-td">UP</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="4" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">MSDU</td>
<td class="description-td">EDCA</td>
<td class="description-td">(as in</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="8" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">3GPP QoS Information</td>
<td class="description-td">DiffServ</td>
<td class="description-td">Max</td>
<td class="description-td">Max</td>
<td class="description-td">MSDU</td>
<td class="description-td">Error</td>
<td class="description-td">Access</td>
<td class="description-td">IEEE</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="10" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">Traffic Class</td>
<td class="description-td">THP</td>
<td class="description-td">PHB</td>
<td class="description-td">DSCP</td>
<td class="description-td">Delay</td>
<td class="description-td">Jitter</td>
<td class="description-td">Loss</td>
<td class="description-td">Ratio</td>
<td class="description-td">Category</td>
<td class="description-td">802.Id)</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="10" nameend="10" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="10" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">Conversational</td>
<td class="description-td">N/A</td>
<td class="description-td">EF</td>
<td class="description-td">101110</td>
<td class="description-td"> 20 ms</td>
<td class="description-td">5 ms</td>
<td class="description-td">0.5%</td>
<td class="description-td">10<sup>−6</sup> </td>
<td class="description-td">AC_VO</td>
<td class="description-td">7, 6</td>
</tr>
<tr class="description-tr">
<td class="description-td">Streaming</td>
<td class="description-td">N/A</td>
<td class="description-td">AF4<sub>1</sub> </td>
<td class="description-td">100010</td>
<td class="description-td"> 40 ms</td>
<td class="description-td">5 ms</td>
<td class="description-td">0.5%</td>
<td class="description-td">10<sup>−6</sup> </td>
<td class="description-td">AV_VI</td>
<td class="description-td">5, 4</td>
</tr>
<tr class="description-tr">
<td class="description-td">Interactive</td>
<td class="description-td">1</td>
<td class="description-td">AF3<sub>1</sub> </td>
<td class="description-td">011010</td>
<td class="description-td">250 ms</td>
<td class="description-td">N/A</td>
<td class="description-td">0.1%</td>
<td class="description-td">10<sup>−8</sup> </td>
<td class="description-td">AC_BE</td>
<td class="description-td">3</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">2</td>
<td class="description-td">AF2<sub>1</sub> </td>
<td class="description-td">010010</td>
<td class="description-td">300 ms</td>
<td class="description-td">N/A</td>
<td class="description-td">0.1%</td>
<td class="description-td">10<sup>−8</sup> </td>
<td class="description-td">AC_BE</td>
<td class="description-td">3</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">3</td>
<td class="description-td">AF1<sub>1</sub> </td>
<td class="description-td">001010</td>
<td class="description-td">350 ms</td>
<td class="description-td">N/A</td>
<td class="description-td">0.1%</td>
<td class="description-td">10<sup>−8</sup> </td>
<td class="description-td">AC_BE</td>
<td class="description-td">0</td>
</tr>
<tr class="description-tr">
<td class="description-td">Background</td>
<td class="description-td">N/A</td>
<td class="description-td">BE</td>
<td class="description-td">000000</td>
<td class="description-td">400 ms</td>
<td class="description-td">N/A</td>
<td class="description-td">0.1%</td>
<td class="description-td">10<sup>−8</sup> </td>
<td class="description-td">AC_BK</td>
<td class="description-td">2, 1</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="10" nameend="10" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0047" num="0046">Table 4 may be constructed for EPC-based networks and reflects information from GSMA IR.34 v9.0.</div>
<div class="description-paragraph" id="p-0048" num="0047">
<tables id="TABLE-US-00004" num="00004">
<patent-tables colsep="0" frame="none" rowsep="0">
<table align="left" class="description-table" cols="1" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="1" nameend="1" namest="1" rowsep="1">TABLE 4</td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td align="center" class="description-td" colspan="1" nameend="1" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">2G/3G/EPS QOS information and their mapping to DSCP values</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">EPS</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="3" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">QoS Information</td>
<td class="description-td">IP transport</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="2" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">QCI</td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="6" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">Signaling</td>
<td class="description-td">Diffserf</td>
<td class="description-td"> </td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td">Traffic Class</td>
<td class="description-td">THP</td>
<td class="description-td">indication</td>
<td class="description-td">PHB</td>
<td class="description-td">DSCP</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td align="center" class="description-td" colspan="6" nameend="5" namest="offset" rowsep="1"> </td>
</tr>
</tbody></table>
<table align="left" class="description-table" cols="6" colsep="0" rowsep="0" width="100%">
<tbody><tr class="description-tr">
<td class="description-td">1</td>
<td class="description-td">Conversational</td>
<td class="description-td">N/A</td>
<td class="description-td">N/A</td>
<td class="description-td">EF</td>
<td class="description-td">101110</td>
</tr>
<tr class="description-tr">
<td class="description-td">2</td>
</tr>
<tr class="description-tr">
<td class="description-td">3</td>
</tr>
<tr class="description-tr">
<td class="description-td">4</td>
<td class="description-td">Streaming</td>
<td class="description-td">N/A</td>
<td class="description-td">N/A</td>
<td class="description-td">AF41</td>
<td class="description-td">100010</td>
</tr>
<tr class="description-tr">
<td class="description-td">5</td>
<td class="description-td">Interactive</td>
<td class="description-td">1</td>
<td class="description-td">Yes</td>
<td class="description-td">AF31</td>
<td class="description-td">011010</td>
</tr>
<tr class="description-tr">
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">(see note)</td>
</tr>
<tr class="description-tr">
<td class="description-td">6</td>
<td class="description-td"> </td>
<td class="description-td"> </td>
<td class="description-td">No</td>
<td class="description-td">AF32</td>
<td class="description-td">011100</td>
</tr>
<tr class="description-tr">
<td class="description-td">7</td>
<td class="description-td"> </td>
<td class="description-td">2</td>
<td class="description-td">No</td>
<td class="description-td">AF21</td>
<td class="description-td">010010</td>
</tr>
<tr class="description-tr">
<td class="description-td">8</td>
<td class="description-td"> </td>
<td class="description-td">3</td>
<td class="description-td">No</td>
<td class="description-td">AF11</td>
<td class="description-td">001010</td>
</tr>
<tr class="description-tr">
<td class="description-td">9</td>
<td class="description-td">Background</td>
<td class="description-td">N/A</td>
<td class="description-td">N/A</td>
<td class="description-td">BE</td>
<td class="description-td">000000</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="6" nameend="6" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0049" num="0048">IETF draft-kaippallimalil-netext-pmip-qos-wifi-01, “Mapping PMIP Quality of Service in WiFi Network,” outlines a recommended mapping between 3GPP QCI, DSCP, and 802.11e Access Category (AC) as shown below in Table 5.</div>
<div class="description-paragraph" id="p-0050" num="0049">
<tables id="TABLE-US-00005" num="00005">
<patent-tables colsep="0" frame="none" rowsep="0">
<table align="left" class="description-table" cols="4" colsep="0" rowsep="0" width="100%">
<thead>
<tr class="description-tr">
<td class="description-td" colspan="4" nameend="4" namest="1" rowsep="1">TABLE 5</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="4" nameend="4" namest="1" rowsep="1"> </td>
</tr>
<tr class="description-tr">
<td class="description-td">QCI</td>
<td class="description-td">DSCP</td>
<td class="description-td">802.11e AC</td>
<td class="description-td">Example 3GPP service</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="4" nameend="4" namest="1" rowsep="1"> </td>
</tr>
</thead>
<tbody><tr class="description-tr">
<td class="description-td">1</td>
<td class="description-td">EF</td>
<td class="description-td">3 AC_VO</td>
<td class="description-td">conversational voice</td>
</tr>
<tr class="description-tr">
<td class="description-td">2</td>
<td class="description-td">EF</td>
<td class="description-td">3 AC_VO</td>
<td class="description-td">conversational video</td>
</tr>
<tr class="description-tr">
<td class="description-td">3</td>
<td class="description-td">EF</td>
<td class="description-td">3 AC_VO</td>
<td class="description-td">real-time gaming</td>
</tr>
<tr class="description-tr">
<td class="description-td">4</td>
<td class="description-td">AF41</td>
<td class="description-td">2 AC_VI</td>
<td class="description-td">buffered streaming</td>
</tr>
<tr class="description-tr">
<td class="description-td">5</td>
<td class="description-td">AF31</td>
<td class="description-td">2 AC_VI</td>
<td class="description-td">IMS signaling</td>
</tr>
<tr class="description-tr">
<td class="description-td">6</td>
<td class="description-td">AF31</td>
<td class="description-td">2 AC_VI</td>
<td class="description-td">buffered streaming</td>
</tr>
<tr class="description-tr">
<td class="description-td">7</td>
<td class="description-td">AF21</td>
<td class="description-td">0 AC_BE</td>
<td class="description-td">interactive gaming</td>
</tr>
<tr class="description-tr">
<td class="description-td">8</td>
<td class="description-td">AF11</td>
<td class="description-td">0 AC_BE</td>
<td class="description-td">web access</td>
</tr>
<tr class="description-tr">
<td class="description-td">9</td>
<td class="description-td">BE</td>
<td class="description-td">1 AC_BK</td>
<td class="description-td">e-mail</td>
</tr>
<tr class="description-tr">
<td align="center" class="description-td" colspan="4" nameend="4" namest="1" rowsep="1"> </td>
</tr>
</tbody></table>
</patent-tables>
</tables>
</div>
<div class="description-paragraph" id="p-0051" num="0050">Although the WFA has adopted portions of 802.11u for network discovery and selection as part of the Hotspot 2.0 initiative and its corresponding Passpoint certification program, the QoS mapping standards have not been included to date. Hotspot 2.0 refers to an approach to public access Wi-Fi by the WFA allowing devices to automatically join a Wi-Fi subscriber service.</div>
<div class="description-paragraph" id="p-0052" num="0051">Given the current gaps of the conventional QoS techniques as eluded to above, there may be a need for adjustments that enable greater adoption of WLAN QoS controls, especially in light of the increased deployment of integrated small cell and WiFi networks. Defined below are extensions to EAP and Diameter for conveying uplink “WLAN QoS” parameters (e.g., QoS parameters for WiFi) to be applied by the UE. As further described below, EAP and Diameter messages may further be extended such that the messages may be interpreted by the TWAN enroute between the UE and 3GPP AAA server, thereby allowing the TWAN to set corresponding QoS for downlink traffic to the UE. Referring generally to <figref idrefs="DRAWINGS">FIGS. 2 and 3A</figref>-D, for offloaded or EPC-routed traffic, the 3GPP AAA server <b>107</b> may provide the UE <b>102</b> with uplink 802.11e user priority (UP) preferences via extended EAP signaling based on HSS <b>109</b> subscription information. The TWAN <b>101</b> may also set the downlink 802.11e UP based on information from the extended EAP and Diameter messages.</div>
<div class="description-paragraph" id="p-0053" num="0052">In an example embodiment, QoS levels are globally configured in the TWAN <b>101</b> (e.g., see <figref idrefs="DRAWINGS">FIG. 2</figref>). In another example embodiment, QoS levels are defined per subscriber based on information stored in the HSS <b>109</b> (e.g., see <figref idrefs="DRAWINGS">FIGS. 3A-D</figref>).</div>
<div class="description-paragraph" id="p-0054" num="0053">For example, a “WLAN QoS” attribute may be implemented in an EAP-AKA′ protocol. As stated in Solution <b>9</b> of 3GPP TR 23.852, which is incorporated by reference as if the disclosure of which is set forth in its entirety herein: “Between the UE and the TWAN/Authenticator, the new information is sent via EAPoL (IEEE 802.1X). Between the TWAN/Authenticator and the 3GPP AAA Server, the EAP-AKA′ payload is transported within Diameter messages. The principle is that the TWAN can read the parameters sent by the UE from the EAP messages, but cannot modify them, i.e., EAP messages are integrity protected, but not encrypted. When the TWAN needs to send a parameter to the UE, it does so indirectly by inserting the parameter in the Diameter message to the 3GPP AAA Server. Then the 3GPP AAA Server relays the parameter in the subsequent EAP message to the UE.”</div>
<div class="description-paragraph" id="p-0055" num="0054">Referring in particular to <figref idrefs="DRAWINGS">FIG. 2</figref>, an example system <b>200</b> includes the UE <b>102</b>, the TWAN <b>101</b>, the 3GPP AAA server <b>107</b>, and the HSS <b>109</b>. It will be appreciated that the example system <b>200</b> is simplified to facilitate description of the disclosed subject matter and is not intended to limit the scope of this disclosure. Other devices, systems, and configurations may be used to implement the embodiments disclosed herein in addition to, or instead of, a system instead of the system <b>200</b>, and all such embodiments are contemplated as within the scope of the present disclosure.</div>
<div class="description-paragraph" id="p-0056" num="0055">Referring to <figref idrefs="DRAWINGS">FIG. 2</figref>, in accordance with the illustrated embodiment, at <b>202</b>, the UE <b>102</b> may store uplink (UL) WiFi QoS policies. At <b>204</b>, the TWAN <b>101</b> may store uplink and downlink (DL) WiFi QoS policies. The QoS policies, which may include parameters or attributes, may be statically configured in the TWAN <b>101</b> and be subsequently updated via an OAM server (not shown). At <b>206</b>, the UE <b>102</b> may attach to the TWAN <b>101</b> via an 802.11 communication. At <b>208</b>, the UE <b>102</b>, TWAN <b>101</b>, 3GPP AAA server <b>107</b>, and HSS <b>109</b> may go through a process of authentication onto a network. Thus, the UE <b>102</b> may be authenticated at <b>208</b>. At <b>210</b>, the TWAN <b>101</b> may send an EAP over LAN (EAPoL) message to the UE <b>102</b>. The message may include an EAP request. At <b>212</b>, the UE <b>102</b> may send an EAP response to the TWAN <b>101</b>. In accordance with the illustrated embodiment, at <b>214</b>, the TWAN <b>101</b>, inserts one or more TWAN UL QoS parameters in a Diameter message. The one or more QoS parameters may be subsequently sent to the UE <b>102</b> in an extended EAP message. At <b>216</b>, the diameter message that includes the one or more QoS parameters is sent to the 3GPP AAA server <b>107</b>. The diameter message may include an AVP (“Attribute Value Pair”) parameter that conveys the TWAN QoS parameters as described herein.</div>
<div class="description-paragraph" id="p-0057" num="0056">Still referring to <figref idrefs="DRAWINGS">FIG. 2</figref>, in accordance with the illustrated example, at <b>218</b>, the 3GPP AAA server <b>107</b> relays the TWAN UL QoS parameters to the UE <b>102</b> in an extended EAP message. For example, at <b>220</b>, the 3GPP AAA server <b>107</b> may send an extended diameter message to the TWAN <b>101</b> that includes the TWAN QoS parameters. Thus, the TWAN <b>101</b>, which also be referred to as a first or TWAN server <b>101</b>, may receive a message that indicates a WLAN QoS parameter. The message may be formatted in accordance with a diameter message. At <b>222</b>, the TWAN <b>101</b> can send an EAPoL message, in particular an EAP request message, to the UE <b>102</b> that includes the TWAN QoS parameters. Thus, the TWAN <b>101</b> may insert the WLAN QoS parameter into an extended extensible authentication protocol (EAP) message, thereby providing a QoS policy specified by the MNO to the UE <b>102</b>. In accordance with the illustrated example, the QoS policy is a global policy that applies to a plurality of user equipment's in the TWAN <b>101</b>. In response to the request, the UE <b>102</b> may send an EAP response message to the TWAN <b>101</b>, at <b>223</b>. At <b>226</b>, the UE <b>102</b>, TWAN <b>101</b>, and 3GPP AAA server may perform an EAP notification. At <b>228</b>, in accordance with the illustrated example, a diameter message, in particular an EAP success message, is sent to the TWAN <b>101</b> from the 3GPP AAA server <b>107</b>. At <b>230</b>, an EAPoL message, in particular the EAP success message, is sent to the UE <b>102</b> from the TWAN <b>101</b>. At <b>232</b>, the UE <b>102</b> may set an UL 802.11e MAC marking per the QoS mapping. Thus, the UE <b>102</b> may set a user priority for WLAN uplink traffic flows according to the WLAN Qos policy. Thereafter, the UE <b>102</b> may provide data to the TWAN <b>101</b> based on the WLAN QoS policy. Similarly, at <b>234</b>, the TWAN <b>101</b> may set a DL 802.11e MAC marking per the QoS mapping. Thus, the TWAN <b>101</b> may set a user priority for WLAN downlink traffic flows in accordance with the WLAN QoS policy. Thereafter, the TWAN <b>101</b> may provide data to the UE <b>102</b> in accordance with the WLAN QoS policy. The HSS <b>109</b> may store QoS policies specified by the MNO.</div>
<div class="description-paragraph" id="p-0058" num="0057">As discussed herein, it should be understood that the entities performing the steps illustrated in <figref idrefs="DRAWINGS">FIG. 2</figref> are logical entities that may be implemented in the form of software (e.g., computer-executable instructions) stored in a memory of, and executing on a processor of, a device, server, or computer system such as those illustrated in <figref idrefs="DRAWINGS">FIG. 4B</figref> or <figref idrefs="DRAWINGS">FIG. 4C</figref>. That is, the method(s) illustrated in <figref idrefs="DRAWINGS">FIG. 2</figref> may be implemented in the form of software (e.g., computer-executable instructions) stored in a memory of a computing device, such as the device or computer system illustrated in <figref idrefs="DRAWINGS">FIG. 4B</figref> or <figref idrefs="DRAWINGS">FIG. 4C</figref>, which computer executable instructions, when executed by a processor of the computing device, perform the steps illustrated in <figref idrefs="DRAWINGS">FIG. 2</figref>.</div>
<div class="description-paragraph" id="p-0059" num="0058">Referring now to <figref idrefs="DRAWINGS">FIG. 3A-D</figref>, an example system <b>300</b> includes the UE <b>102</b>, the TWAN <b>101</b>, the 3GPP AAA server <b>107</b>, the HSS <b>109</b>, the PGW <b>108</b>, and an policy and charging rules function (PCRF) <b>99</b>. It will be appreciated that the example system <b>300</b> is simplified to facilitate description of the disclosed subject matter and is not intended to limit the scope of this disclosure. Other devices, systems, and configurations may be used to implement the embodiments disclosed herein in addition to, or instead of, a system instead of the system <b>300</b>, and all such embodiments are contemplated as within the scope of the present disclosure. In accordance with the illustrated embodiment, the 3GPP AAA Server <b>107</b> may signal the QoS preference to the TWAN <b>101</b> based on the subscriber-specific WiFi QoS information provided by the HSS <b>109</b>. As further described below with reference to <figref idrefs="DRAWINGS">FIGS. 3A-D</figref>, subscriber-specific QoS parameters may be stored in the HSS <b>109</b>, conveyed to the 3GPP AAA Server <b>107</b>, and sent to the UE <b>102</b> via the 3GPP AAA Server <b>107</b> using extensions to the EAP protocol as described herein. Further, the parameters, and thus the messages, may be monitored by the TWAN <b>101</b> enroute to the UE <b>102</b>.</div>
<div class="description-paragraph" id="p-0060" num="0059">Referring in particular to <figref idrefs="DRAWINGS">FIG. 3A</figref>, at <b>302</b>, in accordance with an example embodiment, the UE <b>102</b> may attach to the TWAN <b>101</b> via an 802.11 communication. At <b>304</b>, the UE <b>304</b> may send an EAPoL start message to the TWAN <b>101</b>. In response, at <b>306</b>, an authentication may be initiated. At <b>308</b>, the 3GPP AAA server <b>107</b> may indicate a preference for a non-seamless WLAN offload (NSWO). The NSWO preference may be based on a WLAN QoS policy for a subscriber and/or a flow WLAN QoS policy. At <b>310</b>, the 3GPP AAA Server <b>107</b> sends an AKA′ notification to the UE <b>102</b>. The notification may include, and thus may indicate, the preference for NSWO, which may be per a subscriber WLAN QoS and/or a flow WLAN QoS. At <b>312</b>, in accordance with the illustrated embodiment, the TWAN <b>101</b>, and in particular a signaling sniffer of the TWAN <b>101</b>, sniffs (interprets) EAP signaling and stores relevant subscription information at the TWAN <b>101</b>. For example, TWAN <b>101</b> may monitor EAP messages between the UE <b>102</b> and the 3GPP AAA server <b>107</b>, which may also be referred to as a second server. Example subscription information includes, without limitation, an NSWO preference and a WLAN QoS policy. The Signaling Sniffer may be implemented as a separate logical function while being implemented as part of the TWAN <b>101</b>. At <b>314</b>, the authentication, for instance the authentication of the UE <b>102</b>, concludes.</div>
<div class="description-paragraph" id="p-0061" num="0060">Referring now to <figref idrefs="DRAWINGS">FIG. 3B</figref>, in accordance with an alternative embodiment, at <b>316</b>, the UE <b>102</b> may send an EAPoL start message to the TWAN <b>101</b>. In response, the TWAN <b>101</b> may send an EAPoL request message to the UE <b>102</b> (at <b>318</b>). At <b>320</b>, the UE <b>102</b> may send an EAPoL response message to the TWAN <b>101</b>. At <b>322</b>, the TWAN <b>101</b> may send a diameter message to the 3GPP AAA Server. The diameter message may include the identity of the UE <b>102</b> associated with the EAP response and an identity of the access network. Thus, the TWAN <b>101</b> may send a diameter message to the 3GPP AAA server <b>107</b>, and the diameter message may be indicative of an identity of the UE <b>102</b>. At <b>324</b>, the 3GPP AAA server <b>107</b> requests information from the HSS <b>109</b>. For example, the information may include a WLAN QoS policy that is specific to the UE <b>102</b> based on subscriber information associated with the UE <b>102</b>. Alternatively, the 3GPP AAA server <b>107</b> may provide previously stored preferences, for instance during an example fast re-authentication, for NSWO. The information may include the QoS policy, which may be based on the subscriber (e.g., a user of the UE <b>102</b> and/or the UE <b>102</b> itself) or the flow, for example. At <b>326</b>, the 3GPP AAA server <b>107</b> sends a diameter message to the TWAN <b>101</b>. The message may include the retrieved and/or stored information from <b>324</b>. At <b>328</b>, in accordance with the illustrated example, the TWAN <b>101</b> sniffs the EAP signaling and stores relevant subscription information in the TWAN <b>101</b>. Thus, the TWAN <b>101</b> may monitor EAP messages between the UE <b>102</b> and the 3GPP AAA server <b>107</b>. Based on the monitored EAP messages and the identity of the UE <b>102</b>, the TWAN <b>101</b> may identify a WLAN QoS policy associated with the UE <b>102</b>. Example subscription information may include, without limitation, the NSWO preference and the WLAN QoS policy, which may be specific to the UE <b>102</b> based on subscriber information associated with the UE. At <b>330</b>, the TWAN <b>101</b> may send an EAPoL request message to the UE <b>102</b>. The message may include the identified WLAN QoS policy. Thus, the TWAN <b>101</b> may send the identified WLAN QoS policy to the UE <b>102</b>, for instance via an EAP message. The QoS policy may be retrieved via the HSS <b>109</b>. The UE <b>102</b> may send an EAPoL response message to the TWAN <b>101</b>, at <b>332</b>. At <b>334</b>, the TWAN <b>101</b> may send a diameter message that includes the EAP response to the 3GPP AAA server <b>107</b>. At <b>336</b>, the 3GPP AAA server <b>107</b> may send a diameter message that includes an EAP success message to the TWAN <b>101</b>. At <b>338</b>, the TWAN <b>101</b> may relay the EAP success message in an EAPoL message that is sent to the UE <b>102</b>.</div>
<div class="description-paragraph" id="p-0062" num="0061">Referring now to <figref idrefs="DRAWINGS">FIG. 3C</figref>, in accordance with another alternative embodiment, at <b>340</b>, the UE <b>102</b> may send an EAPoL start message to the TWAN <b>101</b>. In response, the TWAN <b>101</b> may send an EAPoL request message to the UE <b>102</b> (at <b>342</b>). At <b>344</b>, the UE <b>102</b> may send an EAPoL response message to the TWAN <b>101</b>. At <b>346</b>, the TWAN <b>101</b> may send a diameter message to the 3GPP AAA Server <b>107</b>. The diameter message may include an EAP request message that may include subscription data. At <b>350</b>, the TWAN <b>101</b> may send an EAPoL request message to the UE <b>102</b>. The UE <b>102</b> may send an EAPoL response message to the TWAN <b>101</b>, at <b>352</b>. At <b>354</b>, the TWAN <b>101</b> may send a diameter message that includes the EAP response to the 3GPP AAA server <b>107</b>. At <b>356</b>, in accordance with the illustrated example, the 3GPP AAA server <b>107</b> requests (retrieves) information from the HSS <b>109</b> if the information was not previously stored. At <b>358</b>, the 3GPP AAA server <b>107</b> sends a diameter message to the TWAN <b>101</b>. The message may include the retrieved information from <b>356</b>. The retrieved information may include, presented by way of example, subscription information, the APN identity, and the WLAN QoS, which may be subscriber based and/or flow based. At <b>360</b>, the TWAN <b>101</b> retrieves subscription data from the received diameter message, and in particular the new diameter AVP. The TWAN <b>101</b> may store relevant WLAN QoS subscription information in the TWAN <b>101</b>. At <b>362</b>, the TWAN <b>101</b> may send an EAPoL request message to the UE <b>102</b>. The EAPoL request message may include the WLAN QoS policy, which may be subscriber based and/or flow based. For example, in some cases, the WLAN QoS policy is specific to the UE <b>102</b>. Thus, the TWAN <b>101</b> may also set a user priority for WLAN downlink traffic flows destined for the UE <b>102</b> in accordance with the WLAN QoS policy. The UE <b>102</b> may send an EAPoL response message to the TWAN <b>101</b>, at <b>364</b>. At <b>366</b>, the TWAN <b>101</b> may send a diameter message that includes the EAP response to the 3GPP AAA server <b>107</b>. At <b>368</b>, the 3GPP AAA server <b>107</b> may send a diameter message that includes an EAP success message to the TWAN <b>101</b>. At <b>370</b>, the TWAN <b>101</b> may relay the EAP success message in an EAPoL message that is sent to the UE <b>102</b>. Thus, the UE <b>102</b> may be authenticated with a server that is controlled by an MNO. Based on the authentication, the UE <b>102</b> may receive a message that indicates a WLAN QoS policy. In various example embodiments, the message is formatted in accordance with an extended EAP message.</div>
<div class="description-paragraph" id="p-0063" num="0062">Referring now to <figref idrefs="DRAWINGS">FIG. 3D</figref>, after any of the authentications described above, a default bearer may be established between the TWAN <b>101</b> and the HSS <b>109</b>, at <b>372</b>. Alternatively, at <b>374</b>, a dedicated bearer may be established between the TWAN <b>101</b> and the HSS <b>109</b>. At <b>376</b>, the UE <b>101</b> may set the UL 802.11e MAC marking per the QoS mapping. Thus, the UE <b>102</b> may set a user priority for WLAN uplink traffic flows according to the WLAN QoS policy specified by the MNO. The UE <b>102</b> may thus provide data to the TWAN <b>101</b> based on the WLAN QoS policy. At <b>378</b>, the TWAN <b>101</b> may set the DL 802.11e MAC marking per the QoS mapping. Thus, the TWAN <b>101</b> may set a user priority for WLAN downlink traffic flows destined for the UE <b>102</b> in accordance with the WLAN QoS policy. The TWAN <b>101</b> may further provide data to the UE <b>102</b> in accordance with the WLAN QoS policy that may be specified by the MNO.</div>
<div class="description-paragraph" id="p-0064" num="0063">Thus, as described above, the TWAN <b>101</b> may include a signaling sniffer that reads the subscriber-specific “WLAN QoS” Diameter extensions provided to the TWAN <b>101</b> by the 3GPP AAA Server <b>107</b>, sniffs the subscriber-specific “WLAN QoS” EAP extensions provided to the UE <b>102</b> by the 3GPP AAA Server <b>107</b>, and/or provides the “WLAN QoS” and associated subscription information to the WiFi QoS Policy Manager.</div>
<div class="description-paragraph" id="p-0065" num="0064">Further, for downlink data over the SWw air interface, the TWAN <b>101</b> may set the 802.11e UP for traffic flows based on pre-configured values or based on an inspection of HSS subscriber info conveyed via the 3GPP AAA server <b>107</b> using extended EAP/Diameter signaling. Pre-configured policies may be used for handling the differentiation of downlink flows. For example, referring to <figref idrefs="DRAWINGS">FIG. 2</figref>, global flow-based policies match configured packet filters. In accordance with the description relative to <figref idrefs="DRAWINGS">FIGS. 3A-D</figref>, using EAP/Diameter with the described “WLAN QoS” extensions, the downlink traffic that is handled is tailored using the WLAN QoS information stored for the user in the HSS <b>109</b>.</div>
<div class="description-paragraph" id="p-0066" num="0065">In an example embodiment for uplink data over the SWw air interface, the UE <b>102</b> sets the 802.11e UP for traffic flows according to a pre-configured operator policy or as signaled by the new mechanisms described above. Pre-configured policies may be used for handling the differentiation of uplink flows, e.g., via flow-based policies matching specified packet filters. Using EAP with the described “WLAN QoS” extension, the uplink traffic handling may be tailored using the WLAN QoS information stored for the user in the HSS <b>109</b>.</div>
<div class="description-paragraph" id="p-0067" num="0066">Referring again to <figref idrefs="DRAWINGS">FIG. 3D</figref>, in some cases, dedicated bearers may be associated with a default PDN connection and may exhibit specific QoS requirements that cannot be adequately handled by the default connection. Packets belonging to the dedicated bearer may be distinguished via packet filters comprising a Traffic Flow Template (TFT). In the TWAN <b>101</b>, the TFTs may be provided via GTP signaling from the PGW <b>108</b> and may be used to route uplink packets from the TWAN <b>101</b> to the PGW <b>108</b> via the associated dedicated bearer. The PGW <b>108</b> may use its TFTs to route downlink packets to the TWAN <b>101</b> via the associated dedicated bearer.</div>
<div class="description-paragraph" id="p-0068" num="0067">As discussed herein, it should be understood that the entities performing the steps illustrated in <figref idrefs="DRAWINGS">FIGS. 3A-D</figref> are logical entities that may be implemented in the form of software (e.g., computer-executable instructions) stored in a memory of, and executing on a processor of, a device, server, or computer system such as those illustrated in <figref idrefs="DRAWINGS">FIG. 4B</figref> and <figref idrefs="DRAWINGS">FIG. 4C</figref>. That is, the method(s) illustrated in <figref idrefs="DRAWINGS">FIGS. 3A-D</figref> may be implemented in the form of software (e.g., computer-executable instructions) stored in a memory of a computing device, such as the device or computer system illustrated in <figref idrefs="DRAWINGS">FIG. 4B</figref> or <figref idrefs="DRAWINGS">FIG. 4C</figref>, which computer executable instructions, when executed by a processor of the computing device, perform the steps illustrated in <figref idrefs="DRAWINGS">FIGS. 3A-D</figref>.</div>
<div class="description-paragraph" id="p-0069" num="0068">Disclosed below are more details with regard to 3GPP architecture that provides cellular LTE and Trusted WLAN access to an EPC. Under current practices, mobile network operators (MNOs) typically employ WiFi for offloading “best effort” Internet traffic from their cellular and core networks. However, increased interest in operator deployment of “small cells” and “carrier WiFi” is expected to encourage MNOs to seek better inter-operability across local cellular and WiFi networks. Generally, “small cells” refer to localized geographic areas providing wireless network access via operator-licensed spectrum using 3GPP-defined cellular Radio Access Technologies (RATs). Although offloaded traffic is discussed herein, it is contemplated that devices that may primarily use WiFi communication may practice the WLAN QoS via EAP/Diameter as disclosed herein.</div>
<div class="description-paragraph" id="p-0070" num="0069">As operators adopt “carrier WiFi” to optimize their networks and reduce expenses, it is expected that there will be a greater deployment of “Trusted” WLAN Access Networks (TWAN) that can interface directly with an operator's Mobile Core Network (MCN). Similarly, it is expected that there will be greater integration of MNO deployed small cell and WiFi access networks within common geographical areas such as high-traffic urban metropolitan hotspot locations. Such integration is motivated by the growing number of smartphones that support both cellular and WiFi access.</div>
<div class="description-paragraph" id="p-0071" num="0070">In this context, the term “trusted WLAN (TWAN) access” refers to the circumstances wherein appropriate measures have been taken to safeguard the EPC from access via the WLAN. Such measures are left to the discretion of the MNO and may, for example, include establishment of a tamper-proof fiber connection between the WLAN and EPC, or establishment of an IPSec security association between the WLAN and a Security Gateway at the EPC edge. In contrast, if the WLAN access is deemed “untrusted,” the WLAN may interface with an evolved Packet Data Gateway (ePDG) at the EPC edge, and the ePDG must establish an IPSec security association directly with each UE accessing the EPC through the WLAN.</div>
<div class="description-paragraph" id="p-0072" num="0071"> <figref idrefs="DRAWINGS">FIG. 4A</figref> is a diagram of an example communication system <b>10</b> in which one or more disclosed embodiments may be implemented. <figref idrefs="DRAWINGS">FIG. 4A</figref> depicts a 3GPP architecture that provides cellular LTE and Trusted WLAN access to EPC <b>119</b>. As described in section 16.1.1 of 3GPP Technical Specification (TS) 23.402, the contents of which are hereby incorporated herein by reference, when WLAN AN <b>113</b> is considered trusted by the operator, the Trusted WLAN Access Network (TWAN) <b>101</b> can be connected to Evolved Packet Core (EPC) <b>119</b> via the STa interface <b>104</b> toward the 3GPP AAA Server <b>107</b> for authentication, authorization, and accounting via the S2a interface <b>106</b> toward PDN Gateway (PGW) <b>108</b> for user plane traffic flows. An alternate path from TWAN <b>101</b> to a local IP network <b>111</b> (i.e., intranet) and/or directly to the Internet <b>111</b> is also shown.</div>
<div class="description-paragraph" id="p-0073" num="0072">3GPP LTE access network <b>121</b> (i.e., evolved Node B) is connected to EPC <b>119</b> via S1-MME interface <b>123</b> which provides a communication path with Mobility Management Entity (MME) <b>125</b>. S1-U interface <b>127</b> provides a communication path with Serving Gateway (SGW) <b>129</b>, which interfaces with PDN Gateway (PGW) <b>108</b> via S5 interface <b>131</b>.</div>
<div class="description-paragraph" id="p-0074" num="0073">A “local gateway” function (L-GW) <b>133</b> provides small cell LTE access, e.g., for Home eNB (HeNB) deployments. Similarly, a “HeNB Gateway” (HeNB GW) <b>135</b> may be used to concentrate control plane signaling for multiple HeNBs toward MME <b>125</b> and could also be used to handle HeNB user plane traffic toward SGW <b>129</b>. A HeNB Management System (HeMS) <b>137</b> provides “plug-and-play” auto configuration of HeNBs based on TR-069 standards published by the broadband forum (BBF) and adopted by 3GPP. A security gateway (SeGW) <b>139</b> provides trusted access to EPC <b>119</b> via HeNB GW <b>135</b>.</div>
<div class="description-paragraph" id="p-0075" num="0074">WLAN AN <b>113</b> comprises one or more WLAN Access Points (APs). An AP (not shown) terminates UE <b>102</b> WLAN IEEE 802.11 link via SWw interface <b>156</b>. The APs may be deployed as standalone APs or as “thin” APs connected to a Wireless LAN Controller (WLC) using, for example, the IETF CAPWAP protocols.</div>
<div class="description-paragraph" id="p-0076" num="0075">TWAG <b>117</b> terminates the GTP-based S2a interface <b>106</b> with the PGW <b>108</b> and may act as the default IP router for UE <b>102</b> on its WLAN access link. It also may act as a DHCP server for UE <b>102</b>. TWAG <b>117</b> typically maintains a UE MAC address association for forwarding packets between UE <b>102</b> (via the WLAN AP) and the associated S2a interface <b>106</b> GTP-U tunnel (via the PGW <b>108</b>).</div>
<div class="description-paragraph" id="p-0077" num="0076">Trusted WLAN AAA Proxy (TWAP) <b>115</b> terminates the Diameter-based STa interface <b>104</b> with the 3GPP AAA Server <b>107</b>. TWAP <b>115</b> relays the AAA information between the WLAN AN <b>113</b> and 3GPP AAA Server <b>107</b> (or Proxy in case of roaming). TWAP <b>115</b> can inform TWAG <b>117</b> of the occurrence of layer 2 attach and detach events. TWAP <b>115</b> establishes the binding of UE subscription data (including IMSI) with UE MAC address and can provide such information to TWAG <b>117</b>.</div>
<div class="description-paragraph" id="p-0078" num="0077">In existing systems, UE <b>102</b> can leverage USIM features for both 3GPP and non-3GPP WLAN access. Processing for authentication and security is described in section 4.9.1 of 3GPP TS 23.402, the contents of which are hereby incorporated by reference in their entirety. As described therein, non-3GPP access authentication, such as that which takes place via WLAN AN <b>113</b>, defines the process that is used for access control and thereby permits or denies a subscriber from attaching to and using the resources of a non-3GPP IP access which is interworked with the EPC <b>119</b>. Non-3GPP access authentication signaling is executed between UE <b>102</b> and the 3GPP AAA server <b>107</b> and HSS <b>109</b>. The authentication signaling may pass through AAA proxies.</div>
<div class="description-paragraph" id="p-0079" num="0078">Trusted 3GPP-based access authentication is executed across STa interface <b>104</b>. The 3GPP based access authentication signaling is based on IETF protocols, e.g., Extensible Authentication Protocol (EAP). STa interface <b>104</b> and Diameter application are used for authenticating and authorizing UE <b>102</b> for EPC <b>119</b> access via trusted non-3GPP accesses. 3GPP TS 29.273, the contents of which are hereby incorporated by reference in its entirety, describes the standard TWAN procedures currently supported on STa interface <b>104</b>.</div>
<div class="description-paragraph" id="p-0080" num="0079">For EPC <b>119</b> access via GTP-based TWAN <b>101</b>, the IPv4 address and/or IPv6 prefix is allocated to UE <b>102</b> when a new PDN connection is established with EPC <b>119</b> over TWAN <b>101</b>. A separate IP address may also be allocated by the TWAN <b>101</b> for local network traffic and/or direct Internet offload.</div>
<div class="description-paragraph" id="p-0081" num="0080">For PDN connectivity through EPC <b>119</b> via TWAN <b>101</b>, TWAN <b>101</b> receives relevant PDN information via EAP/Diameter or WLCP signaling. TWAN <b>101</b> may request an IPv4 address for UE <b>102</b> from PGW <b>108</b> via the GTP Create Session Request. The IPv4 address is delivered to TWAN <b>101</b> during the GTP tunnel establishment via the GTP Create Session Response. When UE <b>102</b> requests an IPv4 address for PDN connectivity via DHCPv4, the TWAN <b>101</b> delivers the received IPv4 address to the UE <b>102</b> within DHCPv4 signaling. Corresponding procedures are also defined for IPv6.</div>
<div class="description-paragraph" id="p-0082" num="0081">For 3GPP LTE access, the UE <b>102</b> automatically triggers a PDN connection as part of its initial attachment to the EPC <b>119</b>. UE <b>102</b> may subsequently establish additional PDN connections as needed.</div>
<div class="description-paragraph" id="p-0083" num="0082">The primary purpose of the attach procedure is for UE <b>102</b> to register with the network in order to receive services for which it has subscribed to. The attach procedure confirms the user's identity, identifies the services it is allowed to receive, establishes the security parameters (e.g., for data encryption), and notifies the network of the UE <b>102</b> initial location (e.g., in case it needs to be paged). Also, to support the “always-on” network connectivity expected by today's users, the LTE standards specify establishment of a default PDN connection as part of the Attach procedure. The radio resources for this default connection may be released during periods of inactivity, however the rest of the connection remains intact and the end-to-end connection can be quickly re-established by reassigning the radio resources in response to UE <b>102</b> service requests.</div>
<div class="description-paragraph" id="p-0084" num="0083">When UE <b>102</b> attempts to attach to EPC <b>119</b> via an (H)eNB LTE network <b>121</b>, it first establishes an RRC connection with the (H)eNB LTE network <b>121</b> and encapsulates the Attach Request within the RRC signaling. (H)eNB LTE network <b>121</b> then forwards the attach request to MME <b>125</b> via S1-AP signaling on S1-MME interface <b>123</b>. MME <b>125</b> retrieves subscription information from HSS <b>109</b> via the S6a interface <b>126</b> in order to authenticate UE <b>102</b> and allow attachment to EPC <b>119</b>.</div>
<div class="description-paragraph" id="p-0085" num="0084">After successfully authenticating the UE <b>102</b>, MME <b>125</b> selects SGW <b>129</b> (e.g., based on proximity to the (H)eNB LTE network <b>121</b>), and also selects PGW <b>108</b> (e.g., based on the default APN retrieved from HSS <b>109</b> or a specific APN requested by UE <b>102</b>). MME <b>125</b> communicates with SGW <b>129</b> over S11 interface <b>124</b> and requests creation of the PDN connection. SGW <b>129</b> executes the signaling to establish a GTP user plane tunnel with the designated PGW <b>108</b> over the S5 interface <b>131</b>.</div>
<div class="description-paragraph" id="p-0086" num="0085">“GTP control” signaling takes place within the S1-AP protocol between the MME <b>125</b> and (H)eNB <b>121</b>. This ultimately leads to the establishment of a GTP user plane tunnel on the S1-U interface <b>127</b> between (H)eNB <b>121</b> and SGW <b>129</b>. The path for the PDN connection between the UE <b>102</b> and PGW <b>108</b> is thus completed through the (H)eNB <b>121</b> and SGW <b>129</b>.</div>
<div class="description-paragraph" id="p-0087" num="0086">The end-to-end path for the PDN connection between the UE <b>102</b> and PGW <b>108</b> is thus completed through (H)eNB <b>121</b> and SGW <b>129</b>.</div>
<div class="description-paragraph" id="p-0088" num="0087">In systems where communications take place via TWAN <b>101</b>, UE <b>102</b> authentication and EPC <b>119</b> attachment is accomplished via EAP signaling between UE <b>102</b> and 3GPP AAA Server <b>107</b>.</div>
<div class="description-paragraph" id="p-0089" num="0088">The PDN connectivity service is provided by the point-to-point connectivity between UE <b>102</b> and the TWAN <b>101</b>, concatenated with S2a bearer(s) <b>106</b> between TWAN <b>101</b> and PGW <b>108</b>. Unlike the LTE model, the WLAN radio resources are “always-on” from an EPC perspective. In other words, any power-saving optimizations are handled transparently using IEEE 802.11 procedures within the WLAN.</div>
<div class="description-paragraph" id="p-0090" num="0089">When UE <b>102</b> attempts to attach to EPC <b>119</b> via TWAN <b>101</b>, it first establishes a Layer 2 connection with the WLAN AN <b>113</b> and encapsulates EAP messages within EAPoL signaling. WLAN AN <b>113</b> forwards the EAP messages to TWAP <b>115</b> which encapsulates the messages within Diameter signaling and forwards the messages to 3GPP AAA Server <b>107</b> via the STa interface <b>104</b>. 3GPP AAA server <b>107</b> retrieves subscription information from the HSS <b>109</b> via the SWx interface <b>128</b> in order to authenticate UE <b>102</b> and allow attachment to EPC <b>119</b>.</div>
<div class="description-paragraph" id="p-0091" num="0090">For 3GPP Release 11, 3GPP AAA Server <b>107</b> also provides TWAN <b>101</b> with information via STa interface <b>104</b> for establishing a PDN connection to the default PDN provisioned in the HSS <b>109</b>. TWAN <b>101</b> then exercises GTP control plane (GTP-C) and user plane (GTP-U) protocols over S2a interface <b>106</b> directly toward PGW <b>108</b>, thereby completing the PDN connection between UE <b>102</b> and PGW <b>108</b> through TWAN <b>101</b>.</div>
<div class="description-paragraph" id="p-0092" num="0091">For 3GPP Release 12, the SaMOG phase-2 work item defines additional procedures for UE-initiated PDN connectivity, multi-PDN connectivity, and seamless inter-system handover. For the case of single-PDN capable TWAN scenarios, EAP extensions are defined to support UE-initiated PDN requests and seamless inter-system handover requests. For the case of multi-PDN capable TWAN scenarios, a WLAN Control Protocol (WLCP) is defined between the UE and TWAN to enable one or more UE PDN connection requests and seamless handover procedures. However, separate procedures are still utilized between the UE and 3GPP AAA Server for UE authentication.</div>
<div class="description-paragraph" id="p-0093" num="0092"> <figref idrefs="DRAWINGS">FIG. 4B</figref> is a system diagram of an example user equipment, such as UE <b>102</b>. Example user equipment (UE) includes, but is not limited to, a mobile station, a fixed or mobile subscriber unit, a pager, a cellular telephone, a personal digital assistant (PDA), a smartphone, a laptop, a netbook, a personal computer, a wireless sensor, consumer electronics, wearable devices, or the like. As shown in <figref idrefs="DRAWINGS">FIG. 4B</figref>, UE <b>102</b> may include a processor <b>32</b>, a transceiver <b>34</b>, a transmit/receive element <b>36</b>, a speaker/microphone <b>38</b>, a keypad <b>40</b>, a display/touchpad <b>42</b>, non-removable memory <b>44</b>, removable memory <b>46</b>, a power source <b>48</b>, a global positioning system (GPS) chipset <b>50</b>, and other peripherals <b>52</b>. It will be appreciated that UE <b>102</b> may include any sub-combination of the foregoing elements while remaining consistent with an embodiment. UE <b>102</b> may be a device that uses the disclosed systems, devices, and methods for WLAN QoS via EAP/Diameter.</div>
<div class="description-paragraph" id="p-0094" num="0093">The processor <b>32</b> may be a general purpose processor, a special purpose processor, a conventional processor, a digital signal processor (DSP), a plurality of microprocessors, one or more microprocessors in association with a DSP core, a controller, a microcontroller, Application Specific Integrated Circuits (ASICs), Field Programmable Gate Array (FPGAs) circuits, any other type of integrated circuit (IC), a state machine, and the like. The processor <b>32</b> may perform signal coding, data processing, power control, input/output processing, and/or any other functionality that enables the UE <b>102</b> to operate in a wireless environment. The processor <b>32</b> may be coupled to the transceiver <b>34</b>, which may be coupled to the transmit/receive element <b>36</b>. While <figref idrefs="DRAWINGS">FIG. 4B</figref> depicts the processor <b>32</b> and the transceiver <b>34</b> as separate components, it will be appreciated that the processor <b>32</b> and the transceiver <b>34</b> may be integrated together in an electronic package or chip. The processor <b>32</b> may perform application-layer programs (e.g., browsers) and/or radio access-layer (RAN) programs and/or communications. The processor <b>32</b> may perform security operations such as authentication, security key agreement, and/or cryptographic operations, such as at the access-layer and/or application layer for example.</div>
<div class="description-paragraph" id="p-0095" num="0094">The transmit/receive element <b>36</b> may be configured to transmit signals to, or receive signals from, WLAN AN <b>113</b> or (H)eNB <b>121</b>. For example, in an embodiment, the transmit/receive element <b>36</b> may be an antenna configured to transmit and/or receive RF signals. The transmit/receive element <b>36</b> may support various networks and air interfaces, such as WLAN, WPAN, cellular, and the like. In an embodiment, the transmit/receive element <b>36</b> may be an emitter/detector configured to transmit and/or receive IR, UV, or visible light signals, for example. In yet another embodiment, the transmit/receive element <b>36</b> may be configured to transmit and receive both RF and light signals. It will be appreciated that the transmit/receive element <b>36</b> may be configured to transmit and/or receive any combination of wireless or wired signals.</div>
<div class="description-paragraph" id="p-0096" num="0095">In addition, although the transmit/receive element <b>36</b> is depicted in <figref idrefs="DRAWINGS">FIG. 4B</figref> as a single element, UE <b>102</b> may include any number of transmit/receive elements <b>36</b>. More specifically, the UE <b>102</b> may employ MIMO technology. Thus, in an embodiment, the UE <b>102</b> may include two or more transmit/receive elements <b>36</b> (e.g., multiple antennas) for transmitting and receiving wireless signals.</div>
<div class="description-paragraph" id="p-0097" num="0096">The transceiver <b>34</b> may be configured to modulate the signals that are to be transmitted by the transmit/receive element <b>36</b> and to demodulate the signals that are received by the transmit/receive element <b>36</b>. As noted above, UE <b>102</b> may have multi-mode capabilities. Thus, transceiver <b>34</b> may include multiple transceivers for enabling UE <b>102</b> to communicate via multiple RATs, such as UTRA and IEEE 802.11, for example.</div>
<div class="description-paragraph" id="p-0098" num="0097">Processor <b>32</b> may access information from, and store data in, any type of suitable memory, such as non-removable memory <b>44</b> and/or removable memory <b>46</b>. Non-removable memory <b>44</b> may include random-access memory (RAM), read-only memory (ROM), a hard disk, or any other type of memory storage device. Removable memory <b>46</b> may include a subscriber identity module (SIM) card, a memory stick, a secure digital (SD) memory card, and the like. In other embodiments, the processor <b>32</b> may access information from, and store data in, memory that is not physically located on UE <b>102</b>, such as on a server or a home computer. The processor <b>32</b> may be configured to control lighting patterns, images, or colors on the display or indicators <b>42</b> in response to whether the WLAN QoS via EAP/Diameter in some of the embodiments described herein are successful or unsuccessful, or otherwise indicate the status of QoS or the processes for implementing QoS (e.g., <figref idrefs="DRAWINGS">FIGS. 2-3D</figref> with associated text).</div>
<div class="description-paragraph" id="p-0099" num="0098">The processor <b>32</b> may receive power from the power source <b>48</b>, and may be configured to distribute and/or control the power to the other components in UE <b>102</b>. The power source <b>48</b> may be any suitable device for powering UE <b>102</b>. For example, the power source <b>48</b> may include one or more dry cell batteries (e.g., nickel-cadmium (NiCd), nickel-zinc (NiZn), nickel metal hydride (NiMH), lithium-ion (Li-ion), etc.), solar cells, fuel cells, and the like.</div>
<div class="description-paragraph" id="p-0100" num="0099">The processor <b>32</b> may also be coupled to the GPS chipset <b>50</b>, which is configured to provide location information (e.g., longitude and latitude) regarding the current location of UE <b>102</b>. It will be appreciated that UE <b>102</b> may acquire location information by way of any suitable location-determination method while remaining consistent with an embodiment.</div>
<div class="description-paragraph" id="p-0101" num="0100">The processor <b>32</b> may further be coupled to other peripherals <b>52</b>, which may include one or more software and/or hardware modules that provide additional features, functionality and/or wired or wireless connectivity. For example, the peripherals <b>52</b> may include an accelerometer, an e-compass, a satellite transceiver, a sensor, a digital camera (for photographs or video), a universal serial bus (USB) port, a vibration device, a television transceiver, a hands free headset, a Bluetooth® module, a frequency modulated (FM) radio unit, a digital music player, a media player, a video game player module, an Internet browser, and the like.</div>
<div class="description-paragraph" id="p-0102" num="0101"> <figref idrefs="DRAWINGS">FIG. 4C</figref> is a block diagram of an exemplary computing system <b>90</b> on which, for example, devices within or connected with the communication system <b>10</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref> and <figref idrefs="DRAWINGS">FIG. 1</figref> may be implemented. Computing system <b>90</b> may comprise a computer or server and may be controlled primarily by computer readable instructions, which may be in the form of software, wherever, or by whatever means such software is stored or accessed. Such computer readable instructions may be executed within central processing unit (CPU) <b>91</b> to cause computing system <b>90</b> to do work. In many known workstations, servers, and personal computers, central processing unit <b>91</b> is implemented by a single-chip CPU called a microprocessor. In other machines, the central processing unit <b>91</b> may comprise multiple processors. Coprocessor <b>81</b> is an optional processor, distinct from main CPU <b>91</b> that performs additional functions or assists CPU <b>91</b>. CPU <b>91</b> and/or coprocessor <b>81</b> may receive, generate, and process data related to the disclosed systems and methods for WLAN QoS via EAP/Diameter, such as receiving appropriate diameter messages or EAP response or request messages.</div>
<div class="description-paragraph" id="p-0103" num="0102">In operation, CPU <b>91</b> fetches, decodes, and executes instructions, and transfers information to and from other resources via the computer's main data-transfer path, system bus <b>80</b>. Such a system bus connects the components in computing system <b>90</b> and defines the medium for data exchange. System bus <b>80</b> typically includes data lines for sending data, address lines for sending addresses, and control lines for sending interrupts and for operating the system bus. An example of such a system bus <b>80</b> is the PCI (Peripheral Component Interconnect) bus.</div>
<div class="description-paragraph" id="p-0104" num="0103">Memory devices coupled to system bus <b>80</b> include random access memory (RAM) <b>82</b> and read only memory (ROM) <b>93</b>. Such memories include circuitry that allows information to be stored and retrieved. ROMs <b>93</b> generally contain stored data that cannot easily be modified. Data stored in RAM <b>82</b> can be read or changed by CPU <b>91</b> or other hardware devices. Access to RAM <b>82</b> and/or ROM <b>93</b> may be controlled by memory controller <b>92</b>. Memory controller <b>92</b> may provide an address translation function that translates virtual addresses into physical addresses as instructions are executed. Memory controller <b>92</b> may also provide a memory protection function that isolates processes within the system and isolates system processes from user processes. Thus, a program running in a first mode can access only memory mapped by its own process virtual address space; it cannot access memory within another process's virtual address space unless memory sharing between the processes has been set up.</div>
<div class="description-paragraph" id="p-0105" num="0104">In addition, computing system <b>90</b> may contain peripherals controller <b>83</b> responsible for communicating instructions from CPU <b>91</b> to peripherals, such as printer <b>94</b>, keyboard <b>84</b>, mouse <b>95</b>, and disk drive <b>85</b>.</div>
<div class="description-paragraph" id="p-0106" num="0105">Display <b>86</b>, which is controlled by display controller <b>96</b>, is used to display visual output generated by computing system <b>90</b>. Such visual output may include text, graphics, animated graphics, and video. Display <b>86</b> may be implemented with a CRT-based video display, an LCD-based flat-panel display, gas plasma-based flat-panel display, or a touch-panel. Display controller <b>96</b> includes electronic components required to generate a video signal that is sent to display <b>86</b>.</div>
<div class="description-paragraph" id="p-0107" num="0106">Further, computing system <b>90</b> may contain network adaptor <b>97</b> that may be used to connect computing system <b>90</b> to an external communications network <b>10</b>.</div>
<div class="description-paragraph" id="p-0108" num="0107">It is understood that any or all of the systems, methods and processes described herein may be embodied in the form of computer executable instructions (i.e., program code) stored on a computer-readable storage medium which instructions, when executed by a machine, such as a computer, server, UE, or the like, perform and/or implement the systems, methods and processes described herein. Specifically, any of the steps, operations or functions described above may be implemented in the form of such computer executable instructions. Computer readable storage media include volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information, but such computer readable storage media do not includes signals. Computer readable storage media include, but are not limited to, RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical disk storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other physical medium which can be used to store the desired information and which can be accessed by a computer.</div>
<div class="description-paragraph" id="p-0109" num="0108">In describing preferred embodiments of the subject matter of the present disclosure, as illustrated in the Figures, specific terminology is employed for the sake of clarity. The claimed subject matter, however, is not intended to be limited to the specific terminology so selected, and it is to be understood that each specific element includes all technical equivalents that operate in a similar manner to accomplish a similar purpose.</div>
<div class="description-paragraph" id="p-0110" num="0109">This written description uses examples to disclose the invention, including the best mode, and also to enable any person skilled in the art to practice the invention, including making and using any devices or systems and performing any incorporated methods. The patentable scope of the invention is defined by the claims, and may include other examples that occur to those skilled in the art. Such other examples are intended to be within the scope of the claims if they have structural elements that do not differ from the literal language of the claims, or if they include equivalent structural elements with insubstantial differences from the literal languages of the claims.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">11</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM271822889">
<claim-statement>What is claimed:</claim-statement>
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. A first server comprising a processor and a memory coupled with the processor, the memory having stored thereon executable instructions that when executed by the processor cause the processor to effectuate operations comprising:
<div class="claim-text">sending a message to a second server, the message indicative of an identity of a user equipment (UE) on an access network;</div>
<div class="claim-text">monitoring messages between the UE and the second server;</div>
<div class="claim-text">based on one or more of an identified traffic flow of the monitored messages, an identity of the access network, and the identity of the UE, providing a wireless local area network (WLAN) quality of service (QoS) policy for the UE;</div>
<div class="claim-text">sending the WLAN QoS policy to the UE; and</div>
<div class="claim-text">applying the WLAN QoS policy to downlink traffic flows destined for the UE.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. The first server as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the WLAN QoS policy is specific to the UE based on subscriber information associated with the UE.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00003" num="00003">
<div class="claim-text">3. The first server as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the instructions, when executed by the processor, further cause the processor to effectuate further operations comprising:
<div class="claim-text">providing data to the UE in accordance with the WLAN QoS policy.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00004" num="00004">
<div class="claim-text">4. The first server as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the instructions, when executed by the processor, further cause the processor to effectuate further operations comprising:
<div class="claim-text">setting a user priority for WLAN downlink traffic flows destined for the UE in accordance with the WLAN QoS policy.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00005" num="00005">
<div class="claim-text">5. The first server as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first server is a trusted wireless access network server, and the second server is a 3GPP AAA server.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00006" num="00006">
<div class="claim-text">6. A method performed by a first server, the method comprising:
<div class="claim-text">sending a message to a second server, the message indicative of an identity of a user equipment (UE);</div>
<div class="claim-text">monitoring messages between the UE and the second server;</div>
<div class="claim-text">based on one or more of an identified traffic flow of the monitored messages, an identity of the access network, and the identity of the UE, providing a wireless local area network (WLAN) quality of service (QoS) policy for the UE;</div>
<div class="claim-text">sending the WLAN QoS policy to the UE; and</div>
<div class="claim-text">applying the WLAN QoS policy to downlink traffic flows destined for the UE.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00007" num="00007">
<div class="claim-text">7. The method as recited in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the WLAN QoS policy is specific to the UE based on subscriber information associated with the UE.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00008" num="00008">
<div class="claim-text">8. The method as recited in <claim-ref idref="CLM-00006">claim 6</claim-ref>, the method further comprising:
<div class="claim-text">providing data to the UE in accordance with the WLAN QoS policy.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00009" num="00009">
<div class="claim-text">9. The method as recited in <claim-ref idref="CLM-00006">claim 6</claim-ref>, the method further comprising:
<div class="claim-text">setting a user priority for WLAN downlink traffic flows destined for the UE in accordance with the WLAN QoS policy.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00010" num="00010">
<div class="claim-text">10. The method as recited in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the first server is a trusted wireless access network server, and the second server is a 3GPP AAA server.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00011" num="00011">
<div class="claim-text">11. An apparatus comprising a processor and a memory coupled with the processor, the apparatus further comprising communications circuitry in communication with a first and second server, the memory having stored thereon executable instructions that when executed by the processor cause the apparatus to effectuate operations comprising:
<div class="claim-text">receiving, from the first server, a policy, the policy being a wireless local area network (WLAN) quality of service (QoS) policy for the apparatus, the policy being provided by the first server based at least in part upon one or more of an identified traffic flow of messages between the apparatus and the second server on an access network, an identity of the access network, and an identity of the apparatus; and</div>
<div class="claim-text">receiving one or more traffic flows in accordance with the policy,</div>
<div class="claim-text">wherein the first server is a trusted wireless access network server, and the second server is a 3GPP AAA server.</div>
</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    