
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US8265564B2 - Apparatus and method for transmitting data in wireless communication system 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="patent-office" mxw-id="PA99993847">
<div class="abstract" num="p-0001">Disclosed is an apparatus and method for transmitting data in a wireless communication system. The apparatus for transmitting a packet data in a wireless communication system includes a Media Access Control (MAC) layer for determining the number of preambles to be inserted based on a feed-back reply signal from a receiver, and generating a multi-preamble aggregation packet by inserting the determined number of preambles into packets received from an upper layer and a physical layer for forming the multi-preamble aggregation packet generated in a data processing unit, by using a physical layer packet, and transmitting the formed multi-preamble aggregation packet.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES51310266">
<heading>CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<div class="description-paragraph" num="p-0002">The present invention claims priority of Korean Patent Application No. 10-2008-0129509, filed on Dec. 18, 2008 which is incorporated herein by reference.</div>
<heading>BACKGROUND OF THE INVENTION</heading>
<div class="description-paragraph" num="p-0003">1. Field of the Invention</div>
<div class="description-paragraph" num="p-0004">The present invention relates to an apparatus and a method for transmitting data in a communication system; and, more particularly, to an apparatus and a method for transmitting data in a wireless communication system.</div>
<div class="description-paragraph" num="p-0005">2. Description of Related Art</div>
<div class="description-paragraph" num="p-0006">In general, a communication system is largely classified into a wired communication system and a wireless communication system. According to the wired communication system, since its connection between a terminal and a network is accomplished through a wire, stable and fast data transmission is possible but there is limitation in a user's activity range. On the contrary, according to the wireless communication system, data are transmitted using a predetermined frequency through a connection between a terminal and a network. As a result, the wireless communication system is relatively slow compared to the wired communication system but there is no limitation in the activity range of a user.</div>
<div class="description-paragraph" num="p-0007">The packet-based high speed wireless communication systems are currently available in the wireless communication system due to the rapid development of techniques. Additionally, various techniques have been continuously studied. Furthermore, techniques, which are applied to channel conditions by controlling a transmission power, have been mainly used in order to effectively transmit data in a high speed. However, if these techniques are solely used, there are various limitations in increasing a packet transmission rate. Therefore, methods capable of increasing a packet transmission rate through more various techniques become necessary.</div>
<div class="description-paragraph" num="p-0008">In order to meet these demands, methods capable of increasing a packet transmission rate through various techniques have been studied and introduced. The wireless communication system is mainly divided into a physical layer and a Media Access Control (MAC) layer. In the physical layer, complex techniques are used to improve a data rate and data transmission to a reliable level. A representative technique, which is usually used in the physical layer to constitute an ultra high-speed wireless communication system, includes a high speed wireless transmission method using a multiple antenna technology based on an orthogonal frequency division multiplexing, a channel encoding method, and a high dimensional modulation method. In addition, the MAC layer defines a certain protocol to provide high quality service to a user and mainly uses a Block acknowledgement (Ack) and aggregation mode technique, in order to provide a high throughput. The aggregation mode can transmit one long packet including connected several packets at once.</div>
<div class="description-paragraph" num="p-0009">For example, according to Institute of Electrical and Electronics Engineers, Inc. (IEEE) 802.11n, which is an international double-balanced standard, a high dimensional modulation method of 64-QAM and a channel coding method having a high code rate and a ⅚code rate are introduced in the physical layer. Moreover, according to IEEE 802.11n, which is an internal wireless Local Area Network (LAN) standard, multiple antennas and a frequency orthogonal modulation method are applied to increase a physical layer data rate up to about 300 Mbps. Furthermore, in order to reduce an overhead caused by an interval between a header and a frame in the MAC layer, the Block Ack method and the aggregation mode are used to adopt a certain technique as a standard. According to the certain technique, a transmission rate of the MAC layer maintains a throughput up to the maximum value of about 200 Mbps if the physical layer rate is about 300 Mbps.</div>
<div class="description-paragraph" num="p-0010">When IEEE, which is standards association of a wireless LAN, employs the Block Ack method and the aggregation mode for a MAC layer standard, a high throughput is theoretically possible. However, this throughput may not be possible in an actual wireless environment. The reason is that a signal is transmitted using the 64_QAM modulation method and ⅚ code rate through a multiple antenna, in order to achieve a throughput of more than about 180 Mbps. Therefore, a channel should be stable during a relatively long packet interval and a signal-to-noise ratio required in a receiver terminal must be maintained during the time interval in the wireless LAN system. Additionally, error propagation caused by tracking error should be relatively small in order to achieve a high throughput in the receiver terminal of the wireless LAN system.</div>
<div class="description-paragraph" num="p-0011">An operation of the aggregation mode will be described below. First, when data to be transmitted are generated in a transmitter, the generated data constitute packets and then, one long packet including the predetermined number of packets is transmitted at one time. Once the data transmission is completed, a receiver demodulates and decodes the received one long packet and detects a reception error. When there is an error in the received one long packet, information about whether there are errors or not in a plurality of packets is notified to the transmitter at one time. When there is a packet having an error in the previously transmitted packets, the transmitter retransmits the same packet, thereby improving a reception success rate of a packet.</div>
<div class="description-paragraph" num="p-0012">However, a retransmission time is one typical factor that deteriorates a throughput when a packet is transmitted. Therefore, in order to transmit data effectively, retransmission needs to be less basically. However, an actual channel has a lot of noise and has a frequency selective characteristic, and a long packet has a high packet error rate (PER) due to a time offset or frequency offset in a Radio Frequency (RF) and analog path. Thus, it is difficult to reach a throughput that can be theoretically obtainable in an ideal environment.</div>
<heading>SUMMARY OF THE INVENTION</heading>
<div class="description-paragraph" num="p-0013">An embodiment of the present invention is directed to an apparatus and a method for transmitting a packet data applicable to a channel condition in a wireless communication system.</div>
<div class="description-paragraph" num="p-0014">Another embodiment of the present invention is directed to an apparatus and a method for transmitting data capable of providing a high throughput in a wireless communication system of an aggregation mode.</div>
<div class="description-paragraph" num="p-0015">In accordance with an aspect of the present invention, there is provided an apparatus for transmission of a packet data in a wireless communication system including a Media Access Control (MAC) layer for determining the number of preambles to be inserted based on a feed-back reply signal from a receiver, and generating a multi-preamble aggregation packet by inserting the determined number of preambles into packets received from an upper layer and a physical layer for forming the multi-preamble aggregation packet generated in a data processing unit, by using a physical layer packet, and transmitting the formed multi-preamble aggregation packet.</div>
<div class="description-paragraph" num="p-0016">In accordance with another aspect of the present invention, there is provided a method for transmitting of a packet data in a wireless communication system including a process to determine the number of preambles to be inserted in a multi-preamble aggregation packet based on a feed-back reply signal from a receiver, to generating the multi-preamble aggregation packet by inserting the determined number of preambles into packets received from an upper layer, and to transmitting the generated multi-preamble aggregation packet.</div>
<div class="description-paragraph" num="p-0017">Other objects and advantages of the present invention can be understood by the following description, and become apparent with reference to the embodiments of the present invention. Also, it is obvious to those skilled in the art to which the present invention pertains that the objects and advantages of the present invention can be realized by the means as claimed and combinations thereof.</div>
<description-of-drawings>
<heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<div class="description-paragraph" num="p-0018"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a functional block diagram of a wireless communication device to which the present invention is applied.</div>
<div class="description-paragraph" num="p-0019"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a control flowchart when a packet is transmitted in the data processing unit in accordance with the present invention.</div>
<div class="description-paragraph" num="p-0020"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a diagram of a multi-preamble aggregation packet in accordance with an embodiment of the present invention.</div>
<div class="description-paragraph" num="p-0021"> <figref idrefs="DRAWINGS">FIG. 4</figref> is a timing diagram used for comparing transmission between a multi-preamble aggregation method of the present invention to a typical aggregation method.</div>
<div class="description-paragraph" num="p-0022"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a graph for simulating characteristics between a packet error rate (PER) and a signal-to-noise ratio during packet transmission.</div>
<div class="description-paragraph" num="p-0023"> <figref idrefs="DRAWINGS">FIG. 6</figref> is a simulation result graph illustrating a throughput performance according to a signal-to-noise ratio and a preamble insertion period.</div>
</description-of-drawings>
<heading>DESCRIPTION OF SPECIFIC EMBODIMENTS</heading>
<div class="description-paragraph" num="p-0024">The present invention will be described with reference to the accompanying drawings. During a description of the present invention, a portion apparent to those skilled in the art will be omitted for conciseness. Additionally, each term used hereinafter is merely used for helping understand the present invention. However, even if the above term is used for the same purpose, another different term may be used in each manufacturing company or research group.</div>
<div class="description-paragraph" num="p-0025"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a functional block diagram of a wireless communication device to which the present invention is applied. Functions of the wireless communication device in accordance with the present invention will be described with reference to <figref idrefs="DRAWINGS">FIG. 1</figref>.</div>
<div class="description-paragraph" num="p-0026">First, a case of when the wireless communication device operates as a transmitter will be described. Transmission data to be transmitted, which are generated in the transmitter, are transmitted from an upper layer to a data processing unit <b>130</b>. The data processing unit <b>130</b> may be a Media Access Control (MAC) layer. The data processing unit <b>130</b> forms one long packet with a plurality of packets to be transmitted and then transfers it to a modulation/encoding unit <b>120</b> when packet data are transmitted in an aggregation mode. Then, the modulation/encoding unit <b>120</b> performs a modulation and encoding process on the received one long packet. Here, the modulation/encoding unit <b>120</b> may be a physical layer. the packet modulated and encoded in the modulation/encoding unit <b>120</b> is matched according to a predetermined wireless transmission method, and is up-converted to be transmitted to a receiver through antennas ANT #<b>1</b>, . . . , ANT #n. Here, a radio unit <b>110</b> and the antennas ANT #<b>1</b>, . . . , ANT #n may be the physical layer.</div>
<div class="description-paragraph" num="p-0027">Once a reply signal is received from the receiver through a Block acknowledgement (Ack) method, the transmitted data are down-converted and de-mapped in the radio unit <b>110</b>. The signals on which the down-conversion and de-mapping process are performed are inputted into the demodulation/decoding unit <b>125</b>. The demodulation/decoding unit <b>125</b> demodulates/decodes the received reply signal through the received Block Ack method, and then provides the demodulated/decoded reply signal into the data processing unit <b>130</b>. Then, the data processing unit <b>130</b> extracts information about error packets from the received reply signal and then, lengthens or shortens an insertion period of a preamble in an aggregation packet, based on a generated error distribution and frequency. If necessary, the data processing unit <b>130</b> reduces the number or amount of the aggregation packets. In description below, an aggregation packet where the number of preambles is increased or decreased is called a multi-preamble aggregation packet.</div>
<div class="description-paragraph" num="p-0028">In general, since the fact that errors occur frequently means that a change of a channel is severely made, more preambles may be inserted. Additionally, since the fact that errors do not occur frequently means that a channel is stable, a control is performed to reduce the inserting of a preamble. Moreover, if there are errors concentrated on the last packet, a transmission amount of an aggregation packet or the number of packets is reduced and then, the packet is transmitted. A more detailed operation for this will be described with reference to <figref idrefs="DRAWINGS">FIG. 2</figref>.</div>
<div class="description-paragraph" num="p-0029">Next, a case of when the wireless communication device operates as a receiver will be described. An aggregation packet transmitted from the transmitter is inputted into the radio unit <b>110</b> through a plurality of antennas ANT #<b>1</b>, . . . , ANT #n, and a channel is estimated through a preamble. At this point, in a case of the aggregation packet according to the present invention, the radio unit <b>110</b> estimates a channel from a plurality of preambles in the aggregation packet and then, provides estimated channel to the demodulation/decoding unit <b>125</b>. Then, the demodulation/decoding unit <b>125</b> performs a demodulation/decoding operation through a channel estimation value. When the demodulation/decoding operation is performed on the received packet, a channel situation can be continuously estimated from the number of preambles of which number is more than the number of aggregation packets. Therefore, the demodulating and decoding of a packet becomes more efficient. The packets where the demodulation and decoding operation are completed are provided to the data processing unit <b>130</b>. The data processing unit <b>130</b> detects whether there is an error or not by examining the received packets. If there is no error, the data processing unit <b>130</b> delivers the data to the upper layer.</div>
<div class="description-paragraph" num="p-0030">On the contrary, if there is an error, the data processing unit <b>130</b> generates a reply signal through a Block Ack method, and then delivers it to the modulation/encoding unit <b>120</b>. Accordingly, the modulation/encoding unit <b>120</b> modulates and encodes the reply signal through a predetermined method. The modulated and encoded signal is converted into a signal of a transmission band in the radio unit <b>110</b> and then the converted signal is transmitted to the receiver through the respective ANT #<b>1</b>, . . . , ANT #n.</div>
<div class="description-paragraph" num="p-0031"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a control flowchart when a packet is transmitted in the data processing unit in accordance with the present invention.</div>
<div class="description-paragraph" num="p-0032">The data processing unit <b>130</b> maintains a waiting state in step S<b>200</b>. The waiting state typically means a state for waiting transmission and reception of data, i.e., waiting a packet transmitted from an upper layer and waiting a reply packet or a reply signal from a physical layer. Since the present invention is related to transmission of packet data, a state for waiting reception of data to be transmitted is assumed and will be described.</div>
<div class="description-paragraph" num="p-0033">The data processing unit <b>130</b> maintains the waiting state of the step S<b>200</b> and proceeds to step S<b>202</b> when a specific event occurs and then detects whether a packet to be transmitted arrives or not. This event is divided into a case where a packet to be transmitted arrives from an upper layer and a case where there is a retransmission packet when an error is detected through the Block Ack method. The case where a packet to be transmitted arrives from the upper layer will be described with reference to <figref idrefs="DRAWINGS">FIG. 2</figref>. When a packet to be transmitted arrives according to a test result of the step S<b>202</b>, the packet data processing unit <b>130</b> proceeds to step S<b>204</b> to generate an aggregation packet through a plurality of packets to be transmitted, and then transmits the generated aggregation packet to the physical layer. The generating of the aggregation packet may be an aggregation packet according to Institute of Electrical and Electronics Engineers, Inc. (IEEE) 802.11n standard or may be a multi-preamble aggregation packet according to the present invention.</div>
<div class="description-paragraph" num="p-0034">After that, when the data processing unit <b>130</b> receives the Block Ack packet through the radio unit <b>110</b> and the demodulation/decoding unit <b>125</b>, it extracts error information from the received Block Ack packet in step S<b>206</b>. That is, after the generating of the aggregation packet through a plurality of packets, it is detected that there are transmission errors or not in a certain packet among the transmitted packets. After the detecting of the transmission errors, the data processing unit <b>130</b> proceeds to step S<b>208</b>, and detects whether the number of generated errors is more than a predetermined threshold value or not. This threshold value can be obtained with the most optimized value through experiment, or with the most optimized threshold value in the aggregation mode, in order to prepare a case of transmitting data by setting an aggregation mode and a case of a typical transmission mode.</div>
<div class="description-paragraph" num="p-0035">If the number of errors is less than the predetermined threshold value, the data processing unit <b>130</b> proceeds to step S<b>210</b> and then lengthens a preamble insertion period. That is, the preamble is inserted less. That is, after the determining of the preamble insertion period, the data processing unit <b>130</b> stores information related to the preamble insertion period, and then proceeds to step S<b>211</b>. In the step S<b>211</b>, it is detected where there is a packet having a received error among the transmitted packets through the error information extracted from the Block Ack packet about the transmitted aggregation packet. If there is an error packet among the previously transmitted packets, the data processing unit <b>130</b> proceeds to the step S<b>204</b>, and generates an aggregation packet for retransmission in accordance with the predetermined preamble insertion period and then transmits the generated aggregation packet. However, if there is no error packet in the previously transmitted aggregation packet, the data processing unit <b>130</b> proceeds to the step S<b>200</b>.</div>
<div class="description-paragraph" num="p-0036">If the number of packets having errors among the previously transmitted aggregation packets is more than the threshold value according to the test result of the step S<b>208</b>, the data processing unit <b>130</b> proceeds to step S<b>212</b>, and then detects where packet errors are distributed sporadically. If the packet errors are distributed sporadically, it means that a state of a channel is highly fluid. Since the channel is drastically changed according to time, it is impossible to adequately detect a drastically-changing channel in one long packet through one or the small number of preambles. Accordingly, if the packet errors are distributed sporadically, the data processing unit <b>130</b> proceeds to step S<b>214</b>, shortens the preamble insertion period and stores the shortened preamble insertion period, and then proceeds to the step S<b>204</b>. The shortening of the preamble insertion period results in the inserting of the more number of preambles. If the preambles are inserted more, channel estimation becomes easier in the receiver and thus a packet is more effectively demodulated and decoded. Therefore, reception performance of a packet, that is, an entire throughput, can be improved. After the determining of the preamble insertion period, it proceeds to the step S<b>204</b>. Then, the data processing unit <b>130</b> generates an aggregation packet with packets having errors through the newly applied preamble insertion period and then transmits the generated aggregation packet to the physical layer. Through this, a packet can be transmitted more effectively.</div>
<div class="description-paragraph" num="p-0037">If the errors are not distributed sporadically according to the test result of the step S<b>212</b>, the data processing unit <b>130</b> proceeds to step S<b>216</b> and then examines whether there are errors concentrated on the last packets or not. The test of the step S<b>216</b> is to determine the number of packets that is used for constituting an aggregation packet. That is, if an aggregation packet is generated with too many packets, an error may be concentrated on the last packets. Thus, this operation is for determining the number of packets that is used for constituting the aggregation packet. If errors are concentrated on the last packet according to the test result of the step S<b>216</b>, the data processing unit <b>130</b> proceeds to step S<b>218</b> to reduce the number of the aggregation packets and store the number. Then, the data processing unit <b>130</b> proceeds to the step S<b>204</b> to constitute a retransmission packet for retransmitting the packets having errors.</div>
<div class="description-paragraph" num="p-0038">If the above-mentioned method of <figref idrefs="DRAWINGS">FIG. 2</figref> is examined in general, it is as follows. In accordance with the above-mentioned method, a packet is aggregated and is transmitted at a transmission interval, and also a packet having an error among the aggregated and transmitted packets is selectively retransmitted. When a packet is aggregated again in the next time, an interval for inserting a preamble into the middle of the aggregation packet is determined based on transmission failure information through the immediately previous aggregation packet. At this point, the failure information is obtained using error packet information of the Block Ack packet. The receiver newly updates a channel estimation value through the preamble inserted in the middle of the aggregation packet. Like this, by simply inserting the preamble in the transmitter, the channel estimation value of the receiver can be improved. Additionally, if a change of a channel is very severe during transmitting of a long aggregation packet, this method becomes more effective. However, the preamble insertion means that an overhead is increased in terms of the MAC. Therefore, it is necessary to find the preamble insertion interval for the optimized throughput. For this, error packet information of the Block Ack is utilized. That is, if there are many errors, the preamble insertion interval is shortened and if there are a few errors, the preamble insertion interval is lengthened, in order to improve a throughput.</div>
<div class="description-paragraph" num="p-0039">At this point, based on the error packet information of the Block Ack packet, if an error packet count value is more than a predetermined threshold value, the preamble insertion period is shortened and if an error packet count value is less than the predetermined limitation value, the preamble insertion period is lengthened, in order to improve a throughput. Additionally, if distribution of the error packet information for the Block Ack packet is concentrated on the last portion of the aggregation packet, the reducing of the number of aggregated packets allows for the next aggregation packet to generate less error.</div>
<div class="description-paragraph" num="p-0040"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a diagram of a multi-preamble aggregation packet in accordance with an embodiment of the present invention. Referring to <figref idrefs="DRAWINGS">FIG. 3</figref>, the diagram of a multi-preamble aggregation packet in accordance with an embodiment of the present invention will be described. Additionally, the data processing unit <b>130</b> will be described below with an MAC layer, and the modulation/encoding unit <b>129</b> and the radio unit <b>110</b> will be described with a physical layer.</div>
<div class="description-paragraph" num="p-0041">First, a plurality of SDUs <b>311</b>, <b>312</b>, <b>313</b>, <b>314</b>, <b>315</b>, and <b>316</b> are received from an upper layer to a MAC layer. The Service Data Unit is referred as SDU in <figref idrefs="DRAWINGS">FIG. 3</figref>. The SDUs <b>311</b>, <b>312</b>, <b>313</b>, <b>314</b>, <b>315</b>, and <b>316</b> include headers and Frame Check Sequences (FCSs) for a Cyclic Redundancy Check (CRC) test. In the MAC layer, a Packet Data Unit (PDU) is constituted through each SDU. In <figref idrefs="DRAWINGS">FIG. 3</figref>, the PDU is represented with MPDU, and each MPDU includes a header. In the MAC layer, an aggregation packet of the MAC layer is constituted through the MPDUs. That is, in accordance with an embodiment of <figref idrefs="DRAWINGS">FIG. 3</figref>, an aggregation packet <b>321</b> of the first MAC layer includes MSDUs <b>311</b>, <b>312</b>, and <b>313</b>. An aggregation packet of the second MAC layer includes two MSDUs <b>314</b> and <b>315</b>. An aggregation packet <b>323</b> of the third MAC layer includes one MSDU <b>316</b>. Each of the MAC layer aggregation packets <b>321</b>, <b>322</b>, and <b>323</b> includes a preamble and a header of the physical layer and includes the aggregation packets <b>331</b>, <b>332</b>, and <b>333</b> of the physical layer. The preambles and the headers of the aggregation packets <b>331</b>, <b>332</b>, and <b>333</b> in the physical layer are transmitted in a basic rate, and the aggregation packets <b>331</b>, <b>332</b>, and <b>333</b> are transmitted through the respectively corresponding data transmission rates.</div>
<div class="description-paragraph" num="p-0042"> <figref idrefs="DRAWINGS">FIG. 4</figref> is a timing diagram used for comparing transmission between a multi-preamble aggregation method of the present invention to a typical aggregation method. A timing diagram in (A) of <figref idrefs="DRAWINGS">FIG. 4</figref> represents a transmission method in accordance with the typical aggregation method. A timing diagram in (B) of <figref idrefs="DRAWINGS">FIG. 4</figref> represents a transmission method in accordance with the multi-preamble aggregation method of the present invention.</div>
<div class="description-paragraph" num="p-0043">Referring to <figref idrefs="DRAWINGS">FIG. 4</figref>, all aggregation packets are transmitted at a point of t<b>0</b>. However, since there is only one preamble in the aggregation mode, a typical aggregation transmission time becomes shortened. However, in accordance with the multi-preamble aggregation method of the present invention, since there is at least one preamble, the aggregation packet is transmitted until a point of t<b>2</b>. In (b) of <figref idrefs="DRAWINGS">FIG. 4</figref>, there are three preambles. Once transmission is completed like above, there may be a relative loss at an initial transmission time, but retransmission will be decreased. That is, since it is difficult to distinguish between a case of when a channel change is severe and a case of when a channel change is not severe, even if there is a severe channel change, a packet is transmitted through the same method. However, when the method in accordance with the present invention is applied, it is possible to detect a channel change through the feed-back Block Ack from the receiver and through this, an initial transmission time may be lengthened but an actual retransmission is decreased. That is, in a case of the typical aggregation mode, a retransmission starting point is t<b>3</b>, and a completion point of the retransmission becomes t<b>6</b>.</div>
<div class="description-paragraph" num="p-0044">However, if a channel change is severe in the multi-preamble aggregation mode, retransmission is started at a point of t<b>4</b>, but a time for completing the retransmission becomes shortened actually, for example, a point of t<b>5</b>.</div>
<div class="description-paragraph" num="p-0045">Hereafter, a case where the effects of the above-mentioned multi-preamble aggregation mode in accordance with the present invention is applied to an IEEE 802.11n standard system will be described.</div>
<div class="description-paragraph" num="p-0046"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a graph for simulating characteristics between a packet error rate and a signal-to-noise ratio during packet transmission.</div>
<div class="description-paragraph" num="p-0047">When 40 MHz is used in the physical layer, a 2×3 Multiple Input Multiple Output (MIMO)-Orthogonal Frequency Division Multiplexing (OFDM) technique is used in a bandwidth, and 64-QAM modulation and ⅚ code rate channel coding are used, a data rate can be increased up to 400 Mbps. At this point, if the Block Ack and the aggregation technique are used in the MAC layer, when forty 1000-byte packets are aggregated, the maximum throughput of about 210 Mbps can be obtained in the MAC layer. However, this is a case where there is no channel change and noise is small. However, the actual channel changes all the time and also noise is severe. <figref idrefs="DRAWINGS">FIG. 5</figref> shows results of simulating respective PERs of packets of 1000, 10000, and 40000 bytes. ‘o’, ‘*’, ‘Δ’ represent 40000 byte, 10000 byte, and 1000 byte, respectively. As shown in the simulation result of <figref idrefs="DRAWINGS">FIG. 5</figref>, in a case of the 40000 byte packet, errors almost occur below 23 dB. Additionally, in a case of the 10000 byte packet, an error occurs below 21 dB, and in a case of the 1000 byte packet, an error almost occurs at 19 dB. Additionally, Signal-to-Noise Ratio (SNRs) for 10% PER are 21.5 dB, 22.5 dB, and 24.5 dB, respectively. As shown in this experimental result, an interval between 20 dB and 25 dB is a SNR interval where performance of PER drastically changes from 100% to 1%, and under these circumstance, it is apparent that the length of packet is a pretty important factor to its performances. For example, in a case of SNR of 23 dB, the 1000 byte packet has 1% PER, but the 40000 byte packet has 95% PER. That is, there is a huge difference.</div>
<div class="description-paragraph" num="p-0048"> <figref idrefs="DRAWINGS">FIG. 6</figref> is a simulation result graph illustrating a throughput performance according to a signal-to-noise ratio and a preamble insertion period. In <figref idrefs="DRAWINGS">FIG. 6</figref>, ‘o’, ‘*’, ‘Δ’ uses 1, 4, and 40 preambles, respectively. An aggregation packet having the total length of a 40000 byte packet is used in the simulation graph. Additionally, in <figref idrefs="DRAWINGS">FIG. 6</figref>, ‘+’ is a case where Normal Ack of a typical 1000 byte packet is used. According to the graph of <figref idrefs="DRAWINGS">FIG. 6</figref>, when a signal-to-noise ratio is more than 25 dB, one preamble is used. When a signal-to-noise ratio is between 22 dB and 25 dB, four preambles are used. When a signal-to-noise ratio is between 20 dB and 22 dB, forty preambles are used. All those cases are beneficial for the throughput performance. The reason that the Normal Ack packet has only a throughput of 18% compared to a data rate of the physical layer is due to an increases of a preamble, which is caused through an interval between packets at each packet, an Ack packet, and a preamble of a physical layer. However, this case is advantageous in responding to a channel change fast compared to an aggregation packet because each of 1000 byte packets uses a preamble. In an aspect of a throughput, according to a case of an aggregation packet, when a preamble is inserted at each 1000 byte packet, which is up to a point where a throughput of ‘Δ’ is higher than that of ‘+’, aggregation is effective. While considering a requested signal-to-noise ratio, compared to a Normal Ack 1000 byte, a signal-to-noise ratio for outputting a 50 Mbps throughput is lowered by about 3 dB when a preamble is inserted at each 1000 byte through aggregation. Therefore, aggregation is still effective.</div>
<div class="description-paragraph" num="p-0049">If the device of the present invention is not used, when a channel situation becomes worse below a predetermined signal-to-noise ratio, a throughput is decreased. However, the channel adaptive packet generating device and a channel estimation value updating method are used in accordance with the present invention to obtain performance improvement of about 5 dB in terms of SNR and 50˜70 Mbps in terms of throughput.</div>
<div class="description-paragraph" num="p-0050">Next, an analysis about how far improvement of a throughput efficiency of the MAC using the present invention is obtained can be calculated by Equation 1.</div>
<div class="description-paragraph" num="p-0051">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
<mtr>
<mtd>
<mrow>
<mi>Throughput</mi>
<mo>=</mo>
<mfrac>
<msub>
<mi>L</mi>
<mi>payload</mi>
</msub>
<msub>
<mi>T</mi>
<mi>total</mi>
</msub>
</mfrac>
</mrow>
</mtd>
<mtd>
<mrow>
<mi>Eq</mi>
<mo>.</mo>
<mstyle>
<mspace height="0.8ex" width="0.8em"> </mspace>
</mstyle>
<mo>⁢</mo>
<mn>1</mn>
</mrow>
</mtd>
</mtr>
</mtable>
</math>
</maths>
</div>
<div class="description-paragraph" num="p-0052">The throughput of Equation 1 is a value obtained by dividing the length of the transmitted data payload by a time consumed for transmission. At this point, the time for transmitting data includes a time for transmitting an overhead having an interval between packets, a header, and a preamble and data. This will be expressed as Equation 2.
<br/>
<i>T</i> <sub>total</sub> <i>=T</i> <sub>DIFS</sub> <i>+CW+T</i> <sub>pre</sub> <i>+T</i> <sub>RTS</sub> <i>+T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>CTS</sub> <i>+T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>A-MPDU</sub> <i>T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>BA</sub> <i>+T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>A-MPDU</sub> <i>+T</i> <sub>SIF</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>BA</sub>  Eq. 2
</div>
<div class="description-paragraph" num="p-0053">The throughput efficiency of the MAC layer can be expressed as Equation 3, based on Equation 1 and Equation 2.</div>
<div class="description-paragraph" num="p-0054">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
<mtr>
<mtd>
<mrow>
<mi>MACefficiency</mi>
<mo>=</mo>
<mfrac>
<mi>MACThroughput</mi>
<mi>PHYrate</mi>
</mfrac>
</mrow>
</mtd>
<mtd>
<mrow>
<mi>Eq</mi>
<mo>.</mo>
<mstyle>
<mspace height="0.8ex" width="0.8em"> </mspace>
</mstyle>
<mo>⁢</mo>
<mn>3</mn>
</mrow>
</mtd>
</mtr>
</mtable>
</math>
</maths>
</div>
<div class="description-paragraph" num="p-0055">The above Equation 3 calculates a value that is obtained by dividing the throughput of the MAC layer by the data rate of the physical layer. For example, when forty 1000 byte packets are aggregated and a 40000 byte packet is transmitted, an aggregation packet is transmitted as it is according to a typical technique. Thus, A-MPDU(40000) is transmitted and then a 10 packet group A-MPDU(10000) having an error is retransmitted. In this case, the time is calculated by Equation 4.
<br/>
<i>T</i> <sub>total</sub> <i>=T</i> <sub>DIFS</sub> <i>+CW+T</i> <sub>pre</sub> <i>+T</i> <sub>RTS</sub> <i>+T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>CTS</sub> <i>+T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>A-MPDU(40000)</sub> <i>T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>BA</sub> <i>+T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>A-MPDU(40000)</sub> <i>+T</i> <sub>SIF</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>BA</sub>  Eq. 4
</div>
<div class="description-paragraph" num="p-0056">However, in accordance with the present invention, as expressed in Equation 5, the preamble is inserted at each four A-MPDU(10000), and then is transmitted.
<br/>
<i>T</i> <sub>total</sub> <i>=T</i> <sub>DIFS</sub> <i>+CW+T</i> <sub>pre</sub> <i>+T</i> <sub>RTS</sub> <i>+T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>CTS</sub> <i>+T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>A-MPDU(10000)</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>A-MPDU(10000)</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>A-MPDU(10000)</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>A-MPDU(10000)</sub> <i>T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>BA</sub> <i>+T</i> <sub>SIFS</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>A-MPDU(10000)</sub> <i>+T</i> <sub>SIF</sub> <i>+T</i> <sub>pre</sub> <i>+T</i> <sub>BA</sub>  Eq. 5
</div>
<div class="description-paragraph" num="p-0057">Accordingly, if an aggregation packet is transmitted through Equation 5, only one packet needs to be retransmitted because it is well adaptive to a channel change. Therefore, only the A-MPDU(1000) is retransmitted. As a result, in accordance with this example, if data corresponding to 9000 byte are transmitted by inserting three preambles (32 us×3) through a a64 QAM and ⅚ code rate modulation method at 40 MHz bandwidth and 2×3 MIMO. A gain of about 250 μs can be obtained in terms of time.</div>
<div class="description-paragraph" num="p-0058">According to the technique of the present invention, based on a channel circumstance, a physical preamble is inserted into the optimized position of the throughput during an aggregation packet formation. Therefore, the throughput can be improved in an actual wireless channel environment where noise and channel change are severe.</div>
<div class="description-paragraph" num="p-0059">While the present invention has been described with respect to the specific embodiments, it will be apparent to those skilled in the art that various changes and modifications may be made without departing from the spirit and scope of the invention as defined in the following claims.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">17</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM44929450">
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. An apparatus for transmitting a packet data in a wireless communication system, comprising:
<div class="claim-text">a Media Access Control (MAC) layer for determining the number of preambles to be inserted based on packet error information in a feed-back reply signal from a receiver, and generating a multi-preamble aggregation packet by inserting the determined number of preambles into packets received from an upper layer; and</div>
<div class="claim-text">a physical layer for forming the multi-preamble aggregation packet generated in a data processing unit, by using a physical layer packet, and transmitting the formed multi-preamble aggregation packet.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the physical layer comprises:
<div class="claim-text">a modulation/encoding unit modulating and encoding the multi-preamble aggregation packet; and</div>
<div class="claim-text">a radio unit converting a modulated and encoded packet into a radio signal of a transmission band and transmitting the converted radio signal through an antenna.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00003" num="00003">
<div class="claim-text">3. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the reply signal is a Block Acknowledgement (Ack) signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00004" num="00004">
<div class="claim-text">4. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the MAC layer examines the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet, and lengthens a preamble insertion period when the number of packets having errors is less than a predetermined threshold value.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00005" num="00005">
<div class="claim-text">5. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the MAC layer examines the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet, and reduces the number of MAC layer packets to be included in a second multi-preamble aggregation packet when the number of packets having errors is more than a predetermined threshold value and there are errors concentrated in the last one or more packets in the transmitted multi-preamble aggregation packet.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00006" num="00006">
<div class="claim-text">6. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the MAC layer examines the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet, and shortens a preamble insertion period when the number of packets having errors is more than a predetermined threshold value and there are sporadically-distributed errors in the transmitted multi-preamble aggregation packet.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00007" num="00007">
<div class="claim-text">7. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the transmitted multi-preamble aggregation packet comprises at least two preambles separated by an A-MPDU.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00008" num="00008">
<div class="claim-text">8. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the MAC layer examines the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet, and lengthens a preamble insertion period when the number of packets having errors is less than a predetermined threshold value;
<div class="claim-text">wherein the MAC layer generates a second multi-preamble aggregation packet, and wherein the physical layer forms the second multi-preamble aggregation packet, and transmits the formed second multi-preamble aggregation packet; and</div>
<div class="claim-text">wherein the MAC layer examines a second number of packets having errors from a second reply signal corresponding to the transmitted second multi-preamble aggregation packet, and shortens the preamble insertion period when the second number of packets having errors is greater than or equal to the predetermined threshold value and there are sporadically-distributed errors in the transmitted second multi-preamble aggregation packet.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00009" num="00009">
<div class="claim-text">9. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the MAC layer examines the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet, and increases the number of preambles to be inserted in a second multi-preamble aggregation packet when the number of packets having errors is greater than or equal to a predetermined threshold value.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00010" num="00010">
<div class="claim-text">10. A method for transmitting a packet data in a wireless communication system, comprising:
<div class="claim-text">determining the number of preambles to be inserted in a multi-preamble aggregation packet based on packet error information in a feed-back reply signal from a receiver; and</div>
<div class="claim-text">generating the multi-preamble aggregation packet by inserting the determined number of preambles into packets received from an upper layer, and transmitting the generated multi-preamble aggregation packet.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00011" num="00011">
<div class="claim-text">11. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the reply signal is a Block Acknowledgement (Ack) signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00012" num="00012">
<div class="claim-text">12. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<div class="claim-text">examining the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet; and</div>
<div class="claim-text">lengthening a preamble insertion period when the number of packets having errors is less than a predetermined threshold value.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00013" num="00013">
<div class="claim-text">13. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<div class="claim-text">examining the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet; and</div>
<div class="claim-text">reducing the number of MAC layer packets to be included in a second multi-preamble aggregation packet when the number of packets having errors is more than a predetermined threshold value and there are errors concentrated in the last one or more packets in the transmitted multi-preamble aggregation packet.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00014" num="00014">
<div class="claim-text">14. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<div class="claim-text">examining the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet; and</div>
<div class="claim-text">shortening a preamble insertion period when the number of packets having errors is more than a predetermined threshold value and there are sporadically-distributed errors in the transmitted multi-preamble aggregation packet.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00015" num="00015">
<div class="claim-text">15. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the transmitted multi-preamble aggregation packet comprises at least two preambles separated by an A-MPDU.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00016" num="00016">
<div class="claim-text">16. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<div class="claim-text">examining the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet;</div>
<div class="claim-text">lengthening a preamble insertion period when the number of packets having errors is less than a predetermined threshold value;</div>
<div class="claim-text">generating a second multi-preamble aggregation packet, and transmitting the second multi-preamble aggregation packet;</div>
<div class="claim-text">examining a second number of packets having errors from a second reply signal corresponding to the transmitted second multi-preamble aggregation packet; and</div>
<div class="claim-text">shortening the preamble insertion period when the second number of packets having errors is greater than or equal to the predetermined threshold value.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00017" num="00017">
<div class="claim-text">17. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<div class="claim-text">examining the number of packets having errors from a reply signal corresponding to the transmitted multi-preamble aggregation packet; and</div>
<div class="claim-text">inserting more preambles in a second multi-preamble aggregation packet, as compared to the transmitted multi-aggregation packet, when the number of packets having errors is greater than or equal to a predetermined threshold value. </div>
</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    