
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US9477476B2 - Fusing immediate value, write-based instructions in instruction processing circuits, and related processor systems, methods, and computer-readable media 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="patent-office" mxw-id="PA183023208">
<div class="abstract" id="p-0001" num="0000">Fusing immediate value, write-based instructions in instruction processing circuits, and related processor systems, methods, and computer-readable media are disclosed. In one embodiment, a first instruction indicating an operation writing an immediate value to a register is detected by an instruction processing circuit. The circuit also detects at least one subsequent instruction indicating an operation that overwrites at least one first portion of the register while maintaining a value of a second portion of the register. The at least one subsequent instruction is converted (or replaced) with a fused instruction(s), which indicates an operation writing the at least one first portion and the second portion of the register. In this manner, conversion of multiple instructions for generating a constant into the fused instruction(s) removes the potential for a read-after-write hazard and associated consequences caused by dependencies between certain instructions, while reducing a number of clock cycles required to process the instructions.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES108810891">
<heading id="h-0001">BACKGROUND</heading>
<div class="description-paragraph" id="p-0002" num="0001">I. Field of the Disclosure</div>
<div class="description-paragraph" id="p-0003" num="0002">The technology of the disclosure relates generally to processing of pipelined computer instructions in central processing unit (CPU)-based systems.</div>
<div class="description-paragraph" id="p-0004" num="0003">II. Background</div>
<div class="description-paragraph" id="p-0005" num="0004">The central processing unit (CPU) of virtually every digital computer includes a small number of storage areas known as registers. Each register can provide local storage for a variety of data. Examples include operands to be manipulated by the CPU, memory addresses to be accessed by the CPU, and results of calculations that are performed by the CPU. Because the registers are physically located within the CPU itself, the CPU can store data in the registers and retrieve data from the registers much more quickly than the CPU can access cache memory or the computer's main memory.</div>
<div class="description-paragraph" id="p-0006" num="0005">The advent of “instruction pipelining” in modern computer architectures has made complex use of computer registers. Instruction pipelining is a processing technique whereby a throughput of computer instructions being processed by a CPU may be increased by splitting the processing of each instruction into a series of steps. The instructions are executed in a “processor pipeline” composed of multiple stages, with each stage carrying out one of the steps for each of a series of instructions. As a result, in each CPU clock cycle, various steps of the multiple instructions can be evaluated in parallel, resulting in improved utilization of CPU resources and faster execution times of computer applications.</div>
<div class="description-paragraph" id="p-0007" num="0006">However, the use of instruction pipelining may introduce unexpected consequences if dependencies exist between one or more instructions. For example, a first instruction in a processing pipeline may not be guaranteed to complete execution before a subsequent instruction begins execution. If the subsequent instruction depends on a result of the execution of the first instruction, a condition known as a “read-after-write hazard” may arise. To resolve the read-after-write hazard, the CPU may “stall” the pipeline (i.e., introduce an intentional delay into the pipeline to allow the first instruction to complete execution).</div>
<div class="description-paragraph" id="p-0008" num="0007">One particular instance in which the possibility of a read-after-write hazard may arise is during generation of constant values for storage in a register. A constant value may be generated through the use of an instruction in conjunction with an “immediate value” (i.e., a value that is encoded directly in the instruction and that is used as numeric data when the instruction is executed) to write the immediate value into the register. The limitations of a computer's architecture may impose restrictions on the size of an immediate value that can be moved to a register using a single instruction. Because some bits of the single instruction are used for data such as the instruction type and the register to which the immediate value is to be written, an immediate value must be smaller than the size of the instructions in the computer's instruction set. Consequently, generation of a 32-bit constant using a 32-bit instruction set, for instance, may entail the execution of at least two separate instructions. Because the subsequent instruction(s) are dependent upon the execution of the preceding instruction(s), a read-after-write hazard may be encountered with the associated risks of stalling the pipeline in which the instructions are executing. Moreover, while other techniques exist for mitigating the chance of a read-after-write hazard (such as allowing an instruction to overwrite only a portion of a register), they may introduce additional, undesirable complexities to the computer's architecture.</div>
<div class="description-paragraph" id="p-0009" num="0008">Accordingly, it may be desirable to reduce the risk of a read-after-write hazard associated with immediate value, write-based instructions, without having to stall the pipeline.</div>
<heading id="h-0002">SUMMARY OF THE DISCLOSURE</heading>
<div class="description-paragraph" id="p-0010" num="0009">Embodiments of the disclosure provide fusing immediate value, write-based instructions in instruction processing circuits. Related processor systems, methods, and computer-readable media are also disclosed. In one embodiment, a first instruction indicating an operation writing an immediate value to a register is detected by an instruction processing circuit. The instruction processing circuit also detects at least one subsequent instruction that indicates an operation that overwrites at least one first portion of the register while maintaining a value of a second portion of the register. The subsequent instruction(s) are converted (or replaced) with a fused instruction(s), which indicates an operation writing the at least one first portion and the second portion to the register. In this manner, conversion of multiple instructions for generating a constant into the fused instruction(s) removes the potential for a read-after-write hazard and associated consequences caused by dependencies between certain instructions in a pipelined computing architecture. Furthermore, the number of clock cycles required to process the immediate value, write-based instructions may be reduced by replacing the one or more subsequent instructions with, or converting the one or more subsequent instructions into, fused instructions comprising fewer operations and/or requiring fewer clock cycles.</div>
<div class="description-paragraph" id="p-0011" num="0010">In this regard, in one embodiment, an instruction processing circuit is provided. The instruction processing circuit is configured to detect a first instruction indicating an operation writing an immediate value to a register. The instruction processing circuit is also configured to detect at least one subsequent instruction indicating an operation overwriting at least one first portion of the register and maintaining a value of a second portion of the register. The instruction processing circuit is further configured to convert the at least one subsequent instruction into at least one fused instruction indicating an operation writing the at least one first portion and the second portion of the register.</div>
<div class="description-paragraph" id="p-0012" num="0011">In another embodiment, an instruction processing circuit is provided. The instruction processing circuit comprises a means for detecting a first instruction indicating an operation writing an immediate value to a register. The instruction processing circuit also comprises a means for detecting at least one subsequent instruction indicating an operation overwriting at least one first portion of the register and maintaining a value of a second portion of the register. The instruction processing circuit also comprises a means for converting the at least one subsequent instruction into at least one fused instruction indicating an operation writing the at least one first portion and the second portion of the register.</div>
<div class="description-paragraph" id="p-0013" num="0012">In another embodiment, a method for processing computer instructions is provided. The method comprises detecting a first instruction indicating an operation writing an immediate value to a register. The method also comprises detecting at least one subsequent instruction indicating an operation overwriting at least one first portion of the register and maintaining a value of a second portion of the register. The method also comprises converting the at least one subsequent instruction into at least one fused instruction indicating an operation writing the at least one first portion and the second portion of the register.</div>
<div class="description-paragraph" id="p-0014" num="0013">In another embodiment, a non-transitory computer-readable medium having stored thereon computer-executable instructions to cause a processor to implement a method is provided for detecting a first instruction indicating an operation writing an immediate value to a register. The method implemented by the computer-executable instructions further includes detecting at least one subsequent instruction indicating an operation overwriting at least one first portion of the register and maintaining a value of a second portion of the register, and converting the at least one subsequent instruction into at least one fused instruction indicating an operation writing the at least one first portion and the second portion of the register.</div>
<description-of-drawings>
<heading id="h-0003">BRIEF DESCRIPTION OF THE FIGURES</heading>
<div class="description-paragraph" id="p-0015" num="0014"> <figref idrefs="DRAWINGS">FIG. 1</figref> is a block diagram of exemplary components provided in a processor-based system for retrieving and processing computer instructions to be placed into one or more execution pipelines, including an exemplary instruction processing circuit configured to detect and convert immediate value, write-based instructions into a fused instruction(s);</div>
<div class="description-paragraph" id="p-0016" num="0015"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a diagram illustrating an exemplary conversion of a subsequent register modify instruction into a fused instruction, based on detecting a first instruction indicating an operation moving an immediate value to the same register;</div>
<div class="description-paragraph" id="p-0017" num="0016"> <figref idrefs="DRAWINGS">FIG. 3</figref> is a flowchart illustrating an exemplary process of an instruction processing circuit for detecting and converting immediate value, write-based instructions into a fused instruction(s);</div>
<div class="description-paragraph" id="p-0018" num="0017"> <figref idrefs="DRAWINGS">FIGS. 4A-4C</figref> comprise a flowchart illustrating a more detailed exemplary process of an instruction processing circuit for detecting first instructions indicating an operation writing an immediate value to a register and converting immediate value, write-based instructions into a fused instruction(s) in an instruction stream;</div>
<div class="description-paragraph" id="p-0019" num="0018"> <figref idrefs="DRAWINGS">FIG. 5</figref> is a diagram illustrating an exemplary conversion of consecutive immediate value, write-based instructions into a single fused instruction;</div>
<div class="description-paragraph" id="p-0020" num="0019"> <figref idrefs="DRAWINGS">FIG. 6</figref> is a diagram showing an exemplary set of consecutive, non-fused instructions involving immediate value, write-based instructions, and corresponding fused instructions involving immediate value, write-based instructions;</div>
<div class="description-paragraph" id="p-0021" num="0020"> <figref idrefs="DRAWINGS">FIG. 7</figref> is a diagram illustrating an exemplary conversion of non-consecutive, immediate value write-based instructions into a fused instructions) employing a reduced-size register write tracking table;</div>
<div class="description-paragraph" id="p-0022" num="0021"> <figref idrefs="DRAWINGS">FIG. 8</figref> is a diagram illustrating an exemplary conversion of non-consecutive immediate value write-based instructions into a fused instruction(s) employing a dedicated register write tracking table;</div>
<div class="description-paragraph" id="p-0023" num="0022"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a diagram showing exemplary sets of non-consecutive, non-fused instructions involving immediate value, write-based instructions, and corresponding fused instructions involving immediate value, write-based instructions; and</div>
<div class="description-paragraph" id="p-0024" num="0023"> <figref idrefs="DRAWINGS">FIG. 10</figref> is a block diagram of an exemplary processor-based system that can include instruction processing circuits, including the instruction processing circuit of <figref idrefs="DRAWINGS">FIG. 1</figref>, configured to fuse immediate value, write-based instructions.</div>
</description-of-drawings>
<heading id="h-0004">DETAILED DESCRIPTION</heading>
<div class="description-paragraph" id="p-0025" num="0024">With reference now to the drawing figures, several exemplary embodiments of the present disclosure are described. The word “exemplary” is used herein to mean “serving as an example, instance, or illustration.” Any embodiment described herein as “exemplary” is not necessarily to be construed as preferred or advantageous over other embodiments.</div>
<div class="description-paragraph" id="p-0026" num="0025">Embodiments of the disclosure provide fusing immediate value, write-based instructions in instruction processing circuits. Related processor systems, methods, and computer-readable media are also disclosed. In one embodiment, a first instruction indicating an operation writing an immediate value to a register is detected by an instruction processing circuit. The instruction processing circuit also detects at least one subsequent instruction that indicates an operation that overwrites at least one first portion of the register while maintaining a value of a second portion of the register. The subsequent instruction(s) are converted (or replaced) with a fused instruction(s), which indicates an operation writing the at least one first portion and the second portion to the register. In this manner, conversion of multiple instructions for generating a constant into the fused instruction(s) removes the potential for a read-after-write hazard and associated consequences caused by dependencies between certain instructions in a pipelined computing architecture. Furthermore, the number of clock cycles required to process the immediate value, write-based instructions may be reduced by replacing the one or more subsequent instructions with, or converting the one or more subsequent instructions into, fused instructions comprising fewer operations and/or requiring fewer clock cycles.</div>
<div class="description-paragraph" id="p-0027" num="0026">In this regard, <figref idrefs="DRAWINGS">FIG. 1</figref> is a block diagram of an exemplary processor-based system <b>10</b> for retrieving and processing computer instructions to be placed into one or more execution pipelines <b>12</b>(<b>0</b>-Q). The processor-based system <b>10</b> provides an instruction processing circuit <b>14</b> that is configured to fuse immediate value, write-based instructions, as will be discussed in more detail below. As discussed herein, “instructions” may refer to a combination of bits, defined by an instruction set architecture, that direct a computer processor to carry out a specified task. For example, instructions may indicate operations for reading data from and/or writing data to registers <b>16</b>(<b>0</b>-m), which provide local high-speed storage accessible by the processor-based system <b>10</b>. Exemplary instruction set architectures include, but are not limited to, ARM, Thumb, and A64 architectures.</div>
<div class="description-paragraph" id="p-0028" num="0027">With reference back to <figref idrefs="DRAWINGS">FIG. 1</figref>, in the processor-based system <b>10</b>, instructions are processed in a continuous flow represented by an instruction stream <b>18</b>. The instruction stream <b>18</b> may be continuously processed while the processor-based system <b>10</b> is operating and executing the instructions. In this illustrated example, the instruction stream <b>18</b> begins with an instruction memory <b>20</b>, which provides persistent storage for the instructions in a computer-executable program.</div>
<div class="description-paragraph" id="p-0029" num="0028">An instruction fetch circuit <b>22</b> reads an instruction from the instruction memory <b>20</b> and/or from an instruction cache <b>24</b>, and may increment a program counter, typically stored in one of the registers <b>16</b>(<b>0</b>-M). The instruction cache <b>24</b> is an optional buffer that may be provided and coupled to both the instruction memory <b>20</b> and the instruction fetch circuit <b>22</b> to allow direct access to cached instructions by the instruction fetch circuit <b>22</b>. The instruction cache <b>24</b> may speed up instruction retrieval time, but at a cost of potentially longer read times if the instruction was not previously stored in the instruction cache <b>24</b>.</div>
<div class="description-paragraph" id="p-0030" num="0029">Once the instruction is fetched by the instruction fetch circuit <b>22</b>, it proceeds to an instruction decode circuit <b>26</b>, which translates the instruction into processor-specific microinstructions. In this embodiment, the instruction decode circuit <b>26</b> holds a set of multiple instructions <b>28</b>(<b>0</b>-N) simultaneously for decoding. After the instructions have been fetched and decoded, they may be issued to an optional instruction queue <b>30</b> (i.e., an optional buffer for storing instructions pending issuance), or they may be issued directly to one of the execution pipeline(s) <b>12</b>(<b>0</b>-Q) for execution. In some embodiments, the execution pipeline(s) <b>12</b>(<b>0</b>-Q) may restrict the types of operations that can be carried out by instructions that execute within the execution pipeline(s) <b>12</b>(<b>0</b>-Q). For example, execution pipeline P<sub>0 </sub>may not permit read access to the registers <b>16</b>(<b>0</b>-M); accordingly, an instruction that indicates an operation to read register R<sub>0 </sub>could only be issued to one of the execution pipeline(s) P<sub>1 </sub>through P<sub>Q</sub>.</div>
<div class="description-paragraph" id="p-0031" num="0030">With continuing reference to <figref idrefs="DRAWINGS">FIG. 1</figref>, the instruction processing circuit <b>14</b> is configured to detect and fuse immediate value, write-based instructions to remove read-after-write hazards for these instructions, and to reduce the number of clock cycles required to execute these instructions. The instruction processing circuit <b>14</b> may be any type of device or circuit; however, in some embodiments, the instruction processing circuit <b>14</b> is incorporated into the instruction fetch circuit <b>22</b>, the instruction decode circuit <b>26</b>, and/or the optional instruction queue <b>30</b>. The instruction processing circuit <b>14</b> may also employ a register write tracking table <b>32</b> to track immediate values written by the instructions to one of the registers <b>16</b>(<b>0</b>-M). As will be discussed with respect to examples for <figref idrefs="DRAWINGS">FIGS. 3 through 4C</figref> below, the instruction processing circuit <b>14</b> may use the register write tracking table <b>32</b> to pair an instruction that writes an immediate value to a register <b>16</b> with one or more subsequent instructions that partially modify the immediate value in the register <b>16</b>. In some embodiments, the register write tracking table <b>32</b> may contain one data row dedicated to each register <b>16</b> (which may provide a simpler implementation compared to other embodiments), while some embodiments may provide that the register write tracking table <b>32</b> may store an identifier of a register <b>16</b> and a corresponding immediate value (which may result in a smaller memory footprint compared to other embodiments). Data for a register <b>16</b> stored in the register write tracking table <b>32</b> is flushed whenever any conditions occur that render the data unusable for pairing instructions for fusing, such as, e.g., an execution pipeline in which the register <b>16</b> was written is flushed, and/or a register <b>16</b> is written (or may be conditionally written) by another type of instruction. In some embodiments discussed herein, the register write tracking table <b>32</b> may include a valid bit associated with each register <b>16</b> that indicates whether the data for the register <b>16</b> is valid (i.e., usable for pairing instructions for fusing).</div>
<div class="description-paragraph" id="p-0032" num="0031">To provide an explanation for fusing immediate value, write-based instructions in the processor-based system <b>10</b> of <figref idrefs="DRAWINGS">FIG. 1</figref>, <figref idrefs="DRAWINGS">FIG. 2</figref> is provided. <figref idrefs="DRAWINGS">FIG. 2</figref> illustrates an exemplary conversion of a subsequent register modify instruction into a fused instruction, based on the instruction processing circuit <b>14</b> of <figref idrefs="DRAWINGS">FIG. 1</figref> detecting a first instruction indicating an operation moving an immediate value to the register <b>16</b>. In this example, a detected instruction stream <b>34</b> represents a series of instructions fetched in the instruction stream <b>18</b> and detected by the instruction processing circuit <b>14</b> of <figref idrefs="DRAWINGS">FIG. 1</figref>. In this example, a first instruction <b>36</b> in the detected instruction stream <b>34</b> is a STORE instruction, indicating an operation to write immediate value <b>38</b> (a 16-bit hexadecimal value of 0x1234) to a register indicated by an operand <b>40</b>. In this example, the operand <b>40</b> points to one of the registers <b>16</b>(<b>0</b>-M) shown in <figref idrefs="DRAWINGS">FIG. 1</figref>, referred to in this example as register R<sub>X</sub>. Further along in the detected instruction stream <b>34</b> is a subsequent instruction <b>42</b>, which is a MODIFY instruction indicating an operation to overwrite a first portion comprising the top 16 bits of register R<sub>X </sub>indicated by an operand <b>44</b> with an immediate value <b>46</b> (a 16-bit hexadecimal value of 0x5678) while leaving a second portion comprising the bottom 16 bits of register R<sub>X </sub>unchanged. If executed, the MODIFY instruction may result in the register R<sub>X </sub>containing a value including a portion <b>48</b> corresponding to the immediate value <b>38</b> and a portion <b>50</b> corresponding to the immediate value <b>46</b>.</div>
<div class="description-paragraph" id="p-0033" num="0032">The instruction processing circuit <b>14</b> of <figref idrefs="DRAWINGS">FIG. 1</figref> detects and converts the subsequent instruction <b>42</b> into a fused instruction <b>52</b> (i.e., a STORECON or “store constant” instruction), which indicates an operation to write a combined immediate value <b>54</b> (having the 32-bit hexadecimal value 0x56781234) to the register R<sub>X</sub>, indicated by an operand <b>56</b>. In converting the subsequent instruction <b>42</b> into the fused instruction <b>52</b>, the instruction processing circuit <b>14</b> generates the combined immediate value <b>54</b> by combining the immediate value <b>38</b> associated with the first instruction <b>36</b> with the immediate value <b>46</b> associated with the subsequent instruction <b>42</b>. The MODIFY instruction is replaced with the STORECON instruction, which may require fewer processor clock cycles to perform than the MODIFY instruction. This fusing also eliminates the potential for a read-after-write hazard for the STORE/MODIFY instruction pair. As illustrated in <figref idrefs="DRAWINGS">FIG. 2</figref>, a portion <b>58</b> of the combined immediate value <b>54</b> corresponds to the immediate value <b>38</b>, while a portion <b>60</b> of the combined immediate value <b>54</b> corresponds to the immediate value <b>46</b>.</div>
<div class="description-paragraph" id="p-0034" num="0033">To further illustrate fusing immediate value, write-based instructions, an exemplary generalized process for an instruction processing circuit configured to detect and fuse immediate value, write-based instructions is illustrated by <figref idrefs="DRAWINGS">FIG. 3</figref>, with further reference to <figref idrefs="DRAWINGS">FIGS. 1 and 2</figref>. In this example, the process begins by the instruction processing circuit <b>14</b> detecting the first instruction <b>36</b> to write the immediate value <b>38</b> to a particular one of the registers <b>16</b>(<b>0</b>-M) indicated by the operand <b>40</b>, such as register R<sub>X </sub>(block <b>62</b>). The instruction processing circuit <b>14</b> next detects at least one subsequent instruction <b>42</b> overwriting at least one portion of the value in register R<sub>X </sub>with the immediate value <b>46</b> (the results of which are illustrated by the portion <b>50</b>), while maintaining a portion of the value in the register R<sub>X </sub>(portion <b>48</b>) (block <b>64</b>). The instruction processing circuit <b>14</b> then converts the subsequent instruction(s) <b>42</b> into at least one fused instruction <b>52</b> to write the combined immediate value <b>54</b> to the register R<sub>X </sub>in a single write operation (block <b>66</b>). The instruction processing circuit <b>14</b> next issues the fused instruction(s) <b>52</b> for execution in one of the execution pipeline(s) <b>12</b>(<b>0</b>-Q) (block <b>68</b>). As discussed in more detail with respect to <figref idrefs="DRAWINGS">FIG. 6</figref> below, the instruction processing circuit <b>14</b> may replace the first instruction <b>36</b> with a “no operation” instruction (e.g., NOP) or remove the first instruction <b>36</b>, and may replace the subsequent instruction <b>42</b> with the fused instruction <b>52</b>. In another example, the instruction processing circuit <b>14</b> may replace the first instruction <b>36</b> with the fused instruction <b>52</b> and may replace the subsequent instruction <b>42</b> with a “no operation” instruction (e.g., NOP) or remove the subsequent instruction <b>42</b>. In a further example, the instruction processing circuit <b>14</b> leaves the first instruction <b>36</b> unchanged, and replaces the subsequent instruction <b>42</b> with a fused instruction <b>52</b>.</div>
<div class="description-paragraph" id="p-0035" num="0034"> <figref idrefs="DRAWINGS">FIGS. 4A-4C</figref> illustrate a more detailed exemplary process of an instruction processing circuit the instruction processing circuit <b>14</b> of <figref idrefs="DRAWINGS">FIG. 1</figref>) for detecting a first instruction indicating an operation writing an immediate value to a register, and then fusing immediate value, write-based instructions in an instruction stream (e.g., the instruction stream <b>18</b> of <figref idrefs="DRAWINGS">FIG. 1</figref>). <figref idrefs="DRAWINGS">FIG. 4A</figref> details a process for determining whether circumstances exist under which immediate value, write-based instructions may be fused. <figref idrefs="DRAWINGS">FIG. 4B</figref> illustrates operations for fusing instructions that are consecutively fetched from the instruction stream, while <figref idrefs="DRAWINGS">FIG. 4C</figref> details operations for fusing non-consecutive instructions (i.e., instructions separated in the instruction stream by other intervening instructions).</div>
<div class="description-paragraph" id="p-0036" num="0035">The process in this example begins in <figref idrefs="DRAWINGS">FIG. 4A</figref> with the instruction processing circuit detecting whether more instructions remain to be processed (block <b>70</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>). In some embodiments, this detection is accomplished b detecting the presence of unprocessed instructions in the instruction fetch circuit and/or the instruction decode circuit (such as the instruction fetch circuit <b>22</b> and the instruction decode circuit <b>26</b>, respectively, of <figref idrefs="DRAWINGS">FIG. 1</figref>). If no remaining instructions are detected, the instruction processing circuit validates any previously-stored immediate values in a register write tracking table (for example, the register write tracking table <b>32</b> of <figref idrefs="DRAWINGS">FIG. 1</figref>) (block <b>71</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>). For example, a previously-stored immediate value in the register write tracking table may no longer be usable for pairing instructions for fusing because another value was written to a corresponding register, or because an execution pipeline flush occurred. In some embodiments, the instruction processing circuit may indicate that a previously-stored immediate value is no longer valid by clearing a valid bit associated with the immediate value in the register write tracking table. The instruction processing circuit then returns to block <b>70</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>.</div>
<div class="description-paragraph" id="p-0037" num="0036">If a remaining instruction is detected, the instruction processing circuit determines whether the detected instruction indicates an operation to write an immediate value to register R<sub>X </sub>(such as one of the registers <b>16</b>(<b>0</b>-M) of <figref idrefs="DRAWINGS">FIG. 1</figref>) (block <b>72</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>). Detection of such an instruction indicates that the instruction processing circuit may be able to convert one or more subsequent instructions within the instruction stream into a fused instruction. In the event that a detected instruction does not indicate an operation to write an immediate value to the register R<sub>X</sub>, the instruction processing circuit next determines whether the detected instruction overwrites a first portion of the register R<sub>X </sub>while maintaining a second portion of the register R<sub>X </sub>(block <b>74</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>). If not, no opportunities for fusing instructions presently exist. The instruction processing circuit then validates any previously-stored immediate values in the register write tracking table as discussed above (block <b>75</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>), and processing of the detected instruction continues (block <b>76</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>). The instruction processing circuit then returns to block <b>70</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>.</div>
<div class="description-paragraph" id="p-0038" num="0037">Referring back to the decision point at block <b>72</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>, if the detected instruction does indicate an operation to write an immediate value to the register R<sub>X</sub>, the instruction processing circuit stores the immediate value of the detected instruction and an identifier of register R<sub>X </sub>in the register write tracking table (block <b>78</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>). In some embodiments, storing the immediate value and the identifier of register R<sub>X </sub>in the register write tracking table includes setting a valid bit corresponding to the immediate value in the register write tracking table. The valid bit may serve as an indicator that the register write tracking table currently contains an immediate value for register R<sub>X </sub>that may be usable for pairing a subsequent instruction with the first detected instruction for fusing.</div>
<div class="description-paragraph" id="p-0039" num="0038">The instruction processing circuit then determines whether an instruction is detected immediately subsequent to the first detected instruction, wherein the immediately subsequent instruction indicates an operation that overwrites a first portion of register R<sub>X </sub>while maintaining a second portion of register R<sub>X </sub>(block <b>80</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>). If an immediately subsequent instruction indicating an operation that overwrites a first portion of register R<sub>X </sub>while maintaining a second portion of register R<sub>X </sub>is not detected, no opportunities for fusing instructions presently exist. Accordingly, processing of the detected instruction continues (block <b>76</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>), after which the instruction processing circuit returns to block <b>70</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>.</div>
<div class="description-paragraph" id="p-0040" num="0039">Returning to the decision point at block <b>80</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>, if the immediately subsequent instruction is detected overwriting a first portion of register R<sub>X </sub>while maintaining a second portion of register R<sub>X</sub>, the instruction processing circuit has detected consecutive immediate value, write-based instructions in the instruction stream that may be converted into a fused instruction. In this scenario, the instruction processing circuit proceeds to block <b>82</b> of <figref idrefs="DRAWINGS">FIG. 4B</figref>.</div>
<div class="description-paragraph" id="p-0041" num="0040">Referring now to <figref idrefs="DRAWINGS">FIG. 4B</figref>, operations for fusing consecutive immediate value, write-based instructions are illustrated. The instruction processing circuit generates an immediate value to be written to register R<sub>X </sub>by combining the overwritten first portion and the maintained second portion of register R<sub>X </sub>(block <b>82</b> of <figref idrefs="DRAWINGS">FIG. 4B</figref>). In some embodiments, generating the immediate value may be based on an immediate value and an identifier of the register R<sub>X </sub>that were previously stored in the register write tracking table. After generating the immediate value, the instruction processing circuit may optionally store the newly generated immediate value and the identifier of register R<sub>X </sub>in the register write tracking table (block <b>84</b> of <figref idrefs="DRAWINGS">FIG. 4B</figref>). Storing the newly generated immediate value may be unnecessary in some embodiments in which at most two instructions are fused in any exemplary instance. However, as discussed in greater detail below, in some embodiments, storing the newly generated immediate value in the register write tracking table may enable the fusing of additional subsequent instructions.</div>
<div class="description-paragraph" id="p-0042" num="0041">The instruction processing circuit then converts the detected instruction and the immediately subsequent instruction into a fused instruction that specifies register R<sub>X </sub>and the generated combined immediate value (block <b>86</b> of <figref idrefs="DRAWINGS">FIG. 4B</figref>). The instruction processing circuit may optionally issue the detected instruction for execution (block <b>88</b> of <figref idrefs="DRAWINGS">FIG. 4B</figref>). As discussed above and in <figref idrefs="DRAWINGS">FIG. 6</figref> below, in some embodiments, the instruction processing circuit may issue a “no operation” instruction (e.g., NOP) in place of the detected instruction, or remove the detected instruction entirely. The instruction processing circuit then issues the fused instruction for execution (block <b>90</b> of <figref idrefs="DRAWINGS">FIG. 4B</figref>), and processing resumes at block <b>70</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>.</div>
<div class="description-paragraph" id="p-0043" num="0042">An exemplary conversion of consecutive immediate value, write-based instructions into a fused instruction, as described in <figref idrefs="DRAWINGS">FIGS. 4A and 4B</figref>, is further illustrated in <figref idrefs="DRAWINGS">FIG. 5</figref>, with reference to <figref idrefs="DRAWINGS">FIG. 1</figref>. In <figref idrefs="DRAWINGS">FIG. 5</figref>, a detected instruction stream <b>92</b> depicts a series of instructions detected by the instruction processing circuit <b>14</b> as they proceed through the instruction stream <b>18</b> (not shown). In this example, a first instruction <b>94</b> detected in the detected instruction stream <b>92</b> is the ARM architecture MOVW instruction. The MOVW instruction indicates an operation writing an immediate value <b>96</b> (having a hexadecimal value of 0x1234) into a register specified by an operand <b>98</b>, which is one of the registers <b>16</b>(<b>0</b>-M) (referred to in this example as register R<sub>X</sub>, where 0≦X≦M). Because the MOVW instruction is a 32-bit instruction, the size of the immediate value <b>96</b> is limited to less than 32 bits (for example, a number of bits must be reserved for indicating a target register and an encoding for the immediate value). In this example, the ARM architecture limits the size of the immediate value <b>96</b> to 16 bits. Accordingly, if executed, the MOVW instruction may write the 16 bits of the immediate value <b>96</b> into the lower 16 bits of register R<sub>X</sub>, and write zeros into the upper 16 bits of the register R<sub>X</sub>.</div>
<div class="description-paragraph" id="p-0044" num="0043">Immediately following the first instruction <b>94</b> in the detected instruction stream <b>92</b> is a subsequent instruction <b>100</b>, which is the ARM architecture MOVT instruction. The MOVT instruction indicates an operation writing an immediate value <b>102</b> (having a hexadecimal value of 0x5678) into the top 16 bits of register R<sub>X</sub>, specified by an operand <b>104</b>, while maintaining the original value of the bottom 16 bits of the register R<sub>X</sub>. It is to be understood that the MOVW and MOVT instructions each operate on the entire register R<sub>X</sub>, even though only a portion of the register R<sub>X </sub>may be modified by the instruction.</div>
<div class="description-paragraph" id="p-0045" num="0044">A converted instruction stream <b>106</b> illustrates the instructions issued for execution after processing by the instruction processing circuit <b>14</b>. In the converted instruction stream <b>106</b>, the first instruction <b>94</b> (the MOVW instruction) has been replaced by an instruction <b>108</b>, the ARM architecture NOP instruction, which indicates no operation. In some embodiments, the instruction <b>108</b> may be removed entirely (i.e., may be discarded or otherwise not issued for execution). The subsequent instruction <b>100</b> is converted into a fused instruction <b>110</b>. In this example, the fused instruction <b>110</b> is instruction CONST32 (i.e., “constant 32”) indicating an operation to write a 32-bit combined immediate value <b>112</b> (having a hexadecimal value of 0x56781234) into register R<sub>X</sub>, specified by an operand <b>114</b>. The combined immediate value <b>112</b> is generated by the instruction processing circuit <b>14</b> by combining a portion <b>116</b>, corresponding to the immediate value <b>96</b> of the first instruction <b>94</b>, with a portion <b>118</b>, corresponding to the immediate value <b>102</b> of the subsequent instruction <b>100</b>. By fusing the first instruction <b>94</b> and the subsequent instruction <b>100</b> into the CONST32 fused instruction <b>110</b>, the instruction processing circuit <b>14</b> enables a 32-bit immediate value to be written to register R<sub>X </sub>using a single instruction, rather than requiring a MOVW instruction followed immediately by a MOVT instruction. As a result, the CONST32 fused instruction <b>110</b> eliminates the possibility of a read-after-write hazard associated with the MOVW/MOVT instruction pair, and may execute using fewer processor clock cycles than the MOVW/MOVT instruction pair.</div>
<div class="description-paragraph" id="p-0046" num="0045">In this example, the first instruction <b>94</b> is replaced with the NOP instruction <b>108</b> or removed from the instruction stream <b>18</b>, and the subsequent instruction <b>100</b> is replaced with the CONST32 fused instruction <b>110</b>. It is to be understood that, in some embodiments, the first instruction <b>94</b> may remain unchanged in the instruction stream <b>8</b> preceding the CONST32 fused instruction <b>110</b> that replaces the subsequent instruction <b>100</b>. According to some embodiments described herein, the first instruction <b>94</b> may be replaced with the CONST32 fused instruction <b>110</b>, and the subsequent instruction <b>100</b> may be replaced with the NOP instruction <b>108</b> or removed from the instruction stream <b>18</b>. In some embodiments, the CONST32 fused instruction <b>110</b> may comprise the first instruction <b>94</b> redefined to combine the operations of the first instruction <b>94</b> and the subsequent instruction <b>100</b>, or may comprise the subsequent instruction <b>100</b> redefined to combine the operations of the first instruction <b>94</b> and the subsequent instruction <b>100</b>.</div>
<div class="description-paragraph" id="p-0047" num="0046">In this regard. <figref idrefs="DRAWINGS">FIG. 6</figref> shows an exemplary set of consecutive, non-fused instructions involving immediate value, write-based instructions, and corresponding fused instructions involving immediate value, write-based instructions employing the instruction processing circuit <b>11</b> of <figref idrefs="DRAWINGS">FIG. 1</figref> and the process of <figref idrefs="DRAWINGS">FIG. 3</figref> and/or <figref idrefs="DRAWINGS">FIGS. 4A and 4B</figref>. A detected instruction stream <b>122</b> of <figref idrefs="DRAWINGS">FIG. 6</figref> includes two consecutive ARM instructions: a MOVW instruction writing an immediate value having hexadecimal value 0x1234 to register R<sub>X</sub>, immediately followed by a MOVT instruction writing an immediate value having hexadecimal value 0x5678 to the top 16 bits of register R<sub>X</sub>. The effects of the consecutive instructions in the detected instruction stream <b>122</b> on the value stored in register R<sub>X </sub>is shown in table <b>121</b>, in this example, the MOVW instruction writes hexadecimal value 0x1234 into the bottom 16 bits of register R<sub>X</sub>, and writes zeros into the top 16 bits of register R<sub>X</sub>. The subsequent MOVT instruction then writes hexadecimal value 0x5678 into the top 16 bits of register R<sub>X</sub>, while leaving the bottom 16 bits unchanged.</div>
<div class="description-paragraph" id="p-0048" num="0047">Instruction streams <b>126</b>, <b>128</b>, and <b>130</b> illustrate exemplary sequences of instructions including fused instructions into which the instructions in the detected instruction stream <b>122</b> may be converted by the instruction processing circuit <b>14</b>. In some embodiments, converting the subsequent instruction into a fused instruction may include replacing the first instruction in the detected instruction stream <b>122</b> with a “no operation” instruction (e.g., NOP) or removing the first instruction, and replacing the subsequent instruction with a fused instruction. Accordingly, instruction stream <b>126</b> comprises an NOP instruction or a removed instruction, immediately followed by fused instruction CONST32 writing a 32-bit immediate value having hexadecimal value 0x56781234 to register R<sub>X</sub>. In table <b>132</b>, the effects of the instruction stream <b>126</b> on the value stored in register R<sub>X </sub>are illustrated. The first NOP/removed instruction has no effect on register R<sub>X</sub>, so register R<sub>X </sub>retains its previously held value. The execution of the subsequent CONST32 fused instruction writes the hexadecimal value 0x56781234 to register R<sub>X </sub>in a single operation.</div>
<div class="description-paragraph" id="p-0049" num="0048">According to some embodiments described herein, converting the subsequent instruction into a fused instruction may include replacing the first instruction in the detected instruction stream <b>122</b> with a fused instruction, and replacing the subsequent instruction with a “no operation” instruction (e.g., NOP) or removing the subsequent instruction. Thus, in instruction stream <b>128</b>, the CONST32 fused instruction writes a 32-bit immediate value having hexadecimal value 0x56781234 to register R<sub>X</sub>, and is immediately followed by an NOP instruction or a removed instruction. The effects of the instruction stream <b>128</b> on the value stored in register R<sub>X </sub>are shown in table <b>134</b>. The execution of the CONST32 fused instruction writes the hexadecimal value 0x56781234 to register R<sub>X </sub>in a single operation. The subsequent NOP/removed instruction has no effect on register R<sub>X</sub>, so register R<sub>X </sub>retains hexadecimal value 0x56781234.</div>
<div class="description-paragraph" id="p-0050" num="0049">In some embodiments, converting the subsequent instruction into a fused instruction may include leaving the first instruction unchanged, and replacing the subsequent instruction with a fused instruction. Accordingly, instruction stream <b>130</b> comprises a MOVW instruction writing an immediate value having hexadecimal value 0x1234 to register R<sub>X</sub>, immediately followed by the CONST32 fused instruction writing a 32-bit immediate value having hexadecimal value 0x56781234 to register R<sub>X</sub>. In table <b>136</b>, the effects of the instruction stream <b>130</b> on the value stored in register R<sub>X </sub>are illustrated. The MOVW instruction, when executed, writes hexadecimal value 0x1234 into the bottom 16 bits of register R<sub>X</sub>, and writes zeros into the top 16 bits of register R. The execution of the subsequent CONST32 fused instruction then writes the hexadecimal value 0x56781234 to register R<sub>X </sub>in a single operation.</div>
<div class="description-paragraph" id="p-0051" num="0050">Referring back to the decision point at block <b>74</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>, the instruction processing circuit is configured to next identify whether non-consecutive immediate value, write-based instructions (i.e., immediate value, write-based instructions that are separated in the instruction stream by other intervening instructions) can be fused. If the detected instruction does overwrite a first portion of register R<sub>X </sub>while maintaining a second portion of register R<sub>X </sub>(block <b>74</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>), the instruction processing circuit consults the register write tracking table to determine whether the register write tracking table contains an entry associated with the register R<sub>X </sub>(block <b>138</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>). If no entry for register R<sub>X </sub>exists in the register write tracking table, processing of the detected instruction continues (block <b>76</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>), after which the instruction processing circuit returns to block <b>70</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>. If the register write tracking table does contain an entry for register R<sub>X</sub>, the instruction processing circuit has identified non-consecutive instructions that may be converted into a fused instruction, and processing continues at block <b>140</b> of <figref idrefs="DRAWINGS">FIG. 4C</figref>.</div>
<div class="description-paragraph" id="p-0052" num="0051">Operations for fusing non-consecutive instructions are illustrated in <figref idrefs="DRAWINGS">FIG. 4C</figref>, to which reference is now made. The instruction processing circuit retrieves the immediate value from the entry associated with register R<sub>X </sub>in the register write tracking table (block <b>140</b> of <figref idrefs="DRAWINGS">FIG. 4C</figref>). The instruction processing circuit next generates an immediate value to be written to register R<sub>X </sub>by combining the immediate value retrieved from the register write tracking table with the immediate value operand of the detected instruction (block <b>142</b> of <figref idrefs="DRAWINGS">FIG. 4C</figref>). After generating the immediate value, the instruction processing circuit may optionally store the newly generated immediate value and an identifier of register R<sub>X </sub>in the register write tracking table (block <b>144</b> of <figref idrefs="DRAWINGS">FIG. 4C</figref>). Storing the newly generated immediate value may not be necessary in some embodiments in which at most two instructions are fused in any exemplary instance. However, as discussed in greater detail below, in some embodiments, storing the newly generated combined immediate value may enable the fusing of additional subsequent instructions. The instruction processing circuit converts the detected instruction into a fused instruction that includes an indicator of register R<sub>X </sub>and the generated combined immediate value (block <b>146</b> of <figref idrefs="DRAWINGS">FIG. 4C</figref>). The instruction processing circuit issues the fused instruction for execution (block <b>148</b> of <figref idrefs="DRAWINGS">FIG. 4C</figref>), and the instruction processing circuit proceeds to block <b>70</b> of <figref idrefs="DRAWINGS">FIG. 4A</figref>.</div>
<div class="description-paragraph" id="p-0053" num="0052"> <figref idrefs="DRAWINGS">FIG. 7</figref> illustrates an exemplary conversion of non-consecutive, immediate value, write-based instructions into a fused instruction(s), with reference to <figref idrefs="DRAWINGS">FIGS. 1 and 10</figref>. Detected instruction stream <b>160</b> shows a series of instructions detected by the instruction processing circuit <b>14</b> as they proceed through the instruction stream <b>18</b> (not shown). A detected first instruction <b>162</b> is the ARM architecture MOVW instruction, which indicates an operation writing an immediate value <b>164</b> (having a hexadecimal value of 0x1234) into a register specified by an operand <b>166</b>, which is one of the registers <b>16</b>(<b>0</b>-M) (referred to in this example as register R<sub>X</sub>, where 0≦X≦M). As noted above, the MOVW instruction is a 32-bit instruction; consequently, the size of the immediate value <b>164</b> is limited to less than 32 bits (to reserve bits for, e.g., indicating a target register and an encoding for the immediate value <b>164</b>). In this example, the ARM architecture limits the size of the immediate value <b>164</b> to 16 bits. Thus, the MOVW instruction, if executed, may have the effect of writing the 16 bits of the immediate value <b>164</b> into the lower 16 bits of the register R<sub>X</sub>, and writing zeros into the upper 16 bits of the register R<sub>X</sub>.</div>
<div class="description-paragraph" id="p-0054" num="0053">Upon detection of the first instruction <b>162</b>, the instruction processing circuit <b>14</b> stores data in a reduced-size register write tracking table <b>168</b> to facilitate the detection of subsequent instruction(s). Data field <b>170</b> in the reduced-size register write tracking table <b>168</b> stores an identifier of register R<sub>X</sub>, while data field <b>172</b> in the reduced-size register write tracking table <b>168</b> stores the immediate value <b>164</b> associated with the first instruction <b>162</b>. In this example, storing both the register indicator and the immediate value <b>164</b> in the reduced-size register write tracking table <b>168</b> may result in a smaller memory footprint when compared to other embodiments of the register write tracking table <b>32</b> of <figref idrefs="DRAWINGS">FIG. 1</figref> having one data row dedicated to each register. The first instruction <b>162</b> is then permitted to continue execution, and issues unchanged into converted instruction stream <b>174</b> as instruction <b>176</b>, operand <b>178</b>, and immediate value <b>180</b>.</div>
<div class="description-paragraph" id="p-0055" num="0054">At a point further along in the detected instruction stream <b>160</b> (but not immediately following the first instruction <b>162</b>), the instruction processing circuit <b>14</b> detects a subsequent instruction <b>182</b>, which in this example is the ARM architecture MOVT instruction. The MOVT instruction indicates an operation to write an immediate value <b>184</b> (having a hexadecimal value of 0x5678) into the top 16 bits of the register R<sub>X </sub>specified by an operand <b>186</b>, while maintaining the original value of the bottom 16 bits of the register R<sub>X</sub>. It is to be understood that the MOVW and MOVT instructions each operate on the entire register R<sub>X</sub>, even though only a portion of the register R<sub>X </sub>may be modified by the instruction.</div>
<div class="description-paragraph" id="p-0056" num="0055">Upon determining that the register R<sub>X </sub>specified by the operand <b>186</b> matches the register indicator stored in data field <b>170</b>, the instruction processing circuit <b>14</b> converts the subsequent instruction <b>182</b> into a fused instruction <b>188</b> (as seen in the converted instruction stream <b>174</b>). The fused instruction <b>188</b> is a CONST32 instruction indicating an operation writing a 32-bit combined immediate value <b>190</b>, having a hexadecimal value of 0x56781234, into register R<sub>X </sub>specified by an operand <b>192</b>. The combined immediate value <b>190</b> is generated by the instruction processing circuit <b>14</b> by combining a portion <b>194</b>, corresponding to the immediate value <b>164</b> stored in data field <b>172</b> of the reduced-size register write tracking table <b>168</b>, with a portion <b>196</b>, corresponding to the immediate value <b>184</b> of the subsequent instruction <b>182</b>. By converting the subsequent instruction <b>182</b> into the CONST32 fused instruction <b>188</b>, the instruction processing circuit <b>14</b> can enable the 32-bit combined immediate value <b>190</b> to be written to register R<sub>X </sub>in a single write operation, rather than requiring the use of a MOVT instruction that involves register read, modify, and write operations.</div>
<div class="description-paragraph" id="p-0057" num="0056"> <figref idrefs="DRAWINGS">FIG. 8</figref>, like <figref idrefs="DRAWINGS">FIG. 7</figref>, illustrates an exemplary conversion of non-consecutive, immediate value, write-based instructions into a fused instruction(s), with reference to <figref idrefs="DRAWINGS">FIGS. 1 and 10</figref>. In this example, however, the instruction processing circuit <b>14</b> makes use of a dedicated register write tracking table <b>198</b>. The dedicated register write tracking table <b>198</b> contains one data row for each of the registers <b>16</b>(<b>0</b>-M). By providing a data row dedicated to each of the registers <b>16</b>(<b>0</b>-M), the dedicated register write tracking table <b>198</b> may provide a simpler implementation when compared to the reduced-size register write tracking table <b>168</b> of <figref idrefs="DRAWINGS">FIG. 7</figref>. In this example, each data row includes an immediate value field, a valid bit field, and a plurality of granule valid bits. The valid bit field contains a valid bit that indicates whether the immediate value stored in the dedicated register write tracking table <b>198</b> for the corresponding register is usable for pairing instructions for fusion. The granule valid bits correspond to a plurality of granules of a predefined size (such as one byte) which constitute the corresponding register. Because the granule size in this example is defined as one byte (i.e., 8 bits) and each of the registers <b>16</b>(<b>0</b>-M) contains 32 bits, each data row of the dedicated write tracking table <b>198</b> contains four granule valid bits for the corresponding register. By setting one or more granule valid bits, the instruction processing circuit <b>14</b> can indicate precisely which portion(s) of the corresponding register have been written since the entry in the table was last invalidated. Accordingly, in some embodiments, the use of granule valid bits may enable the instruction processing circuit <b>14</b> to detect, pair, and fuse a wider range of instructions, such the ARM architecture ORR (logical OR) instruction.</div>
<div class="description-paragraph" id="p-0058" num="0057">A detected instruction stream <b>200</b> shows a series of instructions detected by the instruction processing circuit <b>14</b> as they proceed through the instruction stream <b>18</b> (not shown). A detected first instruction <b>202</b> in the detected instruction stream <b>200</b> is the ARM architecture MOV instruction. The MOV instruction indicates an operation writing an immediate value <b>204</b> (having a hexadecimal value of 0x34) into a register specified by an operand <b>206</b>, which is one of the registers <b>16</b>(<b>0</b>-M) (referred to in this example as register R<sub>X</sub>, where 0≦X≦M). The MOV instruction is a 32-bit instruction; consequently, the size of the immediate value <b>204</b> is limited to less than 32 bits so that a number of bits may be reserved for indicating data, such as a target register and an encoding for the immediate value <b>204</b>. In this example, the ARM architecture limits the size of the immediate value <b>204</b> to 8 bits. Accordingly, the MOV instruction, if executed, may have the effect of writing the 8 bits of the immediate value <b>204</b> into the lower 8 bits of the register R<sub>X</sub>, and writing zeros into the upper 24 bits of the register R<sub>X</sub>.</div>
<div class="description-paragraph" id="p-0059" num="0058">Upon detection of the first instruction <b>202</b>, the instruction processing circuit <b>14</b> stores data in the dedicated register write tracking table <b>198</b> to facilitate the detection of subsequent instruction(s). In this example, data row <b>208</b> is dedicated to the register R<sub>X</sub>, and is used to store the immediate value <b>204</b> associated with the first instruction <b>202</b>. Additionally, a valid hit <b>209</b> associated with the immediate value <b>204</b> and the register R<sub>X </sub>is set to indicate that the immediate value <b>204</b> is known to be currently valid, and the granule valid bit <b>210</b> is set to indicate that the first instruction <b>202</b> wrote to the lowest byte of the register R<sub>X</sub>. The first instruction <b>202</b> then continues execution, and appears unchanged in a converted instruction stream <b>211</b> as instruction <b>212</b>, operand <b>214</b>, and immediate value <b>216</b>.</div>
<div class="description-paragraph" id="p-0060" num="0059">At a point further along in the detected instruction stream <b>200</b> (but not immediately following the first instruction <b>202</b>), the instruction processing circuit <b>14</b> detects a subsequent instruction <b>218</b>, which in this example is the ARM architecture ORR (logical OR) instruction. The ORR instruction <b>218</b> indicates a logical OR operation using an immediate value <b>220</b> (having a hexadecimal value of 0x1200) and the value of one of registers <b>16</b>(<b>0</b>-M) specified by an operand <b>222</b> (in this example, register R<sub>X</sub>). In some embodiments, a granule valid bit (not shown) will be set to indicate that the ORR instruction wrote a value to one byte of the register R<sub>X</sub>. It is to be understood that the MOV and ORR instructions each operate on the entire register R<sub>X</sub>, even though only a portion of the register R<sub>X </sub>may be modified by the instruction.</div>
<div class="description-paragraph" id="p-0061" num="0060">In the converted instruction stream <b>211</b>, the subsequent instruction <b>218</b> is converted into fused instruction <b>224</b>. The fused instruction <b>224</b> is a CONST32 instruction indicating an operation writing a 32-bit combined immediate value <b>226</b> (having a hexadecimal value of 0x00001234) into register R<sub>X </sub>specified by an operand <b>228</b>. The combined immediate value <b>226</b> is generated by the instruction processing circuit <b>14</b> by combining a portion <b>230</b>, corresponding to the immediate value <b>204</b> stored in data row <b>208</b> of the dedicated register write tracking table <b>198</b>, with a portion <b>232</b>, corresponding to the immediate value <b>220</b> of the subsequent instruction <b>218</b>. In generating the combined immediate value <b>226</b>, the instruction processing circuit <b>14</b> may utilize the granule valid bit <b>210</b> to determine which portion(s) of register R<sub>X </sub>was modified by preceding instructions. By converting the subsequent instruction <b>218</b> into the CONST32 fused instruction <b>224</b>, the instruction processing circuit <b>14</b> can enable the 32-bit combined immediate value <b>226</b> to be written to the register R<sub>X </sub>in a single write operation, rather than requiring the use of an ORR operation involving register read, modify, and write operations.</div>
<div class="description-paragraph" id="p-0062" num="0061">It is to be understood that, in scenarios such as the examples illustrated by <figref idrefs="DRAWINGS">FIGS. 5, 7, and 8</figref>, the subsequent instruction itself may be followed by additional write instructions that also overwrite only a portion of the value in the register R<sub>X </sub>while maintaining a portion of the value in the register R<sub>X</sub>. For instance, in <figref idrefs="DRAWINGS">FIG. 8</figref>, the subsequent instruction <b>218</b> may be followed by one or more additional ORR instructions that modify the upper two bytes of the register R<sub>X</sub>. In such a scenario, some embodiments may provide that the instruction processing circuit <b>14</b> may fuse the one or more additional subsequent write instructions with the first instruction <b>202</b> and the subsequent instruction <b>218</b>. Accordingly, to facilitate the fusing of multiple subsequent instructions, the instruction processing circuit <b>14</b>, upon generating the combined immediate value (such as the immediate value <b>112</b> of <figref idrefs="DRAWINGS">FIG. 5</figref>, the immediate value <b>190</b> of <figref idrefs="DRAWINGS">FIG. 7</figref>, and the immediate value <b>226</b> of <figref idrefs="DRAWINGS">FIG. 8</figref>), may then store the combined immediate value in the data row associated with the register R<sub>X </sub>in the register write tracking table <b>32</b>.</div>
<div class="description-paragraph" id="p-0063" num="0062"> <figref idrefs="DRAWINGS">FIG. 9</figref> is a diagram showing exemplary sets of non-consecutive, non-fused instructions involving immediate value, write-based instructions, and exemplary corresponding fused instructions involving immediate value, write-based instructions employing the instruction processing circuit <b>14</b> of <figref idrefs="DRAWINGS">FIG. 1</figref>. Detected instruction stream <b>234</b> includes two non-consecutive ARM architecture instructions: a MOVW instruction writing an immediate value having hexadecimal value 0x1234 to register R<sub>X</sub>, followed by a MOVT instruction writing an immediate value having hexadecimal value 0x5678 to the top 16 bits of the register R<sub>X</sub>. The effects of the non-consecutive instructions in the detected instruction stream <b>234</b> on the value stored in the register R<sub>X </sub>is shown in table <b>236</b>. Execution of the MOVW instruction causes hexadecimal value 0x1234 to be written into the bottom 16 bits of the register R<sub>X</sub>, and zeros to be written into the top 16 bits of the register R<sub>X</sub>. The subsequent MOVT instruction then writes hexadecimal value 0x5678 into the top 16 bits of the register R<sub>X</sub>, while leaving the bottom 16 bits unchanged.</div>
<div class="description-paragraph" id="p-0064" num="0063">An instruction stream <b>238</b> illustrates an exemplary sequence of instructions, including fused instructions, into which the non-consecutive instructions in the detected instruction stream <b>234</b> may be converted by the instruction processing circuit <b>14</b>. In this regard, the instruction stream <b>238</b> includes the MOVW instruction writing an immediate value having hexadecimal value 0x1234 to the register R<sub>X</sub>. The MOVW instruction is followed by fused instruction CONST32 writing a 32-bit immediate value having hexadecimal value 0x56781234 to the register R<sub>X</sub>. Table <b>240</b> illustrates the effects of the instruction stream <b>238</b> on the value stored in the register R<sub>X</sub>. The MOVW instruction writes hexadecimal value 0x1234 into the bottom 16 bits of the register R<sub>X</sub>, and writes zeros into the top 16 bits of the register R<sub>X</sub>. The execution of the subsequent CONST32 fused instruction writes the hexadecimal value 0x56781234 to the register R<sub>X </sub>in a single operation. While the effects on the register R<sub>X </sub>may appear identical to those illustrated in table <b>236</b>, the CONST32 fused instruction may consume fewer processor clock cycles compared to the original MOVT instruction in the detected instruction stream <b>234</b>. These effects occur because execution of the original MOVT instruction requires reading the value of register R<sub>X</sub>, modifying the value, and then writing the value back to the register R<sub>X</sub>, while the CONST32 instruction writes the 32-bit immediate value to the register R<sub>X </sub>in a single operation.</div>
<div class="description-paragraph" id="p-0065" num="0064">A detected instruction stream <b>242</b> includes a series of non-consecutive ARM architecture instructions: a MOV instruction writing an immediate value (having hexadecimal value 0x0078) to the register R<sub>X</sub>; an ORR instruction performing a logical OR operation using an immediate value (having a hexadecimal value of 0x5600) and the value of the register R<sub>X</sub>; an ORR instruction performing a logical OR operation using an immediate value (having a hexadecimal value of 0x340000) and the value of the register R<sub>X</sub>; and an ORR instruction performing a logical OR operation using an immediate value (having a hexadecimal value of 0x12000000) and the value of the register R<sub>X</sub>. The effects of the non-consecutive instructions in the detected instruction stream <b>242</b> on the value stored in the register R<sub>X </sub>is shown in table <b>244</b>. The MOV instruction, when executed, writes hexadecimal value 0x0078 into the bottom 16 bits of the register R<sub>X</sub>, and writes zeros into the top 16 bits of the register R<sub>X</sub>. The three subsequent ORR instructions then modify the top twenty-four bits of the register R<sub>X </sub>one byte at a time, resulting in the top three bytes of the register R<sub>X </sub>having the hexadecimal value 0x123456 and leaving the bottom eight bits of the register R<sub>X </sub>unchanged.</div>
<div class="description-paragraph" id="p-0066" num="0065">An instruction stream <b>246</b> illustrates an exemplary sequence of instructions, including fused instructions, into which the non-consecutive instructions in the detected instruction stream <b>242</b> may be converted by the instruction processing circuit <b>14</b>. In this regard, the instruction stream <b>246</b> includes the MOV instruction writing an immediate value having hexadecimal value 0x0078 to the register R<sub>X</sub>. The MOV instruction is followed by a series of three CONST32 fused instructions writing the 32-bit immediate values 0x00005678, 0x00345678, and 0x12345678, respectively, to the register R<sub>X</sub>. Table <b>248</b> illustrates the effects of the instruction stream <b>246</b> on the value stored in the register R<sub>X</sub>. The MOV instruction writes hexadecimal value 0x0078 into the bottom 16 bits of the register R<sub>X</sub>, and writes zeros into the top 16 bits of the register R<sub>X</sub>. The contents of the register R<sub>X </sub>is then modified by the subsequent CONST32 fused instructions to have the values 0x00005678, 0x00345678, and 0x12345678, respectively. The effects on register R<sub>X </sub>may appear identical to those of the instruction stream <b>242</b>, but each of the CONST32 fused instructions may consume fewer processor resources compared to each original ORR instructions in the detected instruction stream <b>242</b>.</div>
<div class="description-paragraph" id="p-0067" num="0066">The instruction processing circuits fusing immediate value, write-based instructions according to embodiments disclosed herein may be provided in or integrated into any processor-based device, or into a semiconductor die. Examples, without limitation, include a set top box, an entertainment unit, a navigation device, a communications device, a fixed location data unit, a mobile location data unit, a mobile phone, a cellular phone, a computer, a portable computer, a desktop computer, a personal digital assistant (PDA), a monitor, a computer monitor, a television, a tuner, a radio, a satellite radio, a music player, a digital music player, a portable music player, a digital video player, a video player, a digital video disc (DVD) player, and a portable digital video player.</div>
<div class="description-paragraph" id="p-0068" num="0067">In this regard, <figref idrefs="DRAWINGS">FIG. 10</figref> illustrates an example of a processor-based system <b>250</b> that can employ the instruction processing circuit <b>14</b> illustrated in <figref idrefs="DRAWINGS">FIG. 1</figref>. In this example, the processor-based system <b>250</b> includes one or more central processing units (CPUs) <b>252</b>, each including one or more processors <b>254</b>. The processor(s) <b>254</b> may comprise the instruction processing circuit (IPC) <b>14</b>. The CPU(s) <b>252</b> may have cache memory <b>256</b> coupled to the processor(s) <b>254</b> for rapid access to temporarily stored data. The CPU(s) <b>252</b> is coupled to a system bus <b>258</b> and can intercouple master and slave devices included in the processor-based system <b>250</b>. As is well known, the CPU(s) <b>252</b> communicates with these other devices by exchanging address, control, and data information over the system bus <b>258</b>. For example, the CPU(s) <b>252</b> can communicate bus transaction requests to a memory controller <b>260</b>, as an example of a slave device. Although not illustrated in <figref idrefs="DRAWINGS">FIG. 10</figref>, multiple system buses <b>258</b> could be provided.</div>
<div class="description-paragraph" id="p-0069" num="0068">Other master and slave devices can be connected to the system bus <b>258</b>. As illustrated in <figref idrefs="DRAWINGS">FIG. 10</figref>, these devices can include a memory system <b>262</b>, one or more input devices <b>264</b>, one or more output devices <b>266</b>, one or more network interface devices <b>268</b>, and one or more display controllers <b>270</b>, as examples. The input device(s) <b>264</b> can include any type of input device, including but not limited to input keys, switches, voice processors, etc. The output device(s) <b>266</b> can include any type of output device, including but not limited to audio, video, other visual indicators, etc. The network interface device(s) <b>268</b> can be any devices configured to allow exchange of data to and from a network <b>272</b>. The network <b>272</b> can be any type of network, including but not limited to a wired or wireless network, a private or public network, a local area network (LAN), a wide local area network (WLAN), and the Internet. The network interface device(s) <b>268</b> can be configured to support any type of communication protocol desired. The memory system <b>262</b> can include one or more memory units <b>274</b>(<b>0</b>-N).</div>
<div class="description-paragraph" id="p-0070" num="0069">The CPU(s) <b>252</b> may also be configured to access the display controller(s) <b>270</b> over the system bus <b>258</b> to control information sent to one or more displays <b>276</b>. The display controller(s) <b>270</b> sends information to the display(s) <b>276</b> to be displayed via one or more video processors <b>278</b>, which process the information to be displayed into a format suitable for the display(s) <b>276</b>. The display(s) <b>276</b> can include any type of display, including but not limited to a cathode ray tube (CRT), a liquid crystal display (LCD), a plasma display, etc.</div>
<div class="description-paragraph" id="p-0071" num="0070">Those of skill in the art will further appreciate that the various illustrative logical blocks, modules, circuits, and algorithms described in connection with the embodiments disclosed herein may be implemented as electronic hardware, instructions stored in memory or in another computer-readable medium and executed by a processor or other processing device, or combinations of both. The master devices and slave devices described herein may be employed in any circuit, hardware component, integrated circuit (IC), or IC chip, as examples. Memory disclosed herein may be any type and size of memory and may be configured to store any type of information desired. To clearly illustrate this interchangeability, various illustrative components, blocks, modules, circuits, and steps have been described above generally in terms of their functionality. How such functionality is implemented depends upon the particular application, design choices, and/or design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application, but such implementation decisions should not be interpreted as causing a departure from the scope herein.</div>
<div class="description-paragraph" id="p-0072" num="0071">The various illustrative logical blocks, modules, and circuits described in connection with the embodiments disclosed herein may be implemented or performed with a processor, a DSP, an Application Specific Integrated Circuit (ASIC), an FPGA or other programmable logic device, discrete gate or transistor logic, discrete hardware components, or any combination thereof designed to perform the functions described herein. A processor may be a microprocessor, but in the alternative, the processor may be any conventional processor, controller, microcontroller, or state machine. A processor may also be implemented as a combination of computing devices, e.g., a combination of a DSP and a microprocessor, a plurality of microprocessors, one or more microprocessors in conjunction with a DSP core, or any other such configuration.</div>
<div class="description-paragraph" id="p-0073" num="0072">The embodiments disclosed herein may be embodied in hardware and in instructions that are stored in hardware, and may reside, for example, in Random Access Memory (RAM), flash memory, Read Only Memory (ROM), Electrically Programmable ROM (EPROM), Electrically Erasable Programmable ROM (EEPROM), registers, hard disk, a removable disk, a CD-ROM, or any other form of computer readable medium known in the art. An exemplary storage medium is coupled to the processor such that the processor can read information from, and write information to, the storage medium. In the alternative, the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a remote station. In the alternative, the processor and the storage medium may reside as discrete components in a remote station, base station, or server.</div>
<div class="description-paragraph" id="p-0074" num="0073">It is also noted that the operational steps described in any of the exemplary embodiments herein are described to provide examples and discussion. The operations described may be performed in numerous different sequences other than the illustrated sequences. Furthermore, operations described in a single operational step may actually be performed in a number of different steps. Additionally, one or more operational steps discussed in the exemplary embodiments may be combined. It is to be understood that the operational steps illustrated in the flow chart diagrams may be subject to numerous different modifications as will be readily apparent to one of skill in the art. Those of skill in the art would also understand that information and signals may be represented using any of a variety of different technologies and techniques. For example, data, instructions, commands, information, signals, bits, symbols, and chips that may be referenced throughout the above description may be represented by voltages, currents, electromagnetic waves, magnetic fields or particles, optical fields or particles, or any combination thereof.</div>
<div class="description-paragraph" id="p-0075" num="0074">The previous description of the disclosure is provided to enable any person skilled in the art to make or use the disclosure. Various modifications to the disclosure will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other variations without departing from the spirit or scope of the disclosure. Thus, the disclosure is not intended to be limited to the examples and designs described herein, but rather is to be accorded the widest scope consistent with the principles and novel features disclosed herein.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">25</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM101030602">
<claim-statement>What is claimed is:</claim-statement>
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. An instruction processing circuit configured to:
<div class="claim-text">detect a first instruction from an instruction stream indicating an operation writing an immediate value to a register;</div>
<div class="claim-text">detect at least one subsequent instruction in the instruction stream indicating an operation overwriting at least one first portion of the register and maintaining a value of a second portion of the register; and</div>
<div class="claim-text">convert the at least one subsequent instruction into at least one fused instruction, representing an encoding of one or more processor-specific microinstructions, indicating an operation writing the at least one first portion and the second portion of the register.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. The instruction processing circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref> further configured to store the immediate value and an identifier of the register associated with the first instruction in a register write tracking table; and
<div class="claim-text">the instruction processing circuit configured to detect the at least one subsequent instruction in the instruction stream indicating the operation overwriting the at least one first portion of the register based on the identifier of the register stored in the register write tracking table.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00003" num="00003">
<div class="claim-text">3. The instruction processing circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref> configured to detect the first instruction and the at least one subsequent instruction fetched consecutively in the instruction stream.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00004" num="00004">
<div class="claim-text">4. The instruction processing circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref> further configured to issue the first instruction and the at least one fused instruction for execution.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00005" num="00005">
<div class="claim-text">5. The instruction processing circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref> configured to convert the at least one subsequent instruction into the at least one fused instruction that combines the operations of the first instruction and the at least one subsequent instruction.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00006" num="00006">
<div class="claim-text">6. The instruction processing circuit of <claim-ref idref="CLM-00005">claim 5</claim-ref> further configured to remove the first instruction from the instruction stream.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00007" num="00007">
<div class="claim-text">7. The instruction processing circuit of <claim-ref idref="CLM-00005">claim 5</claim-ref> further configured to replace the first instruction in the instruction stream with an instruction indicating no operation.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00008" num="00008">
<div class="claim-text">8. The instruction processing circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref> configured to convert the at least one subsequent instruction into the at least one fused instruction that combines the operations of the first instruction and the at least one subsequent instruction.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00009" num="00009">
<div class="claim-text">9. The instruction processing circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref> further configured to remove the at least one subsequent instruction from the instruction stream.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00010" num="00010">
<div class="claim-text">10. The instruction processing circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref> further configured to replace the at least one subsequent instruction in the instruction stream with an instruction indicating no operation.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00011" num="00011">
<div class="claim-text">11. The instruction processing circuit of <claim-ref idref="CLM-00002">claim 2</claim-ref> configured to:
<div class="claim-text">detect the first instruction and the at least one subsequent instruction fetched non-consecutively in the instruction stream;</div>
<div class="claim-text">detect the at least one subsequent instruction in the instruction stream indicating the operation overwriting the at least one first portion of the register based on the identifier of the register stored in the register write tracking table; and</div>
<div class="claim-text">convert the at least one subsequent instruction into the at least one fused instruction based on the immediate value stored in the register write tracking table.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00012" num="00012">
<div class="claim-text">12. The instruction processing circuit of <claim-ref idref="CLM-00002">claim 2</claim-ref> configured to store the immediate value and the identifier of the register in at least one data row dedicated to the register in the register write tracking table, the at least one data row comprising the immediate value.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00013" num="00013">
<div class="claim-text">13. The instruction processing circuit of <claim-ref idref="CLM-00002">claim 2</claim-ref> configured to store the immediate value and the identifier of the register in at least one data row in the register write tracking table, the at least one data row comprising the immediate value and the identifier of the register.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00014" num="00014">
<div class="claim-text">14. The instruction processing circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first instruction and the at least one subsequent instruction are ARM architecture-based instructions; and
<div class="claim-text">wherein the first instruction is a MOVW instruction, and the at least one subsequent instruction is selected from the group consisting of: a MOVT instruction and an ORR instruction.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00015" num="00015">
<div class="claim-text">15. The instruction processing circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref> integrated into a semiconductor die.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00016" num="00016">
<div class="claim-text">16. The instruction processing circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a device selected from the group consisting of: a set top box, an entertainment unit, a navigation device, a communications device, a fixed location data unit, a mobile location data unit, a mobile phone, a cellular phone, a computer, a portable computer, a desktop computer, a personal digital assistant (PDA), a monitor, a computer monitor, a television, a tuner, a radio, a satellite radio, a music player, a digital music player, a portable music player, a digital video player, a video player, a digital video disc (DVD) player, and a portable digital video player.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00017" num="00017">
<div class="claim-text">17. An instruction processing circuit, comprising:
<div class="claim-text">a means for detecting a first instruction indicating an operation moving an immediate value to a register;</div>
<div class="claim-text">a means for detecting at least one subsequent instruction indicating an operation overwriting at least one first portion of the register and maintaining a value of a second portion of the register; and</div>
<div class="claim-text">a means for converting the at least one subsequent instruction into at least one fused instruction, representing an encoding of one or more processor-specific microinstructions, indicating an operation writing the at least one first portion and the second portion of the register.</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00018" num="00018">
<div class="claim-text">18. A method for processing computer instructions, comprising:
<div class="claim-text">detecting a first instruction indicating an operation moving an immediate value to a register;</div>
<div class="claim-text">detecting at least one subsequent instruction indicating an operation overwriting at least one first portion of the register and maintaining a value of a second portion of the register; and</div>
<div class="claim-text">converting the at least one subsequent instruction into at least one fused instruction, representing an encoding of one or more processor-specific microinstructions, indicating an operation writing the at least one first portion and the second portion of the register.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00019" num="00019">
<div class="claim-text">19. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref> further comprising storing the immediate value and an identifier of the register associated with the first instruction in a register write tracking table; and
<div class="claim-text">wherein detecting the at least one subsequent instruction in the instruction stream indicating the operation overwriting the at least one first portion of the register is based on the identifier of the register stored in the register write tracking table.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00020" num="00020">
<div class="claim-text">20. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref> comprising detecting the first instruction and the at least one subsequent instruction fetched consecutively in an instruction stream.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00021" num="00021">
<div class="claim-text">21. The method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the first instruction and the at least one subsequent instruction are fetched non-consecutively in an instruction stream;
<div class="claim-text">wherein detecting the at least one subsequent instruction in the instruction stream indicating the operation overwriting the at least one first portion of the register is based on the identifier of the register stored in the register write tracking table; and</div>
<div class="claim-text">wherein converting the at least one subsequent instruction into the at least one fused instruction is based on the immediate value stored in the register write tracking table.</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00022" num="00022">
<div class="claim-text">22. A non-transitory computer-readable medium having stored thereon computer-executable instructions to cause a processor to implement a method comprising:
<div class="claim-text">detecting a first instruction indicating an operation moving an immediate value to a register;</div>
<div class="claim-text">detecting at least one subsequent instruction indicating an operation overwriting at least one first portion of the register and maintaining a value of a second portion of the register; and</div>
<div class="claim-text">converting the at least one subsequent instruction into at least one fused instruction, representing an encoding of one or more processor-specific microinstructions, indicating an operation writing the at least one first portion and the second portion of the register.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00023" num="00023">
<div class="claim-text">23. The non-transitory computer-readable medium of <claim-ref idref="CLM-00022">claim 22</claim-ref>, having stored thereon the computer-executable instructions to cause the processor to implement the method further comprising storing the immediate value and an identifier of the register associated with the first instruction in a register write tracking table; and
<div class="claim-text">detecting the at least one subsequent instruction in the instruction stream indicating the operation overwriting the at least one first portion of the register based on the identifier of the register stored in the register write tracking table.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00024" num="00024">
<div class="claim-text">24. The non-transitory computer-readable medium of <claim-ref idref="CLM-00022">claim 22</claim-ref>, having stored thereon the computer-executable instructions to cause the processor to implement the method comprising detecting the first instruction and the at least one subsequent instruction fetched consecutively in an instruction stream.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00025" num="00025">
<div class="claim-text">25. The non-transitory computer-readable medium of <claim-ref idref="CLM-00023">claim 23</claim-ref>, having stored thereon the computer-executable instructions to cause the processor to implement the method comprising:
<div class="claim-text">detecting the first instruction and the at least one subsequent instruction fetched non-consecutively in an instruction stream;</div>
<div class="claim-text">detecting the at least one subsequent instruction in the instruction stream indicating the operation overwriting the at least one first portion of the register based on the identifier of the register stored in the register write tracking table; and</div>
<div class="claim-text">converting the at least one subsequent instruction into the at least one fused instruction based on the immediate value stored in the register write tracking table.</div>
</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    