
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">US9136091B2 - Electron beam apparatus for inspecting a pattern on a sample using multiple electron beams 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="patent-office" mxw-id="PA161242955">
<div class="abstract" id="p-0001" num="0000">An electron beam apparatus for inspecting a pattern on a sample using multiple electron beams includes a plurality of primary electro-optical systems and a plurality of secondary electro-optical systems associated with the respective primary electro-optical systems. The primary electro-optical systems are for irradiating multiple primary electron beams on a surface of the sample, and each includes an electron gun having an anode and an objective lens. The secondary electro-optical systems are for inducing secondary electrons emitted from a surface of the sample by irradiation of the primary electron beams. Detectors are each for detecting the secondary electrons and generating electric signals corresponding to the detected electrons. The anodes of the electron guns of the primary electro-optical systems comprise an anode substrate in common having multiple holes corresponding to the axes of the respective primary electro-optical systems. The anode substrate has metal coatings around the respective holes.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES94870734">
<div class="description-paragraph" id="p-0002" num="0001">The present application is a continuation application of U.S. Ser. No. 13/600,814, the entirety of which is hereby incorporated by reference. U.S. Ser. No. 13/600,814 is a divisional application of U.S. Ser. No. 12/226,683, the entirety of which is hereby incorporated by reference. U.S. P.G.Pubs. 2013/0056635 and 2010/0282956 are also hereby incorporated by reference in their entirety.</div>
<heading id="h-0001">TECHNICAL FIELD</heading>
<div class="description-paragraph" id="p-0003" num="0002">The present invention relates to a sample pattern inspection apparatus and method, and in particular, XY coordinate compensation apparatus and method for compensating a position error of a stage coordinate in an apparatus which uses an electron beam(s) to detect a defect(s) or the like of a device pattern with a minimum line width of 0.1 μm or less on a surface of a sample such as a stencil mask or wafer, to realize high accuracy and high reliability detection.</div>
<heading id="h-0002">BACKGROUND ART</heading>
<div class="description-paragraph" id="p-0004" num="0003">A sample pattern inspection apparatus is adapted to illuminate an electron beam(s) on a sample to be inspected such as a wafer to generate electrons having information relating to a device pattern formed on the sample surface, make an image of the device pattern from the generated electrons, and inspect the obtained image on the basis of a predetermined inspection program. High accurate information on the device pattern of the sample surface is necessary to increase reliability of the inspection result.</div>
<div class="description-paragraph" id="p-0005" num="0004">However, such a sample pattern inspection apparatus according to a prior art has the following problems.</div>
<div class="description-paragraph" id="p-0006" num="0005">A stage for loading a sample and moving in X- and Y-directions which are orthogonal to each other, has stage guides for guiding the stage in the X- and Y-directions, respectively. Since the stage guides sometimes have distortion and are not accurately orthogonal to each other, the stage cannot always move through ideal moving paths. Further, a moving velocity of the stage is not always constant during continuous moving. In addition, when a sample is loaded on the stage, the XY coordinate of the sample does not always coincide with the XY coordinate of the stage, resulting in that an error in a rotational direction occurs. In such a case, dies are fabricated on positions which are different from designed positions, during a lithography procedure.</div>
<div class="description-paragraph" id="p-0007" num="0006">According to the above problems, the sample pattern inspection apparatus cannot always provide accurate results.</div>
<div class="description-paragraph" id="p-0008" num="0007">When the position errors as above are not compensated, an obtained image may be shifted from an ideal position by ±2 pixels or more, for instance. If the image is shifted from the ideal position by ±2 pixels in both X- and Y-directions, 49 (=7×7) image pieces for comparison are required to ensure accuracy of the inspection result. Therefore, since it is necessary to increase the number of memories and comparison circuits which are provided for inspection, a defect inspection speed is lower than an image capturing speed and hence defect inspection with a high throughput cannot be carried out.</div>
<div class="description-paragraph" id="p-0009" num="0008">The applicant of the subject application has provided a sample defect inspection apparatus as described in the following patent application official gazette. To inspect patterns of dies which are digestedly arranged on the X-Y plane of the sample, the inspection apparatus is adapted to generate a grid with constant intervals along the X- and Y-axes of an ideal X-Y coordinate on which dies are virtually arranged; obtain actual position coordinate of the respective dies; calculate position errors or displacements between the position of the constant interval grid and the actual position; and compensate the position coordinates of the respective dies on the basis of the position errors so that the dies are arranged along the constant interval grid.</div>
<div class="description-paragraph" id="p-0010" num="0009">In the compensation of the position coordinate, a compensation XY map is prepared in which the position errors obtained correspondingly to the position coordinates of the constant interval grid, are stored, and in response to a position error stored in the compensation XY map, a voltage which is applied to a compensation electrode located at a front stage of a MCP for instance, is adjusted, so that the electron beam is polarized to match a die position on the wafer to an image position on the MCP.</div>
<div class="description-paragraph" id="h-0003" num="0000">Prior Art Document 1:</div>
<div class="description-paragraph" id="p-0011" num="0010">Japanese Patent Application Public Disclosure No. 2000-91342</div>
<div class="description-paragraph" id="p-0012" num="0011">However, in some cases, the compensation (in the prior art document that the voltage to be supplied to the compensation electrode, is adjusted in response to the position error information in the compensation XY map) is not satisfactory. For instance, in general, static compensation of ±20 μm or more is required, while a polarization dynamic range by a compensation electrode is around ±20 μm, which may not cover the required range.</div>
<div class="description-paragraph" id="p-0013" num="0012">Further, in the prior compensation, positions of a plurality of points on a wafer are measured, and position errors of the points are obtained, while position errors of points other than the measured points are obtained using an interpolation method. However, the position measurements of the points are not always accurate. Therefore, if a position error of a measured point is abnormal, the results of the interpolation are irrelevant because of the abnormal position error.</div>
<div class="description-paragraph" id="p-0014" num="0013">The invention has been made in view of the above problems. It is an object of the invention to provide an electron beam apparatus for inspecting sample patterns, which is capable of reducing problems which are caused by stage guide distortion, orthogonal errors of the stage guide and so on, and inspecting with a high accurate and high throughput even if a stage is not located at a predetermined position, dies on a wafer are not located in line with theoretical ideal coordinate and/or a moving speed is not constant.</div>
<heading id="h-0004">SUMMARY OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0015" num="0014">To achieve the above object, the present invention provides an electron beam apparatus for inspecting a pattern on a sample using an electron beam which comprises:</div>
<div class="description-paragraph" id="p-0016" num="0015">first processing means for calculating a coordinate error (Δx,Δy) of a measured XY coordinate (x,y) of each of arbitrary reference points on the sample from a calculated ideal position XY coordinate of the reference point;</div>
<div class="description-paragraph" id="p-0017" num="0016">second processing means for calculating an orthogonal error of the XY coordinates based on the calculated coordinate errors;</div>
<div class="description-paragraph" id="p-0018" num="0017">third processing means for calculating an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors;</div>
<div class="description-paragraph" id="p-0019" num="0018">orthogonal error correcting means for compensating the measured XY coordinates (x,y) on the basis of the calculated orthogonal error upon inspecting the sample; and</div>
<div class="description-paragraph" id="p-0020" num="0019">beam deflection correcting means for compensating deflection by a beam deflector disposed in a second electro-optical system on the basis of the calculated mirror distortion error upon inspecting the sample.</div>
<div class="description-paragraph" id="p-0021" num="0020">In the electron beam apparatus, it is preferable that the second and third processing means comprise recursive processing means for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing:
<br/>
Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
<br/>
Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2)
</div>
<div class="description-paragraph" id="p-0022" num="0021">the second processing means further comprises means for calculating the orthogonal error of the XY coordinate system as a difference between the obtained coefficients c<b>1</b> and b<b>2</b>; and</div>
<div class="description-paragraph" id="p-0023" num="0022">the third processing means further comprises means for calculating the coordinate error (Δx,Δy) as the mirror distortion error, by substituting a XY coordinate (x,y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, d<sub>2</sub>, e<sub>1 </sub>and e<sub>2 </sub>into the following Equations (3) and (4):
<br/>
Δ<i>x=d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
<br/>
Δ<i>y=d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4)
</div>
<div class="description-paragraph" id="p-0024" num="0023">The third processing means may comprise; recursive processing means for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy Equations (1) and (2) through recursive processing, on the basis of the coordinate error (Δx,Δy) obtained by the first processing means after the orthogonal error has been corrected by the orthogonal error correcting means; and means for calculating the coordinate error (Δx,Δy) as the mirror distortion error, by substituting a XY coordinate (x,y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>into Equations (1) and (2).</div>
<div class="description-paragraph" id="p-0025" num="0024">In the above electron beam apparatus, it is preferable that:
</div> <ul> <li id="ul0001-0001" num="0000"> <ul> <li id="ul0002-0001" num="0025">the second processing means comprises:
        <ul> <li id="ul0003-0001" num="0026">recursive processing means for obtaining coefficients a<sub>1</sub>˜c<sub>1 </sub>and a<sub>2</sub>˜c<sub>2 </sub>which satisfy the following Equations (5) and (6), through recursive processing:
<br/>
Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (5)
<br/>
Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (6), and
</li> <li id="ul0003-0002" num="0027">means for calculating the orthogonal error of the XY coordinate system as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>; and</li> </ul>
</li> <li id="ul0002-0002" num="0028">the third processing means comprises:
        <ul> <li id="ul0004-0001" num="0029">recursive processing means for obtaining coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>which satisfy the following Equations (3) and (4), through recursive processing:
<br/>
Δ<i>x=d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
<br/>
Δ<i>y=d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4), and
</li> <li id="ul0004-0002" num="0030">means for calculating the coordinate error (Δx,Δy) as the mirror distortion error, by substituting a XY coordinate (x,y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>into Equations (3) and (4).</li> </ul>
</li> </ul> </li> </ul>
<div class="description-paragraph" id="p-0026" num="0031">The third processing means may comprise:</div>
<div class="description-paragraph" id="p-0027" num="0032">recursive processing means for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing, on the basis of the coordinate error (Δx,Δy) obtained by the first processing means after the orthogonal error has been corrected by the orthogonal error correcting means:
<br/>
Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
<br/>
Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2), and
</div>
<div class="description-paragraph" id="p-0028" num="0033">means for calculating the coordinate error (Δx,Δy) as the mirror distortion error, by substituting a XY coordinate (x,y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>into Equations (1) and (2).</div>
<div class="description-paragraph" id="p-0029" num="0034">The electron beam apparatus of the invention may further comprises: means for compensating shift amounts in the X-axis direction and Y-axis direction by the coefficients a<sub>1 </sub>and a<sub>2 </sub>obtained by the recursive processing means; and means for compensating scale errors in the X-axis direction and Y-axis direction by the coefficients b<sub>1 </sub>and c<sub>2 </sub>obtained by the recursive processing means.</div>
<div class="description-paragraph" id="p-0030" num="0035">It is preferable that the beam deflector comprises a deflection electrode; and the beam deflection compensation means is adapted to adjust a voltage to the deflection electrode. In addition, it is preferable that the electron beam apparatus of the invention further comprises: means for detecting a secondary electron beam emitted from the sample by the irradiation of a primary electron beam; means for capturing image information on the pattern on the sample surface on the basis of the output of the detecting means; and means for detecting a defect of the pattern by comparing the captured image information with image information on the same pattern at different positions on the same sample, or with image information on a reference pattern previously stored for comparison.</div>
<div class="description-paragraph" id="p-0031" num="0036">The present invention further provides a method of compensating an error regarding a stage position in an electron beam apparatus for inspecting a pattern on a sample using an electron beam, and a computer program read and executed by a computer to execute the stage position error correcting method.</div>
<description-of-drawings>
<heading id="h-0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<div class="description-paragraph" id="p-0032" num="0037"> <figref idrefs="DRAWINGS">FIG. 1</figref> is an elevation view illustrating major components of a sample inspection system;</div>
<div class="description-paragraph" id="p-0033" num="0038"> <figref idrefs="DRAWINGS">FIG. 2</figref> is a plan view illustrating major components of the sample inspection system;</div>
<div class="description-paragraph" id="p-0034" num="0039"> <figref idrefs="DRAWINGS">FIG. 3</figref> illustrates a mini environment device of the sample inspection system;</div>
<div class="description-paragraph" id="p-0035" num="0040"> <figref idrefs="DRAWINGS">FIG. 4</figref> illustrates a loader housing of the sample inspection system;</div>
<div class="description-paragraph" id="p-0036" num="0041"> <figref idrefs="DRAWINGS">FIG. 5</figref> illustrates a potential supply mechanism of the sample inspection system;</div>
<div class="description-paragraph" id="p-0037" num="0042"> <figref idrefs="DRAWINGS">FIG. 6</figref> illustrates an electron beam calibration mechanism of the sample inspection system in <figref idrefs="DRAWINGS">FIG. 1</figref>;</div>
<div class="description-paragraph" id="p-0038" num="0043"> <figref idrefs="DRAWINGS">FIG. 7</figref> schematically illustrates a first embodiment of an electron beam apparatus using a multi-beam system according to the invention;</div>
<div class="description-paragraph" id="p-0039" num="0044"> <figref idrefs="DRAWINGS">FIG. 8</figref> is an enlarged diagram of a multi-anode of the electron beam apparatus shown in <figref idrefs="DRAWINGS">FIG. 7</figref>;</div>
<div class="description-paragraph" id="p-0040" num="0045"> <figref idrefs="DRAWINGS">FIG. 9</figref> schematically illustrates a second embodiment of an electron beam apparatus using a single beam system according to the invention;</div>
<div class="description-paragraph" id="p-0041" num="0046"> <figref idrefs="DRAWINGS">FIG. 10</figref> is a block diagram illustrating an XY coordinate compensation system according to the invention;</div>
<div class="description-paragraph" id="p-0042" num="0047"> <figref idrefs="DRAWINGS">FIGS. 11A and 11B</figref> are diagrams for explaining a method of compensating an orthogonal error of an XY coordinate, which is executed in the XY coordinate compensation system illustrated in <figref idrefs="DRAWINGS">FIG. 10</figref>;</div>
<div class="description-paragraph" id="p-0043" num="0048"> <figref idrefs="DRAWINGS">FIGS. 12A-12C</figref> are diagrams illustrating vectors of errors, in which <figref idrefs="DRAWINGS">FIG. 12A</figref> is associated with a case that no compensation is executed, <figref idrefs="DRAWINGS">FIG. 12B</figref> is associated with the case that only Level <b>1</b> compensation is executed, and <figref idrefs="DRAWINGS">FIG. 12C</figref> is associated with a case that Level <b>2</b> compensation is executed;</div>
<div class="description-paragraph" id="p-0044" num="0049"> <figref idrefs="DRAWINGS">FIGS. 13A and 13B</figref> are diagrams for explaining wafer inspection by the electron beam apparatus, in which <figref idrefs="DRAWINGS">FIG. 13A and 13B</figref> schematically illustrate a whole wafer and an enlarged portion of a die on the wafer;</div>
<div class="description-paragraph" id="p-0045" num="0050"> <figref idrefs="DRAWINGS">FIG. 14</figref> schematically illustrates a third embodiment of an electron beam using an image projection system according to the invention;</div>
<div class="description-paragraph" id="p-0046" num="0051"> <figref idrefs="DRAWINGS">FIGS. 15A-15C</figref> are diagrams in which <figref idrefs="DRAWINGS">FIG. 15A</figref> illustrates a fourth embodiment of an electron beam apparatus using a multi-beam system with multi optical axes, <figref idrefs="DRAWINGS">FIG. 15B</figref> illustrates a plan view of amplification lenses of the embodiment, and <figref idrefs="DRAWINGS">FIG. 15C</figref> illustrates a plan view of anodes of the embodiment;</div>
<div class="description-paragraph" id="p-0047" num="0052"> <figref idrefs="DRAWINGS">FIG. 16</figref> shows a fifth embodiment of an electron beam apparatus according to the invention, in a case that a sample is transparent with regard to an electron beam;</div>
<div class="description-paragraph" id="p-0048" num="0053"> <figref idrefs="DRAWINGS">FIG. 17</figref> shows a sixth embodiment of an electron beam apparatus according to the invention, in a case that a sample is not transparent with regard to an electron beam;</div>
<div class="description-paragraph" id="p-0049" num="0054"> <figref idrefs="DRAWINGS">FIGS. 18A-18D</figref> are diagrams for explaining operations of the electron beam apparatus in <figref idrefs="DRAWINGS">FIG. 17</figref>;</div>
<div class="description-paragraph" id="p-0050" num="0055"> <figref idrefs="DRAWINGS">FIG. 19</figref> is a flowchart showing an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0051" num="0056"> <figref idrefs="DRAWINGS">FIG. 20</figref> is a flowchart showing a basic inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0052" num="0057"> <figref idrefs="DRAWINGS">FIG. 21</figref> is a diagram illustrating dies which are set as inspection dies;</div>
<div class="description-paragraph" id="p-0053" num="0058"> <figref idrefs="DRAWINGS">FIG. 22</figref> is a diagram illustrating inspection areas of a die;</div>
<div class="description-paragraph" id="p-0054" num="0059"> <figref idrefs="DRAWINGS">FIG. 23</figref> shows diagrams for explaining an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0055" num="0060"> <figref idrefs="DRAWINGS">FIGS. 24A and 24B</figref> are diagrams for explaining an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0056" num="0061"> <figref idrefs="DRAWINGS">FIG. 25</figref> is a diagram for explaining a scanning method of a die to be inspected in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0057" num="0062"> <figref idrefs="DRAWINGS">FIG. 26</figref> shows diagrams for explaining a reference image generation method in an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0058" num="0063"> <figref idrefs="DRAWINGS">FIG. 27</figref> shows diagrams for explaining an adjacent-die comparison method in an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0059" num="0064"> <figref idrefs="DRAWINGS">FIG. 28</figref> shows a diagram for explaining a system in which an adjacent-die comparison method in an inspection procedure in a semiconductor device manufacturing method, is executed;</div>
<div class="description-paragraph" id="p-0060" num="0065"> <figref idrefs="DRAWINGS">FIG. 29</figref> shows a diagram for explaining a reference-die comparison method in an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0061" num="0066"> <figref idrefs="DRAWINGS">FIG. 30</figref> shows diagrams for explaining a reference-die comparison method in an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0062" num="0067"> <figref idrefs="DRAWINGS">FIG. 31</figref> is a flowchart for explaining a reference-die comparison method in an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0063" num="0068"> <figref idrefs="DRAWINGS">FIG. 32</figref> is a flowchart for explaining a focus mapping in an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0064" num="0069"> <figref idrefs="DRAWINGS">FIG. 33</figref> is a diagram for explaining a focus mapping in an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0065" num="0070"> <figref idrefs="DRAWINGS">FIG. 34</figref> is a diagram for explaining a focus mapping in an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0066" num="0071"> <figref idrefs="DRAWINGS">FIG. 35</figref> shows diagrams for explaining a focus mapping in an inspection procedure in a semiconductor device manufacturing method;</div>
<div class="description-paragraph" id="p-0067" num="0072"> <figref idrefs="DRAWINGS">FIGS. 36A-36C</figref> show diagrams for explaining a focus mapping in an inspection procedure in a semiconductor device manufacturing method; and</div>
<div class="description-paragraph" id="p-0068" num="0073"> <figref idrefs="DRAWINGS">FIG. 37</figref> shows a manufacturing line to which an electron beam apparatus according to the invention is coupled.</div>
</description-of-drawings>
<heading id="h-0006">BEST MODES OF EMBODIMENTS OF THE INVENTION</heading>
<div class="description-paragraph" id="p-0069" num="0074">Before describing preferred embodiments of a sample pattern inspection apparatus and inspection method according to the present invention, description will be made on the whole inspection system for inspecting a substrate or wafer on which patterns are fabricated, with reference to <figref idrefs="DRAWINGS">FIGS. 1-5</figref>. In the inspection system, the sample pattern inspection method is carried on.</div>
<div class="description-paragraph" id="p-0070" num="0075">As illustrated in <figref idrefs="DRAWINGS">FIGS. 1 and 2</figref>, the inspection system <b>1</b> comprises the following main components:
</div> <ul> <li id="ul0005-0001" num="0000"> <ul> <li id="ul0006-0001" num="0076">a cassette holder <b>10</b> for holding a cassette containing a plurality of wafers “W”;</li> <li id="ul0006-0002" num="0077">a mini-environment unit <b>20</b>;</li> <li id="ul0006-0003" num="0078">a main housing <b>30</b> defining a working chamber <b>31</b>;</li> <li id="ul0006-0004" num="0079">a loader housing <b>40</b> located between the mini-environment unit <b>20</b> and the main housing <b>30</b> and defining two loading chambers;</li> <li id="ul0006-0005" num="0080">a loader <b>60</b> for picking up the wafer W from the cassette holder <b>10</b> and loading it on a stage device <b>50</b> located within the main housing <b>30</b>; and</li> <li id="ul0006-0006" num="0081">an electron optical device <b>70</b> in a vacuum housing.</li> <li id="ul0006-0007" num="0082">All of these components are arranged in such a physical relationship as depicted in <figref idrefs="DRAWINGS">FIGS. 1 and 2</figref>.</li> </ul> </li> </ul>
<div class="description-paragraph" id="p-0071" num="0083">The inspection system <b>1</b> further comprises a pre-charging unit <b>81</b> located within the main chamber <b>30</b> which is under a vacuum condition; a potential application mechanism <b>83</b> for applying a potential to the wafer W (see <figref idrefs="DRAWINGS">FIG. 5</figref>); an electron beam calibration mechanism <b>87</b> (see <figref idrefs="DRAWINGS">FIG. 8</figref>); and an optical microscope <b>871</b> constituting an alignment controller for positioning the wafer W on the stage device <b>50</b>.</div>
<div class="description-paragraph" id="p-0072" num="0084">The cassette holder <b>10</b> is designed to hold a plurality (two pieces in this embodiment) of cassettes “c” (e.g., a closed cassette, such as FOUP manufactured by Assist Inc.), each containing a plurality (e.g., 25 pieces) of wafers W placed side by side in parallel with each other along the up and down direction. This cassette holder <b>10</b> may employ a suitable structure depending on the specific cases selectively such that for a case where the cassette is transferred by a robot or the like and loaded onto the cassette holder <b>10</b> automatically, a specific suitable structure therefor may be employed and that for a case where the loading operation is manually loaded, an open cassette structure suitable for such manually loading may be employed.</div>
<div class="description-paragraph" id="p-0073" num="0085">In this embodiment, the cassette holder <b>10</b> has a system for automatically loading the cassette c, and comprises, for example, an lifting table <b>11</b> and an lifting mechanism <b>12</b> for moving up and down the lifting table <b>11</b>, wherein the cassette c is set on the lifting table <b>11</b> automatically in a state illustrated by the chain line in <figref idrefs="DRAWINGS">FIG. 2</figref>, and after having been set, the cassette c is rotated automatically into an orientation illustrated by the solid line in <figref idrefs="DRAWINGS">FIG. 2</figref> for heading to an axial line of rotational movement of a first transport unit (as will be described later) within the mini-environment unit <b>20</b>, and then the lifting table <b>11</b> is lowered down to the position indicated by the chain line in <figref idrefs="DRAWINGS">FIG. 1</figref>. The cassette holder used in the case of the automatic loading or the cassette holder used in the case of the manual loading may appropriately employ any known structures, and detailed description of its structure and function should be herein omitted.</div>
<div class="description-paragraph" id="p-0074" num="0086">The wafers W contained in the cassette c are those subject to the inspection, and such an inspection may be carried out after or in the course of a process for processing the wafer in the series of processes for manufacturing the semiconductor. Specifically, those wafers that have experienced the film-depositing step, the CMP step, the ion implantation step and the like, or those wafers that have been or have not been patterned on the surfaces thereof may be accommodated in the cassette. A plurality of those wafers W are accommodated in the cassette c so as to be spaced in parallel with each other along the up and down direction. For this reason, an arm of the first transport unit (as will be described later) is adapted to move up and down so that the wafer W in a desired position can be held by the first transport unit.</div>
<div class="description-paragraph" id="p-0075" num="0087">In <figref idrefs="DRAWINGS">FIGS. 1-3</figref>, the mini-environment unit <b>20</b> comprises: a housing <b>22</b> defining a mini-environment space <b>21</b> of which atmosphere may be controlled; a gas circulator <b>23</b> for providing the atmosphere control by circulating a gas such as a clean air within the mini-environment space <b>21</b>; an exhausting device <b>24</b> for recovering and then exhausting a portion of the air supplied into the mini-environment space <b>21</b>; and a pre-aligner <b>25</b> arranged within the mini-environment space <b>21</b> for providing a coarse alignment of the wafer W subject to the inspection.</div>
<div class="description-paragraph" id="p-0076" num="0088">The housing <b>22</b> comprises a top wall <b>221</b>, a bottom wall <b>222</b> and circumferential walls <b>223</b> surrounding four circumferential portions so as to provide a structure to separate the mini-environment space <b>21</b> from an external environment. In order to provide the atmosphere control of the mini-environment space <b>21</b>, the gas circulator <b>23</b> comprises, as shown in <figref idrefs="DRAWINGS">FIG. 3</figref>, a gas supply unit <b>231</b> which is attached to the top wall <b>221</b> within the mini-environment space <b>21</b> for cleaning the air and then directing a laminar flow of thus cleaned air right below through one or more gas blow-off openings (not shown); a recovery duct <b>232</b> located on the bottom wall <b>222</b> within the mini-environment space <b>21</b> for recovering the air that has flown down toward the bottom; and a conduit <b>233</b> interconnecting the recovery duct <b>232</b> and the gas supply unit <b>231</b> for returning the recovered air back to the gas supply unit <b>231</b>.</div>
<div class="description-paragraph" id="p-0077" num="0089">The laminar flow of the clean air directed downward, or the down flow, is supplied such that it can flow mainly through a conveying surface of the first transport unit <b>61</b> located within the mini-environment space <b>21</b> to thereby prevent any dust which could be produced by the transport unit <b>61</b> from adhering to the wafer W. An access port <b>225</b> is formed in a location of the circumferential wall <b>223</b> of the housing <b>22</b> adjacent to the cassette holder <b>10</b>.</div>
<div class="description-paragraph" id="p-0078" num="0090">As shown in <figref idrefs="DRAWINGS">FIG. 3</figref>, the exhausting device <b>24</b> comprises: a suction duct <b>241</b> disposed in a location lower than the wafer conveying surface of said transport unit <b>61</b> and in the lower portion of the transport unit; a blower <b>242</b> disposed external to the housing <b>22</b>; and a conduit <b>243</b> for interconnecting the suction duct <b>241</b> and the blower <b>242</b>. This exhausting device <b>24</b> sucks the gas flowing down along the circumference of the transport unit and containing the dust which could be produced by the transport unit, through the suction duct <b>241</b>, and exhausts that air to the outside of the housing <b>22</b> via the conduits <b>243</b> and the blower <b>242</b>.</div>
<div class="description-paragraph" id="p-0079" num="0091">The pre-aligner <b>25</b> disposed within the mini-environment space <b>21</b> is designed to detect optically or mechanically an orientation-flat formed in the wafer W (referred to a flat portion formed in an outer periphery of a circular wafer) or one or more V-shaped cut-out or notch formed in an outer peripheral edge of the wafer W, and to provide in advance an alignment of the wafer W in the rotational direction around the axis line O<sub>1</sub>-O<sub>1 </sub>of the transfer unit <b>61</b> within an accuracy of ±1 degree. The pre-aligner <b>25</b> is a constitutional part of a mechanism for determining a coordinate of a subject to be inspected, and takes a role in providing a coarse alignment of the subject to be inspected. Since the pre-aligner <b>25</b> may be of any known structure, description of its structure and function should be omitted.</div>
<div class="description-paragraph" id="p-0080" num="0092">In <figref idrefs="DRAWINGS">FIG. 1</figref> and <figref idrefs="DRAWINGS">FIG. 2</figref>, the main housing <b>30</b> defining the working chamber <b>31</b> comprises a housing main body <b>32</b>. The housing main body <b>32</b> is supported by a housing supporting device <b>33</b> loaded on a vibration insulating device or a vibration isolating device <b>37</b> located on a table frame <b>36</b> and the housing supporting device <b>33</b> comprises a frame structure <b>331</b> assembled into a rectangular shape. Thus, the housing main body <b>32</b> is disposed and mounted securely onto the frame structure <b>331</b>. The housing main body <b>32</b> comprises a bottom wall <b>321</b> loaded on the frame structure <b>331</b>, a top wall <b>322</b> and circumferential walls <b>323</b> connected to both of the bottom wall <b>321</b> and the top wall <b>322</b> to surround four circumferential portions, thereby isolating the working chamber <b>31</b> from the outside.</div>
<div class="description-paragraph" id="p-0081" num="0093">The housing main body <b>32</b> and the housing supporting device <b>33</b> is assembled in a rigid structure, wherein the vibration isolating device <b>37</b> prevents the vibration from the floor on which the table frame <b>36</b> is installed from being transmitted to this rigid structure. An access port <b>325</b> for taking in and out the wafer is formed in one circumferential wall among those circumferential walls <b>323</b> of the housing main body <b>32</b>, which is adjacent to a loader housing <b>40</b>.</div>
<div class="description-paragraph" id="p-0082" num="0094">The working chamber <b>31</b> is designed to be held in a vacuum atmosphere by a vacuum device (not shown) having a known structure. A controller <b>2</b> for controlling an overall operation of the apparatus is located under the table frame <b>36</b>. The working chamber <b>31</b> is typically held under a pressure in a range of 10<sup>−4 </sup>to 10<sup>−6 </sup>Pa.</div>
<div class="description-paragraph" id="p-0083" num="0095">Referring to <figref idrefs="DRAWINGS">FIGS. 1</figref>, <b>2</b> and <b>4</b>, the loader housing <b>40</b> comprises a housing main body <b>43</b> defining a first loading chamber <b>41</b> and a second loading chamber <b>42</b>. The housing main body <b>43</b> comprises a bottom wall <b>431</b>, a top wall <b>432</b>, circumferential walls <b>433</b> surrounding four circumferential portions and a partition wall <b>434</b> for separating the first loading chamber <b>41</b> and the second loading chamber <b>42</b>, so that both loading chambers <b>41</b> and <b>42</b> may be isolated from the external environment. An access port <b>435</b> is formed in the partition wall <b>434</b> for passing the wafer W between two loading chambers <b>41</b> and <b>42</b>. Further, access ports <b>436</b> and <b>437</b> are formed in locations of the circumferential walls <b>433</b> adjacent to the mini-environment unit <b>20</b> and the main housing <b>30</b>, respectively.</div>
<div class="description-paragraph" id="p-0084" num="0096">As shown in <figref idrefs="DRAWINGS">FIG. 4</figref>, since the housing main body <b>43</b> of this loader housing <b>40</b> is mounted on and supported by the frame structure <b>331</b> of the housing supporting device <b>33</b>, this loader housing <b>40</b> is also designed to be protected from any vibrations otherwise transmitted from the floor. The access port <b>436</b> of the loader housing <b>40</b> and the access port <b>226</b> of the housing <b>22</b> of the mini-environment unit <b>20</b> are aligned and interconnected with each other, and in a connecting point therebetween a shutter system <b>27</b> is arranged so as to selectively block the communication between the mini-environment space <b>21</b> and the first loading chamber <b>41</b>.</div>
<div class="description-paragraph" id="p-0085" num="0097">The access port <b>437</b> of the loader housing <b>40</b> and the access port <b>325</b> of the housing main body <b>32</b> are aligned and interconnected with each other, and in a connecting point therebetween a shutter system <b>45</b> is arranged so as to selectively seal and block the communication between the second loading chamber <b>42</b> and the working chamber <b>31</b>. Further, the opening <b>435</b> formed in the partition wall <b>434</b> is provided with a shutter system <b>46</b> which selectively blocks the communication between the first and the second loading chambers <b>41</b> and <b>42</b> by closing or opening a door <b>461</b>. Those shutter systems <b>27</b>, <b>45</b> and <b>46</b> are designed to provide an airtight sealing to each loading chamber when they are in closed positions.</div>
<div class="description-paragraph" id="p-0086" num="0098">In the first loading chamber <b>41</b>, a wafer rack <b>47</b> is arranged, which holds a plurality, for example two pieces, of wafers W in a horizontal state to be spaced from each other in the up and down direction. The first and the second loading chambers <b>41</b> and <b>42</b> are adapted to have the atmosphere controlled to be high vacuum condition (in a range of 10<sup>−5 </sup>to 10<sup>−6 </sup>Pa as a vacuum level) by the aid of a well-known vacuum exhausting device (not shown) including vacuum pump, though not shown. In that case, the first loading chamber <b>41</b> may be held in a lower vacuum atmosphere as a low vacuum chamber, while the second loading chamber <b>42</b> may be held in a higher vacuum atmosphere as a high vacuum chamber, thereby providing an effective way to prevent the contamination of the wafer W. Employing such a configuration not only can help transfer the subsequent wafer W that is accommodated in the loading chamber and is to be subjected to a defect inspection into the working chamber <b>31</b> without delay, but also can help improve the throughput of the defect inspection and further help maintain the vacuum level in the surrounding of the electron beam source, which is required to be held in a high vacuum condition, at as high vacuum conditions as possible.</div>
<div class="description-paragraph" id="p-0087" num="0099">The first and the second loading chambers <b>41</b> and <b>42</b> are connected with a vacuum exhausting pipe (not shown) and a vent pipe (not shown) for an inactive gas (e.g., purified dry nitrogen), respectively. With this arrangement, injecting the inactive gas into each loading chamber can prevent an oxygen gas and the like other than the inactive gas from adhering to the surface of each chamber with the aid of the inactive gas vent.</div>
<div class="description-paragraph" id="p-0088" num="0100">It is to be noted that in a sample inspection apparatus using an electron beam according to the present invention, it is important that a substance represented by lanthanum hexaboride (LaB<sub>6</sub>) that can be used as an electron beam source of an electron optical device should not be brought into contact with oxygen as much as possible after it is heated up to such a high temperature where the thermal electron is emitted therefrom in order not to reduce a lifetime thereof. As it is, this can be ensured by applying the atmosphere control as described above to the working chamber <b>31</b> in which the electron optical device is installed, in a step prior to a transfer operation of the wafer W thereinto.</div>
<div class="description-paragraph" id="p-0089" num="0101">The stage device <b>50</b> comprises: a stationary table <b>51</b> located on the bottom wall <b>321</b> of the main housing <b>30</b>; a Y table <b>52</b> operatively mounted on the stationary table <b>51</b> to be capable of moving in the Y direction (the direction orthogonal to the sheet surface in <figref idrefs="DRAWINGS">FIG. 1</figref>); an X table <b>53</b> operatively mounted on the stationary table <b>51</b> to be capable of moving in the X direction (the left and right direction in <figref idrefs="DRAWINGS">FIG. 1</figref>); a turntable <b>54</b> capable of rotating on the X table <b>53</b>; and a holder <b>55</b> located on the turntable <b>54</b>. The wafer W is releasably loaded on a wafer loading surface <b>551</b> of the holder <b>55</b>. The holder <b>55</b> may have a known structure allowing for the wafer W to be releasably gripped in a mechanical manner or by an electrostatic chuck system.</div>
<div class="description-paragraph" id="p-0090" num="0102">The stage device <b>50</b> is adapted to provide a highly precise alignment of the wafer W held in the holder <b>55</b> on the loading surface <b>551</b> with respect to the electron beam irradiated from the electron optical device in the X direction, Y direction and Z direction (i.e., the up and down direction in <figref idrefs="DRAWINGS">FIG. 1</figref>) as well as in the rotational direction around the axial line orthogonal to the supporting surface of the wafer W (i.e., in the θ direction), by actuating the plurality of tables <b>51</b> to <b>54</b> described above using a servo motor, an encoder and a variety of sensors (not shown).</div>
<div class="description-paragraph" id="p-0091" num="0103">It is to be noted that the positioning of the wafer W in the Z direction may be achieved by, for example, making the position of the loading surface <b>551</b> on the holder <b>55</b> to be fine-tunable. In these operations, a reference position of the loading surface <b>551</b> is detected by a position measuring device employing laser having very fine diameter (laser interference range finder using a principle of interferometer) and said position is controlled by a feedback circuit (not shown) and in association with or instead of the above control, the position of the notch or the orientation-flat of the wafer is measured to detect a position within a plane and a rotational position of the wafer with respect to the electron beam, and the turntable is rotated by, for example, a stepping motor capable of fine angle controlling so as to control the position of the wafer. In order to prevent or minimize, any production of dust within the working chamber <b>31</b>, the servo motors <b>521</b> and <b>531</b> and the encoders <b>522</b> and <b>532</b> for the stage device <b>50</b> are disposed external to the main housing <b>30</b>. It is to be noted that the reference can be set for the signal obtained by inputting in advance the rotational position and/or the position in the X- and the Y-directions of the wafer W with respect to the electron beam to a signal detecting system or an image processing system, both of which will be described later.</div>
<div class="description-paragraph" id="p-0092" num="0104">The loader <b>60</b> comprises a first transport unit <b>61</b> of a robot system located within the housing <b>22</b> of the mini-environment unit <b>20</b> and a second transport unit <b>63</b> of a robot system located within the second loading chamber <b>42</b>. The first transport unit <b>61</b> has a multi-joint arm <b>612</b> capable of rotating around an axial line O<sub>1</sub>-O<sub>1 </sub>with respect to a driving section <b>611</b>. The multi-joint arm may employ any arbitrary structure, and in the illustrated embodiment, the arm <b>612</b> includes three parts operatively joined so as to be movable rotationally with respect to each other. A first part of the arm <b>612</b> of the first transport unit <b>61</b>, which is one of the three parts located in the closest position to the driving section <b>611</b>, is attached to a shaft <b>613</b> which may be driven to rotate by a driving mechanism of known structure (not shown) arranged in the driving section <b>611</b>. The arm <b>612</b> can rotate around the axial line O<sub>1</sub>-O<sub>1 </sub>with the aid of the shaft <b>613</b>, while it can be extended or contracted in the radial direction with respect to the axial line O<sub>1</sub>-O<sub>1 </sub>as a whole unit by a relative rotation among the parts. A tip portion of a third part of the arm <b>612</b>, which is one of those parts located in the uppermost position, is provided with a gripping device <b>616</b> for gripping the wafer W, which is implemented by a mechanical, electrostatic or other type chuck of known structure. The driving section <b>611</b> is allowed to move in the up and down direction by an lifting mechanism <b>615</b>.</div>
<div class="description-paragraph" id="p-0093" num="0105">In operation, the arm <b>612</b> of the first transport unit <b>61</b> is extended toward either one of the directions for M<b>1</b> and for M<b>2</b> between those for two cassettes c held in the cassette holder, and one piece of wafer W accommodated in the cassette c is placed onto the arm or gripped by the chuck (not shown) attached to the tip portion of the arm <b>612</b>, so as to be taken out of it. After that, the arm <b>612</b> is contracted into the state shown in <figref idrefs="DRAWINGS">FIG. 2</figref>, and then is rotated to and stopped at a position from which it can be extended toward the direction M<b>3</b> for the pre-aligner <b>25</b>. As it is, the arm is again extended so as to place the wafer W held by the arm <b>612</b> onto the pre-aligner <b>25</b>. The arm <b>612</b>, after the pre-aligner <b>25</b> having applied a fine-tuning of the orientation of the wafer W, receives the wafer W from the pre-aligner <b>25</b> and then the arm <b>612</b> is further rotated to and stopped at a position in which the arm is allowed to be extended toward the first loading chamber <b>41</b> in the direction M<b>4</b>, where it is extended so as to hand over the wafer W to a wafer receiver <b>47</b> within the first loading chamber <b>41</b>.</div>
<div class="description-paragraph" id="p-0094" num="0106">It is to be noted that in a case of gripping the wafer W mechanically, preferably a circumferential edge region defined by a range within about 5 mm from the circumferential edge of the wafer W should be gripped. This is because the wafer W is in its inner surface entirely patterned with devices such as circuit wirings only excluding the circumferential edge region, and accordingly gripping of the wafer W in that patterned region could cause a breakage of the device and a defect therein.</div>
<div class="description-paragraph" id="p-0095" num="0107">The second transport unit <b>63</b> has basically the same structure as the first transport unit <b>61</b>, but it is operable so that the transfer operation of the wafer W is performed between the wafer rack <b>47</b> and the loading surface <b>551</b> of the stage device <b>50</b>.</div>
<div class="description-paragraph" id="p-0096" num="0108">In the loader <b>60</b>, the first and the second transport units <b>61</b> and <b>63</b> carry out the transfer operation of the wafer W as it is held in the horizontal state from the cassette c held by the cassette holder <b>10</b> onto the stage device <b>50</b> located within the working chamber <b>31</b> and vice versa. The up and down motions of the arms <b>612</b> and <b>632</b> of the transport units <b>61</b> and <b>63</b> are limited only to the steps where the wafer W is taken out of or inserted into the cassette c, where the wafer W is placed on or taken out of the wafer rack <b>47</b>, and where the wafer W is placed on or taken out of the stage device <b>50</b>. Therefore, even the transfer of such a large wafer W having a 30 cm diameter, for example, can be carried out smoothly.</div>
<div class="description-paragraph" id="p-0097" num="0109">The transfer operations of the wafer W from the cassette c carried by the cassette holder <b>10</b> onto the stage device <b>50</b> located in the working chamber <b>31</b> will now be described in order with reference to <figref idrefs="DRAWINGS">FIGS. 1 through 4</figref>. As for the cassette holder <b>10</b>, a suitable structure may be selectively employed therefor, as already set forth, depending on particular cases, including one for the manual setting of the cassette and another for the automatic setting of the cassette. Once the cassette c is set on the lifting table <b>11</b> of the cassette holder <b>10</b>, the lifting table <b>11</b> is lowered by the lifting mechanism <b>12</b> and the cassette c is aligned with the access port <b>225</b>.</div>
<div class="description-paragraph" id="p-0098" num="0110">When the cassette c is aligned with the access port <b>225</b>, the cover (not shown) arranged in the cassette c is opened, and at the same time, a cylindrical cover is disposed between the cassette c and the access port <b>225</b> so as to block the interior of the cassette c and the space inside of the mini-environment unit <b>21</b> from the external environment. It is to be noted that in the case where the shutter system for opening and closing the access port <b>225</b> is arranged in the mini-environment unit <b>20</b>, that shutter system should be actuated to open and close the access port <b>225</b>.</div>
<div class="description-paragraph" id="p-0099" num="0111">The arm <b>612</b> of the first transport unit <b>61</b> has been stopped as it is oriented to either of the direction M<b>1</b> or M<b>2</b>. Assuming that it has stopped as oriented to the direction of M<b>1</b>, when the access port <b>225</b> is opened, the arm <b>612</b> is extended through the access port <b>225</b> to receive one of the wafers W accommodated in the cassette c by its tip portion. Once the receiving operation of the wafer W by the arm <b>612</b> is completed, the arm <b>612</b> is contracted and, if said shutter system is installed, said shutter system is actuated to close the access port <b>225</b>. Then, the arm <b>612</b> is rotated around the axial line O<sub>1</sub>-O<sub>1 </sub>and stopped in a position allowing for the arm <b>612</b> to be extended toward the direction M<b>3</b>, where the arm <b>612</b> is extended and places the wafer W loaded on its tip portion or gripped by the chuck onto the pre-aligner <b>25</b>, which in turn determines the orientation of the rotational direction of the wafer W, or the direction around the central axis line orthogonal to the wafer plane, to be set within a specified range.</div>
<div class="description-paragraph" id="p-0100" num="0112">Once the alignment operation has been completed, the first transport unit <b>61</b>, after having received the wafer W from the pre-aligner <b>25</b> onto the tip portion of the arm <b>612</b>, contracts its arm <b>612</b> and takes a posture ready to extend the arm <b>612</b> toward the direction M<b>4</b>. Then, the door <b>272</b> of the shutter system <b>27</b> is moved to open the access ports <b>226</b> and <b>436</b>, so that the arm <b>612</b> is extended into the first loading chamber <b>42</b> and loads the wafer W into the upper step side or the lower step side of the wafer rack <b>47</b>. It is to be noted that, as described above, before the shutter system <b>27</b> goes into the open position to allow the wafer W to be transferred to the wafer rack <b>47</b>, the opening <b>435</b> defined in the partition wall <b>434</b> would have been closed to be airtight by the door <b>461</b> of the shutter system <b>46</b>.</div>
<div class="description-paragraph" id="p-0101" num="0113">In the course of transfer operation of the wafer W by the first transport unit <b>61</b>, clean air flows down in a laminar flow as the down flow from the gas supply unit <b>231</b> arranged in the upper side of the housing <b>22</b> of the mini-environment unit <b>20</b> so as to prevent the dust from adhering to the top surface of the wafer W during its transfer operation. A portion of the air in the surrounding of the transport unit <b>61</b> is sucked through the suction duct <b>241</b> of the exhausting device <b>24</b> and exhausted to the outside of the housing. This is because a portion of the air supplied from the supply unit <b>231</b>, for example, about 20% thereof, is mainly contaminated air. The remaining portion of the air is recovered via the recovery duct <b>232</b> disposed in the bottom of the housing <b>22</b> and returned back to the gas supply unit <b>231</b>.</div>
<div class="description-paragraph" id="p-0102" num="0114">Once the wafer W has been loaded in the wafer rack <b>47</b> within the first loading chamber <b>41</b> by the first transport unit <b>61</b>, the shutter system <b>27</b> is actuated into the closed position to close the loading chamber <b>41</b>. Subsequently, the first loading chamber <b>41</b> is filled with an inactive gas to purge the air, and after that said inactive gas is also exhausted to bring the interior of the loading chamber <b>41</b> into the vacuum atmosphere. The vacuum atmosphere of the first loading chamber <b>41</b> may be set at a low vacuum level.</div>
<div class="description-paragraph" id="p-0103" num="0115">Once a certain degree of vacuum has been obtained in the loading chamber <b>41</b>, the shutter system <b>46</b> is actuated to open the access port <b>435</b>, which has been closed to be airtight by the door <b>461</b>, and the arm <b>632</b> of the second transport unit <b>63</b> is then extended into the first loading chamber <b>41</b> and receives one piece of wafer W from the wafer receiver <b>47</b> by placing it on the tip portion of the arm <b>632</b> or by gripping it by the gripping device, such as a chuck, installed in the tip portion of the arm <b>632</b>. After the receiving operation of the wafer W having been completed, the arm <b>632</b> is contracted, and the shutter system <b>46</b> is again actuated to close the access port <b>435</b> by the door <b>461</b>.</div>
<div class="description-paragraph" id="p-0104" num="0116">It is to be noted that before the shutter system <b>46</b> is actuated into the open position, the arm <b>632</b> takes a posture ready to extend toward the direction N<b>1</b> for the wafer rack <b>47</b>, and further, the access ports <b>437</b> and <b>325</b> have been closed by the door <b>452</b> of the shutter system <b>45</b> to block the communication between the second loading chamber <b>42</b> and the working chamber <b>31</b> in the airtight condition. Once the access port <b>435</b> and the access ports <b>437</b> and <b>325</b> have been closed, the second loading chamber <b>42</b> is vacuum evacuated and ultimately brought into the vacuum at a higher vacuum level than that in the first loading chamber <b>42</b>.</div>
<div class="description-paragraph" id="p-0105" num="0117">During this vacuum evacuation of the second loading chamber <b>42</b>, the arm <b>632</b> of the second transport unit <b>63</b> is rotated to a position in which it is allowed to extend toward the stage device <b>50</b> in the working chamber <b>31</b>. On one hand, in the stage device <b>50</b> within the working chamber <b>31</b>, the Y table <b>52</b> is moved until the centerline X<sub>0</sub>-X<sub>0 </sub>of the X table <b>53</b> approximately comes into alignment with the X-axis line X<sub>1</sub>-X<sub>1 </sub>crossing the rotational axial line of the second transport unit <b>63</b>, while at the same time the X table <b>53</b> is moved to a position closest to the loader housing <b>40</b> and stands by in this state. When the second loading chamber <b>42</b> has been brought into the approximately same level of vacuum condition as the working chamber <b>31</b>, the door <b>452</b> of the shutter system <b>45</b> is actuated to open the access ports <b>437</b> and <b>325</b>, and the arm <b>632</b> is extended into the working chamber <b>31</b>, such that the tip portion of the arm <b>632</b> holding the wafer W comes near to the stage device <b>50</b> in the working chamber <b>31</b> and then places the wafer W on the loading surface <b>551</b> of the stage device <b>50</b>. When the loading operation of the wafer W has been completed, the arm <b>632</b> is contracted, and the shutter system <b>45</b> closes the access ports <b>437</b> and <b>325</b>.</div>
<div class="description-paragraph" id="p-0106" num="0118">The stage device <b>50</b> comprises a mechanism for applying an negative-bias potential (or a retarding potential) to the wafer W. This is a mechanism intended to avoid a failure such as discharging due to a short circuit by way of setting the arm <b>632</b> in a potential similar or proximal to the potential level of the stage device <b>50</b> or in a floating potential during the arm <b>632</b> going to the stage device <b>50</b> to pick up or to place the wafer W from or onto the stage device <b>50</b>. It is to be noted that during transferring of the wafer W onto the stage device <b>50</b>, the bias potential applied to the wafer W may be turned off.</div>
<div class="description-paragraph" id="p-0107" num="0119">In controlling of the bias potential, the potential may be turned off until the wafer is transferred to the stage and it may be turned on after the wafer has been transferred to and placed on the stage so as to apply the bias potential. The timing of the application of the bias potential may be controlled by a tact time that has been determined in advance to apply the bias potential, or otherwise by a sensor which detects that the wafer has been placed on the stage and transmits a detection signal as a trigger to apply the bias potential. Further, the closing operation of the access ports <b>437</b> and <b>325</b> by the shutter system <b>45</b> may be detected so as to use the detection signal as the trigger to apply the bias potential. Yet further, in case of using the electrostatic chuck, the chucking operation by the electrostatic chuck may be detected so as to use the detection signal as the trigger to apply the bias potential.</div>
<div class="description-paragraph" id="p-0108" num="0120"> <figref idrefs="DRAWINGS">FIG. 5</figref> shows a mechanism <b>83</b> installed in the stage device <b>50</b> to apply the negative-bias potential (retarding potential) to the wafer W. This potential application mechanism <b>83</b> is intended to control the generation of the secondary electrons by applying the potential in a range of ±some V to the platform <b>551</b> of the stage on which the wafer W is placed, based on the fact that the secondary electron data emanated from the wafer W (the generation rate of secondary electron) depends on the potential of the wafer W. Further, this potential application mechanism <b>83</b> also provides a function for decelerating the original energy of the irradiating electrons so as to irradiate the wafer W with the irradiating electron energy in a range of about 100 to 500 eV.</div>
<div class="description-paragraph" id="p-0109" num="0121">The potential application mechanism <b>83</b> comprises, as shown in <figref idrefs="DRAWINGS">FIG. 5</figref>, a voltage applying device <b>831</b> electrically connected to the loading surface <b>551</b> of the stage device <b>50</b>, and a charge-up check and voltage determination system (hereinafter, referred to as a check and determination system) <b>832</b>. The check and determination system <b>832</b> comprises a monitor <b>833</b> electrically connected to an image forming section <b>765</b> in a detecting system of the electron optical device <b>70</b>, which will be described later, an operator <b>834</b> connected to the monitor <b>833</b> and a CPU <b>835</b> connected to the operator <b>834</b>. The CPU <b>835</b> supplies a signal to the voltage applying device <b>831</b>. The potential application mechanism <b>83</b> is designed to look for a potential that is not likely to charge the wafer subject to the inspection and applies that potential.</div>
<div class="description-paragraph" id="p-0110" num="0122">One method for inspecting the wafer W for any electrical defects may take advantage of the fact that the voltage of the portion to be electrically insulated in a normal condition varies when it is brought into conducting state. This may be achieved by a procedure in which firstly, charges are added in advance to the wafer W to thereby produce a voltage difference between one portion which is to be electrically insulated in a normal condition and has been kept actually in the normal condition and the other portion which is to be electrically insulated in the normal condition but has been brought into the conducting state by some reasons; secondly, the data containing the voltage difference is obtained by irradiating the electron beam to these portions; and then the thus obtained data is analyzed to detect that the latter portion has been actually in the conducting state.</div>
<div class="description-paragraph" id="p-0111" num="0123">The operations during a process for transferring the wafer W in the cassette c onto the stage device have been described, and in the process for returning the wafer W, which has been placed on the stage <b>50</b> and finished with a predetermined processing, from the stage device <b>50</b> back into the cassette c, the operations as described above should be performed in the inverse sequence. Further, since the first transfer unit <b>61</b> can transfer the wafer W between the cassette c and the wafer rack <b>47</b> while the second transfer unit <b>63</b> is transferring another wafer W between the wafer rack <b>47</b> and the stage device <b>50</b> so as to keep the a plurality of wafers loaded in the wafer rack <b>47</b>, the inspection process can be progressed efficiently.</div>
<div class="description-paragraph" id="p-0112" num="0124">The pre-charge unit <b>81</b> is arranged within the working chamber <b>31</b> in a location adjacent to an optical column <b>71</b> of the electron optical device <b>70</b>, as shown in <figref idrefs="DRAWINGS">FIG. 1</figref>. The present inspection apparatus employs such a system in which a device pattern or the like formed in the surface of the wafer W is inspected by irradiating the electron beam and scanning thereby the wafer W as an object to be inspected. Accordingly, in operations, the data of the secondary electrons generated by the irradiation of the electron beam are collected as the data of the wafer surface, wherein depending on the material of the wafer, energy of the irradiated electrons and so on, the wafer surface may be occasionally charged, or charged-up. In this regard, the wafer surface may possibly have some regions that would be charged intensively and other regions that would be charged moderately. If the wafer surface is not evenly charged, then the secondary electron data should be uneven, inhibiting the acute data from being obtained. To prevent unevenness, the pre-charge unit <b>81</b> having a charged particle irradiating section <b>811</b> is provided. In order to eliminate the uneven charging, prior to the irradiation of the electrons for the inspection onto a predetermined location on the wafer W to be inspected, charged particles are irradiated from the charged particle irradiating section <b>811</b> of the pre-charge unit <b>81</b>. The charge-up of the wafer surface can be detected by forming in advance an image of the wafer surface to be detected and making an evaluation on said image, and based on the detection result, the pre-charge unit <b>82</b> may be actuated. In the pre-charge unit <b>81</b>, the primary electron beam may be irradiated in its out-of-focus condition.</div>
<div class="description-paragraph" id="p-0113" num="0125">The inspection system <b>1</b> shown in <figref idrefs="DRAWINGS">FIG. 1</figref> comprises an alignment controller <b>87</b>. This alignment controller <b>87</b> is implemented by an apparatus for aligning the wafer W with respect to the electron optical device <b>70</b> by using the stage device <b>50</b>, and it can provide the controls, as shown in <figref idrefs="DRAWINGS">FIG. 8</figref>, including a coarse aligning of the wafer W by a wide field observation of the wafer W using an optical microscope <b>871</b> in a lower magnification than that used in the electron optical device <b>70</b>, an aligning of the wafer W in a high magnification by using an electron optical system of the electron optical device <b>70</b>, a focal adjusting, an inspected region setting, a pattern alignment and the like. The reason the optical system is used to inspect the wafer W in the low magnification is that it is required in order to execute the inspection of the pattern of the wafer W automatically that the alignment mark should be detected easily by the electron beam when the pattern of the wafer W is observed by using the electron beam to thereby make a wafer alignment.</div>
<div class="description-paragraph" id="p-0114" num="0126">Preferably, the optical microscope <b>871</b> is operatively installed within the main housing <b>32</b> so as to be movable, and a light source (not shown) for actuating the optical microscope <b>871</b> is also disposed within the main housing <b>32</b>. The electron optical system for providing the observation in the high magnification may share the electron optical systems in the electron optical device <b>70</b>, or a primary optical system <b>701</b> and a secondary optical system <b>702</b>. To make an observation in the low magnification for the point subject to the observation on the wafer W, the X-stage <b>53</b> of the stage device <b>50</b> is moved in the X-direction to bring the point subject to the observation on the wafer into the field of view of the optical microscope <b>871</b>. The optical microscope <b>871</b> is used to look at the wafer W through a wide field of view, and the position on the wafer, which is to be observed, is indicated on a monitor <b>873</b> via a CCD <b>872</b>, based on which the point of observation can be determined approximately. In this case, the magnification of the optical microscope <b>871</b> may be progressively changed from low to high.</div>
<div class="description-paragraph" id="p-0115" num="0127">Then, the stage device <b>50</b> is moved by a distance corresponding to a spacing δx between an optical axis O<sub>3</sub>-O<sub>3 </sub>of the electron optical device <b>70</b> and an optical axis O<sub>4</sub>-O<sub>4 </sub>of the optical microscope <b>871</b> to thereby bring the point on the wafer W subject to the observation, which has been previously determined with the optical microscope <b>871</b>, into the position in the field of view of the electron optical device <b>70</b>. In this case, since the distance δx between the axial line O<sub>3</sub>-O<sub>3 </sub>of the electron optical device <b>70</b> and the optical axis O<sub>4</sub>-O<sub>4 </sub>is known beforehand, only moving the point subject to the observation by the distance δx can bring it into the position for visual recognition by the electron optical device <b>70</b>. It is to be noted that although in this illustration the electron optical device <b>70</b> and the optical microscope <b>871</b> are spaced from each other only along the X-axial line, they may be spaced both along the X- and the Y-axial directions. After the point subject to the observation is transferred into the visual recognition point of the electron optical device <b>70</b>, the SEM image of the point subject to the observation is taken by the electron optical systems of the electron optical device <b>70</b> in the high magnification, and said image may be stored and/or may be indicated in a monitor via a camera unit.</div>
<div class="description-paragraph" id="p-0116" num="0128">In this way, after the point on the wafer W subject to the observation is indicated on the monitor by the electron optical system in the high magnification, a misalignment of the wafer W in the rotational direction with respect to the revolving center of the turntable <b>54</b> of the stage device <b>50</b>, or a misalignment δθ of the wafer W in the rotational direction around the optical axis O<sub>3</sub>-O<sub>3 </sub>of the electron optical system, is detected by using a known method, and also a misalignment of a predetermined pattern in the X- and the Y-axial directions with respect to the electron optical device <b>70</b> is detected. Based on thus obtained values of detection as well as separately obtained data of the inspection mark formed in the wafer W or the set of data concerning to the geometry of the pattern of the wafer W and the like, the operation of the stage device <b>50</b> is controlled to provide the alignment of the wafer W.</div>
<div class="description-paragraph" id="p-0117" num="0129">With understanding of the above explanation, some preferred embodiments of the electron optical device <b>70</b> used in the defect inspection apparatus according to the present invention will now be described.</div>
<div class="description-paragraph" id="p-0118" num="0130"> <figref idrefs="DRAWINGS">FIGS. 7 and 8</figref> generally show the configuration of a first embodiment of an electro-optical apparatus <b>70</b> for use in the inspection system, according to the present invention, where an electro-optical apparatus <b>70</b> is a multi-beam type electro-optical apparatus. As shown, the electro-optical apparatus <b>701</b> comprises a primary electro-optical system (hereinafter simply called the “primary optical system”) <b>910</b> <i>a</i>, a secondary electro-optical system (hereinafter simply called the “secondary optical system”) <b>910</b> <i>b</i>, and a detection system <b>910</b> <i>c. </i> </div>
<div class="description-paragraph" id="p-0119" num="0131">The primary optical system <b>910</b> is an optical system for irradiating an electron beam E to a pattern which constitutes a semiconductor device (for example, a die) formed on a sample <b>909</b> such as a wafer, and comprises an electron gun <b>901</b> <i>a </i>for emitting an electron beam E, a multi-aperture plate <b>902</b> formed with a plurality of small holes <b>902</b> <i>a </i>arranged in a linear or a two-dimensional array for forming the electron beam E emitted from an electron gun <b>901</b> <i>a </i>into a plurality of electro beams (multiple beams); an electro lens <b>903</b> for converging the multiple beams, an AN aperture member <b>905</b> for defining an NA aperture <b>905</b> <i>a</i>, an electrostatic lens <b>904</b> for reducing the multiple beams which have passed through the NA aperture <b>905</b> <i>a</i>, an electro-static deflector <b>944</b>, an ExB separator <b>907</b>, a first objective lens <b>906</b>, deflectors <b>942</b>, <b>943</b>, and a second objective lens <b>908</b>. As shown in <figref idrefs="DRAWINGS">FIG. 7</figref>, these components are arranged in order such that the electron gun <b>901</b> <i>a </i>is positioned at the top, and the optical axis OA<b>1</b> of the electron beam E emitted from the electron gun <b>901</b> <i>a </i>is perpendicular to the surface of the sample <b>909</b>.</div>
<div class="description-paragraph" id="p-0120" num="0132">A plurality of small holes (throughholes) <b>902</b> <i>a </i>of the multi-aperture plate <b>902</b> are arranged within a circumference centered at the optical axis OA<b>1</b> of the primary optical system <b>910</b> <i>a</i>, and formed such that adjacent small holes, when projected onto the y-axis, are at equal intervals in the y-axis direction. Accordingly, the multiple beams formed by the respective small holes <b>902</b> <i>a </i>are also arranged within the circumference centered at the optical axis OA<b>1</b>, and a minimum interval between the beams maintains a distance equal to or larger than the resolution of the second optical system <b>910</b> <i>b</i>, and these beams are at equal intervals in the y-axis direction.</div>
<div class="description-paragraph" id="p-0121" num="0133">The second optical system <b>910</b> <i>b </i>comprises a converging lens <b>913</b> and a deflector <b>914</b> disposed along an optical axis OA<b>2</b> which inclines with respect to the optical axis OA<b>1</b> near the ExB separator <b>907</b>. A minimum interval between the respective electron beams on the surface of the sample <b>909</b> is larger than the resolution on the surface of the sample <b>909</b> in the secondary optical system <b>910</b> <i>b. </i> </div>
<div class="description-paragraph" id="p-0122" num="0134">The detection system <b>910</b> <i>c </i>comprises a micro-channel plate (MCP) <b>915</b> which has a channel corresponding to each small hole <b>902</b> <i>a </i>of the multi-aperture plate <b>902</b>, a multi-anode <b>916</b> and resistor <b>918</b> corresponding to each small hole <b>902</b> <i>a</i>, an image forming circuit <b>919</b> including an A/D converter, and a memory <b>920</b>. As shown in <figref idrefs="DRAWINGS">FIG. 8</figref>, the multi-anode <b>916</b> comprises a thin line in a loop shape arranged in a rectangular structure, and is configured to promptly emit gases emitted from the MCP. Also, one end <b>917</b> of each multi-anode <b>916</b> is fixed to a substrate <b>941</b> of ceramics, and is also connected to the resistor <b>918</b> and image forming circuit <b>919</b> through lead wire <b>917</b> <i>a. </i> </div>
<div class="description-paragraph" id="p-0123" num="0135">With the configuration as described above, the electron beam E is reduced by the reducing lens <b>904</b> and objective lenses <b>906</b>, <b>908</b>, and each beam arranged in the Y-axis direction is narrowed down and focused on sample <b>909</b>. These electron beams E are scanned on the sample <b>909</b> in the X-axis direction, while they are deflected by the deflectors <b>942</b>, <b>943</b>. Then, secondary electrons generated from scanned points travel as indicated by a dotted line <b>911</b>, and the intervals between the secondary electrons is magnified by the second objective lens <b>908</b>, first objective lens <b>906</b>, and magnification lens <b>913</b>, and simultaneously, the scaling factor is adjusted such that the interval between the secondary electrons is equal to the interval of the multi-anodes <b>916</b> disposed behind the MCP (micro-channel plate).</div>
<div class="description-paragraph" id="p-0124" num="0136">Next, <figref idrefs="DRAWINGS">FIG. 9</figref> generally shows the configuration of a second embodiment of an electro-optical apparatus <b>70</b> for use in a testing or inspection apparatus according to the present invention. This second embodiment comprises a single-beam type scanning electro-optical apparatus, and differs from the first embodiment in <figref idrefs="DRAWINGS">FIG. 7</figref> in that the multi-aperture plate <b>902</b>, lens <b>913</b>, and multi-anode <b>16</b> (<figref idrefs="DRAWINGS">FIG. 8</figref>) are not needed. Simultaneously, the single-beam type scanning electro-optical apparatus differs in that the detection system <b>910</b> <i>c </i>in the multi-beam type apparatus is replaced by a detector <b>910</b> <i>d </i>which comprises a PIN diode, a scintillator, and a photo-multiplier. In <figref idrefs="DRAWINGS">FIG. 9</figref>, the same components as those shown in <figref idrefs="DRAWINGS">FIG. 7</figref> are designated the same reference numerals, and descriptions thereon are omitted.</div>
<div class="description-paragraph" id="p-0125" num="0137">In the single-beam type electro-optical apparatus <b>70</b> shown in <figref idrefs="DRAWINGS">FIG. 9</figref>, since information for one pixel is detected by one beam, the detector <b>910</b> <i>d </i>may simply detect a signal strength corresponding to the number of secondary electrons generated from a tested surface of the wafer <b>909</b>, thus resulting in an advantage that a simple detection system suffices.</div>
<div class="description-paragraph" id="p-0126" num="0138">In the inspection apparatus which employs the electro-optical apparatus <b>70</b> shown in <figref idrefs="DRAWINGS">FIG. 7</figref> or <figref idrefs="DRAWINGS">FIG. 9</figref>, when electron beams are irradiated to a substrate such as a wafer formed with a plurality of dies to acquire the image of a pattern on the tested surface for a defect test, each die should be theoretically be arranged as designed on the acquired image as well. However, as previously described, actually, the arrangement of dies on the formed image may differ from the arrangement of dies on the wafer, due to distortions of a stage guide for moving a stage, exposure errors occurring in a lithography process, and the like. According to a test in actual use, there are generally position errors of approximately 2-3 μm. In such an event, the position errors must be corrected in order to acquire an image equal to the arrangement of dies on the wafer, because the detection of defects through image comparison is hindered.</div>
<div class="description-paragraph" id="p-0127" num="0139">Thus, since it is difficult to correct all error factors using a correction XY map (dynamic range of ±20 μm) in order to correct the position errors mentioned above, first in the present invention, a correction function (Δx,Δy)=f<b>1</b>(x,y) has been previously determined through recursive processing with a detailed error map generated therefor at a predetermined period (for example, approximately every half-year) for a position error (static error) correction term with high reproducibility, caused by mechanical factors which affects the absolute coordinates and the accuracy of a die-to-die comparison test. Then, during a test, the static errors are corrected using the correction function which has been previously processed and stored.</div>
<div class="description-paragraph" id="p-0128" num="0140">In this regard, for a position error (dynamic error) which affects the image quality such as blurring, which can dynamically vary, a correction function (Δx,Δy)=f<b>2</b>(x,y) is determined on a wafer-by-wafer basis or the like for use in the correction during an actual test.</div>
<div class="description-paragraph" id="p-0129" num="0141">Then, the present inventors investigated how to correct the highly reproducible static errors, and revealed as a result that among static errors, an orthogonal error of the XY coordinate system which occupies the highest relative importance, and an error caused by a distorted mirror of a laser interferometer (mirror distortion error) occupy a relatively large relative importance. The orthogonal error refers to an error which is caused by an assembling accuracy and a flatness of an interferometer mirror and a stage guide. Accordingly, the present invention is characterized by reducing these errors. In this specification, the correction of the orthogonal error is called a correction of “level <b>1</b>,” and the correction of the mirror distortion error is called a correction of “level <b>2</b>.”</div>
<div class="description-paragraph" id="p-0130" num="0142">In this regard, the highly reproducible static errors also include errors due to the rotation of a wafer, shift errors in the X-axis and Y-axis directions of the wafer, and scale errors in the X-axis and Y-axis direction, other than the orthogonal error and mirror distortion error, and according to the present invention, these errors can also be detected and corrected.</div>
<div class="description-paragraph" id="p-0131" num="0143">In this way, the correction of the static errors in two modes solves a problem of a small dynamic range provided when they are corrected by deflecting electron beams in the prior art example, and a reduction in processing time and simplification can be achieved by not using MAP which requires a large amount of data during a test of wafers, thus making it possible to conduct a test with a high accuracy and high throughput.</div>
<div class="description-paragraph" id="p-0132" num="0144"> <figref idrefs="DRAWINGS">FIG. 10</figref> is a block diagram showing the configuration for correcting stage errors in an electron beam apparatus according to the present invention. Referring to <figref idrefs="DRAWINGS">FIG. 10</figref>, the following detailed description will be focused on the corrections of level-<b>1</b> and level-<b>2</b> in a variety of embodiments.</div>
<div class="description-paragraph" id="h-0007" num="0000">First Embodiment</div>
<div class="description-paragraph" id="p-0133" num="0145">First, a reference wafer W<sub>0 </sub>for which correct XY coordinates, i.e., ideal position coordinates (x<sub>0</sub>,y<sub>0</sub>) of a plurality of reference points have been previously known, is placed on an XY-stage <b>10</b>-<b>1</b> of a testing apparatus. An XY-stage driving device <b>10</b>-<b>3</b> is driven under the control of a CPU <b>10</b>-<b>2</b> such that the reference points are irradiated with primary electron beams. Then, a laser interferometer <b>10</b>-<b>4</b> measures the position coordinates, i.e., measuring position coordinates (x,y) of a plurality of reference points on the wafer. The number of reference points under measurement may be an arbitrary number as long as it is equal to or larger than five, in consideration of the level-<b>2</b> correction, but coordinates of approximately 30-60 reference points are preferably measured in order to make more precise corrections. Accordingly, actually, there are 30-60 sets of ideal position coordinates (x<sub>0</sub>,y<sub>0</sub>) and measuring position coordinates (x,y). Assume that ideal position coordinates (x<sub>0</sub>,y<sub>0</sub>) have been previously stored in a storage device <b>10</b>-<b>5</b>.</div>
<div class="description-paragraph" id="p-0134" num="0146">Then, the CPU <b>10</b>-<b>2</b> calculates the difference:
<br/>
Δ<i>x=x</i> <sub>0</sub> <i>−x </i>
<br/>
Δ<i>y=y</i> <sub>0</sub> <i>−y </i>
<br/>
between the ideal position coordinates (x<sub>0</sub>,y<sub>0</sub>) of the reference point and the measuring position coordinates (x,y), and stores the position error (Δx, Δy) in the storage device <b>10</b>-<b>5</b> in correspondence to the measuring position coordinates (x,y).
</div>
<div class="description-paragraph" id="p-0135" num="0147">Next, the CPU <b>10</b>-<b>2</b> substitutes the stored position error (Δx, Δy) and measuring position coordinates (x,y) into the following equations (1) and (2) to perform recursive processing to determine coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2</sub>:
<br/>
Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
<br/>
Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2)
</div>
<div class="description-paragraph" id="p-0136" num="0148">Then, an orthogonal error is calculated using the coefficient c<b>1</b> and b<b>2</b> within the calculated coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2</sub>:
<br/>
Orthogonal Error=<i>b</i> <sub>2</sub> <i>−c</i> <sub>1 </sub>
</div>
<div class="description-paragraph" id="p-0137" num="0149">In the foregoing equations, a<b>1</b> represents an X-axis direction shift error; a<sub>2 </sub>a Y-axis direction shift error; b<b>1</b> an X-axis direction scale error; c<sub>2 </sub>a Y-axis direction scale error; b<sub>2 </sub>a wafer rotation error with respect to the X-axis; and c<b>1</b> a waver rotation error with respect to the Y-axis. Therefore, b<sub>2</sub>−c<sub>1 </sub>represents the orthogonal error of the XY-axes. The determination of these coefficients is preferably introduced such that a maximum position error after the correction is reduced to 2-3 μm or less.</div>
<div class="description-paragraph" id="p-0138" num="0150">In this way, the orthogonal error (=b<sub>2</sub>−c<sub>1</sub>) is calculated, as subjected to the level-<b>1</b> correction. The CPU <b>10</b>-<b>2</b> stores the resulting orthogonal error in the storage device <b>10</b>-<b>5</b>.</div>
<div class="description-paragraph" id="p-0139" num="0151">The CPU <b>10</b>-<b>2</b> also substitutes the coefficients d<sub>1</sub>, d<sub>2</sub>, e<sub>1</sub>, e<sub>2 </sub>within the calculated coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>into the following Equations (3) and (4):
<br/>
Δ<i>x=d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
<br/>
Δ<i>y=d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4)
</div>
<div class="description-paragraph" id="p-0140" num="0152">(Δx, Δy) represented by Equations (3) and (4), into which the coefficients have been substituted, represents a mirror distortion error, thus resulting in an equation which represents an error subjected to the level-<b>2</b> correction. The CPU <b>10</b>-<b>2</b> stores the resulting equations (i.e., Equations (3) and (4) with the coefficients substituted thereinto) in the storage device <b>10</b>-<b>5</b>. In this regard, while (Δx, Δy) represented by Equations (3) and (4) actually includes error components other than the mirror distortion error, it can be said that Equations (3) and (4) represent the mirror distortion error because the mirror distortion error is the largest error component.</div>
<div class="description-paragraph" id="p-0141" num="0153">Since the level-<b>1</b> correction is intended to correct an XY orthogonal error, the X-coordinate may be simply rotated by b<sub>2</sub>−c<sub>1</sub>. Actually, however, the following procedure is conducted in order to equivalently perform the same during a test. Specifically, as shown in <figref idrefs="DRAWINGS">FIG. 11(A)</figref>, the XY orthogonal error is corrected by adding an offset i*Δk (Δk: an offset value when a unit offset value is swath <b>1</b>) of a value corresponding to each swath i to the Y-coordinate for each swath <b>1</b>, <b>2</b>, . . . , i, . . . during a test. In this regard, since the scanning direction (scanning axis) is matched with the Y-axis by a θ-stage, the correction is integrated into the rotation of the X-axis, i.e., the offset of the Y-axis coordinate.</div>
<div class="description-paragraph" id="p-0142" num="0154">As a result of adding the offset in this way, the orthogonal error of the XY coordinates can be reduced substantially to zero, as shown in <figref idrefs="DRAWINGS">FIG. 11(B)</figref>. The unit offset value Δk is calculated by the CPU <b>10</b>-<b>2</b> using the orthogonal error b<sub>2</sub>-c<sub>1 </sub>and a swath width (Δk=one swath width*tan(b<sub>2</sub>−c<sub>1</sub>)), and stored in the storage device <b>10</b>-<b>5</b>. The CPU <b>10</b>-<b>2</b> determines “i” in accordance with the X-axis provided from the laser interferometer <b>10</b>-<b>4</b> during a test or inspection of an actual sample pattern, reads Δk from the storage device <b>10</b>-<b>5</b>, and adds I*Δk to the Y-coordinate provided from the laser interferometer <b>10</b>-<b>4</b>. In this way, the orthogonal error of the XY-coordinates is corrected.</div>
<div class="description-paragraph" id="p-0143" num="0155">The X-axis direction shift error “a”<b>1</b> and Y-axis direction shift error “a<sub>2</sub>” are corrected by registering again the origin of a die before starting a test of a sample pattern.</div>
<div class="description-paragraph" id="p-0144" num="0156">As is apparent from the foregoing, the level-<b>1</b> correction involves deriving Equations (1) and (2) through recursive processing, and offsetting each swath in the Y-axis direction by an amount associated with the swath in order to correct the XY orthogonal error resulting therefrom. Since the XY orthogonal error is generally static, the offset amount Δk may be calculated approximately every half year to update the offset value Δk in the storage device <b>10</b>-<b>5</b> in the same testing apparatus.</div>
<div class="description-paragraph" id="p-0145" num="0157">While the level-<b>2</b> correction is made during an actual test, as the test is started, the CPU <b>10</b>-<b>2</b> reads Equations (3) and (4) derived in the foregoing manner from the storage device <b>10</b>-<b>5</b>, and substitutes measuring position coordinates (x,y) provided by the laser interferometer <b>10</b>-<b>4</b> into these equations to calculate Δx and Δy in real time. Then, the storage device <b>10</b>-<b>5</b> has previously stored a lookup table which represents the relationship between the position error (Δx, Δy) and a correction value ΔV for a voltage applied to a deflector <b>10</b>-<b>7</b>, such that the CPU <b>10</b>-<b>2</b> references the lookup table to determine a correction voltage ΔV for correcting the position error (Δx, Δy) calculated by Equations (3) and (4) at that time, and controls a deflection voltage supply device <b>10</b>-<b>6</b> to supply the correction voltage to the deflector <b>10</b>-<b>7</b>. In this way, the secondary electron beams are deflected to form an image on a detector <b>10</b>-<b>8</b>. The position at which the image is formed is coincident to a position at which the mirror distortion error is reduced.</div>
<div class="description-paragraph" id="p-0146" num="0158">As is apparent from the foregoing, the level-<b>2</b> correction involves previously determining Equations (3) and (4), calculating a position error at a test point using these equations in real time during an actual test, and deflecting electron beams to the detector <b>10</b>-<b>8</b> such as MCP or the like based thereon, thereby correcting a focusing position on the detector.</div>
<div class="description-paragraph" id="p-0147" num="0159"> <figref idrefs="DRAWINGS">FIGS. 12(A)-12(C)</figref> show position errors in vector representation, measured using a wafer, the XY coordinates of which are know, where (A) shows a position error when no position correction is made; (B) a position error when the level-<b>1</b> correction is only made; and (C) a position error when both the level-<b>1</b> and level-<b>2</b> corrections are made. For example, the amount corrected by the level <b>1</b> is approximately ±10 μm, and the amount corrected by the level <b>2</b> is approximately ±0.5 μm.</div>
<div class="description-paragraph" id="p-0148" num="0160">As is apparent from these figures, it can be seen that the position error is largely reduced by making the level-<b>1</b> and level-<b>2</b> corrections, as compared with without correction and the level-<b>1</b> correction alone. Consequently, it is understood that the correction according to the present invention is extremely effective for reducing the position error.</div>
<div class="description-paragraph" id="h-0008" num="0000">Second Embodiment</div>
<div class="description-paragraph" id="p-0149" num="0161">In this second embodiment, the CPU <b>10</b>-<b>2</b> also calculates errors (Δx, Δy) at a plurality of reference points using the reference wafer w<sub>0</sub>, finds coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>through recursive processing of Equations (1) and (2), and determines an orthogonal error, in a manner similar to the first embodiment. Subsequently, the CPU <b>10</b>-<b>2</b> corrects measuring position coordinates (x,y) of a plurality of reference points on the reference wafer w<sub>0 </sub>using the determined orthogonal error. This correction is similar to the correction of the orthogonal error in the first embodiment.</div>
<div class="description-paragraph" id="p-0150" num="0162">Then, coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>of the following equations (identical to Equations (1) and (2)) are calculated through recursive processing using the corrected measuring position coordinates (x′, y′):
<br/>
Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x′+c</i> <sub>1</sub> <i>y′+d</i> <sub>1</sub> <i>x′</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y′</i> <sup>2</sup>  (1′)
<br/>
Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x′+c</i> <sub>2</sub> <i>y′+d</i> <sub>2</sub> <i>x′</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y′</i> <sup>2</sup>  (2′)
</div>
<div class="description-paragraph" id="p-0151" num="0163">Then, the calculated coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>are substituted into Equations (1′) and (2′) (i.e., Equations (1) and (2)), and the resulting equations are stored in the storage device <b>10</b>-<b>5</b> as equations which represent a mirror distortion error. In this second embodiment, the mirror distortion error is represented by Equations (1′) and (2′), but the coefficients a<sub>1</sub>˜c<sub>1 </sub>and a<sub>2</sub>˜c<sub>2 </sub>in these equations are substantially zero when the orthogonal error is corrected, so that it can be said that Equations (1′) and (2′) are substantially equivalent to Equations (3) and (4).</div>
<div class="description-paragraph" id="p-0152" num="0164">The level-<b>1</b> correction and level-<b>2</b> correction, when a wafer W is tested by driving an electron beam apparatus, are made in a manner similar to the first embodiment (however, different equations are used in the correction of the mirror distortion error).</div>
<div class="description-paragraph" id="h-0009" num="0000">Third Embodiment</div>
<div class="description-paragraph" id="p-0153" num="0165">Likewise, in this third embodiment, errors (Δx, Δy) at a plurality of reference points are calculated using the reference wafer w<sub>0 </sub>in a manner similar to the first embodiment. Then, the coefficients a<sub>1</sub>˜c<sub>1 </sub>and a<sub>2</sub>˜c<sub>2 </sub>are calculated through recursive processing using the following Equations (5) and (6) instead of Equations (1) and (2), and an orthogonal error in the XY coordinate system is calculated as b<sub>2</sub>-c<sub>1</sub>:
<br/>
Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (5)
<br/>
Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (6)
</div>
<div class="description-paragraph" id="p-0154" num="0166">Next, the CPU <b>10</b>-<b>2</b> corrects measuring position coordinates (x,y) at a plurality of reference points on the reference wafer w<sub>0 </sub>using the determined orthogonal error. Then, coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2</sub>, e<sub>2 </sub>in the following Equations (3′) and (4′) (which are equivalent to Equations (3) and (4)) are calculated through recursive processing using the corrected measuring position coordinates (x′,y′):
<br/>
Δ<i>x=d</i> <sub>1</sub> <i>x′</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y′</i> <sup>2</sup>  (3′)
<br/>
Δ<i>y=d</i> <sub>2</sub> <i>x′</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y′</i> <sup>2</sup>  (4′)
</div>
<div class="description-paragraph" id="p-0155" num="0167">Then, the calculated coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2</sub>, e<sub>2 </sub>are substituted into Equations (3′) and (4′), and the resulting equations are stored in the storage device <b>10</b>-<b>5</b> as equations which represent a mirror distortion error.</div>
<div class="description-paragraph" id="p-0156" num="0168">The level-<b>1</b> correction and level-<b>2</b> correction, when a wafer W is tested by driving an electron beam apparatus, are made in a manner similar to the first embodiment. (However, different equations are used in the correction of the mirror distortion error.)</div>
<div class="description-paragraph" id="h-0010" num="0000">Fourth Embodiment</div>
<div class="description-paragraph" id="p-0157" num="0169">In the fourth embodiment, an orthogonal error is determined using Equations (5) and (6) in a manner similar to the third embodiment, and measuring position coordinates (x,y) of a reference point is corrected using the determined orthogonal error. Subsequently, the CPU <b>10</b>-<b>2</b> calculates coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy Equations (1′) and (2′), using the corrected measuring position coordinates (x′,y′):
<br/>
Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x′+c</i> <sub>1</sub> <i>y′+d</i> <sub>1</sub> <i>x′</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y′</i> <sup>2</sup>  (1′)
<br/>
Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x′+c</i> <sub>2</sub> <i>y′+d</i> <sub>2</sub> <i>x′</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y′</i> <sup>2</sup>  (2′)
</div>
<div class="description-paragraph" id="p-0158" num="0170">Then, the calculated coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>are substituted into Equations (1′) and (2′), and resulting equations are stored in the storage device <b>10</b>-<b>5</b> as equations which represent a mirror distortion.</div>
<div class="description-paragraph" id="p-0159" num="0171">The level-<b>1</b> correction and level-<b>2</b> correction, when a wafer W is tested by driving an electron beam apparatus, are made in a manner similar to the first embodiment. (However, different equations are used in the correction of the mirror distortion error.)</div>
<div class="description-paragraph" id="p-0160" num="0172">As described above, in an electron beam apparatus, statically generated errors are dominated by a stage orthogonal error and an error due to mirror distortion, and in the invention, these errors are reduced by the level-<b>1</b> correction and level-<b>2</b> correction, respectively, thus making it possible to reduce a position error at a tested point on a wafer to determine ideal position coordinates.</div>
<div class="description-paragraph" id="p-0161" num="0173">In this event, the equations representative of the orthogonal error and the position error due to mirror distortion are previously defined and stored, such that the equations are read in the event of an actual test, and measuring position coordinates are substituted into the equation to correct the measuring position coordinates, so that the test can be conducted with a high accuracy and high throughput. Also, the deflection dynamic range of the deflector <b>10</b>-<b>7</b> is generally as low as approximately ±20 μm, but even in such an event, the orthogonal error is corrected by the level-<b>1</b> correction, so that the remaining position error is reduced (see <figref idrefs="DRAWINGS">FIG. 12</figref>). Accordingly, the present invention can be utilized even with the deflector <b>10</b>-<b>7</b> with a small dynamic range.</div>
<div class="description-paragraph" id="p-0162" num="0174">Now, defect determination will be described in detail. In determining defects, images of stripes <b>1002</b> mutually corresponding to different dies <b>1004</b> are compared with each other, as shown in <figref idrefs="DRAWINGS">FIG. 13(A)</figref>. This is because it is anticipated that the same patterns are mutually included in corresponding stripes if there is no defect, and discrepancy results in the comparison result if there are defects. <figref idrefs="DRAWINGS">FIG. 13B</figref> illustrates an enlarged portion of a die on the wafer shown in <figref idrefs="DRAWINGS">FIG. 13A</figref>.</div>
<div class="description-paragraph" id="p-0163" num="0175">In <figref idrefs="DRAWINGS">FIG. 13(A)</figref>, when defects are detected by comparing patterns in the stripes <b>1002</b> of dies adjacent to each other on the same wafer with each other, a stage is successively moved in the Y-axis direction to successively observe two patterns which are compared, thus completing the test on the entire surface of the wafer in a short time.</div>
<div class="description-paragraph" id="p-0164" num="0176">Another defect detection approach may employ, for example, CAD information. Specifically, the same pattern as that included in the stripe <b>1002</b> is generated as a reference image on a memory through processing from CAD information for generating the pattern included in the stripe <b>1002</b>, and this reference image is compared with a pattern on a wafer (an image of the stripe <b>1002</b> in <figref idrefs="DRAWINGS">FIG. 13(A)</figref>) to find the difference therebetween, thereby detecting defects.</div>
<div class="description-paragraph" id="p-0165" num="0177">In the approach for comparing patterns of two dies with each other, when the entire surface of a wafer is tested, a test time is reduced by successively testing the same pattern on dies on the wafer for dies adjacent to each other. In contrast, the approach for comparing with a reference image from CAD information, includes the steps of converting vector data of the CAD information to raster data which is image data, saving the raster data in a memory, and generating the reference image; converting the image in order to prevent an erroneous detection of a portion which is anticipated to produce a difference with the reference image on a tested image but is not a defect, for example, a corner portion of a pattern to reflect to the reference image; converting the concentration of the reference image to a concentration anticipated when the tested image is captured from the wafer; and matching the position of the reference image with the position of the tested image captured from the wafer. While any defect detection approach can detect defects in shape of the pattern and particles, the image is captured on the wafer using electron beams, so that voltage contrast information is provided as well, and even electric defects can be detected.</div>
<div class="description-paragraph" id="p-0166" num="0178">The pattern testing or inspecting method described above can be implemented in an apparatus which employs another type of electro-optical system shown in <figref idrefs="DRAWINGS">FIGS. 14 and 15</figref>. <figref idrefs="DRAWINGS">FIG. 14</figref> generally showing the configuration of a third embodiment of an electro-optical apparatus <b>70</b> for use in a testing system <b>1</b> according to the present invention, where the electro-optical apparatus <b>70</b> employs a projection type. As shown, a primary optical system <b>1024</b> direct an electron beam from an oblique direction with respect to the normal of a wafer <b>1028</b>, bends the electron beam substantially in a perpendicular direction to the surface under testing of the wafer <b>1028</b> by an ExB separator <b>1025</b>, and irradiates the wafer <b>1028</b> with a rectangular beam. Secondary electrons emitted from the wafer <b>1028</b> are magnified by objective lens tablets <b>1027</b>, <b>1026</b>, magnification lens tablets <b>1029</b>, <b>1029</b>′, and magnification lenses <b>1030</b>, <b>1031</b>, to focus a magnified image of the secondary electrons on an MCP <b>1032</b>.</div>
<div class="description-paragraph" id="p-0167" num="0179">When the position of the wafer <b>1028</b> deviates from a design value due to variations in speed of the stage in the Y-direction, or when a scanned die deviates from a designed position, dies will deviate in position on the image generated by the secondary electrons unless any correction is made. For correcting this positional deviation, the level-<b>1</b> and -<b>2</b> corrections are made. In the level <b>2</b>, a feed-back or a feed-forward correction is made for deflectors <b>1047</b>, <b>1048</b>.</div>
<div class="description-paragraph" id="p-0168" num="0180">In <figref idrefs="DRAWINGS">FIG. 14</figref>, the secondary electrons are focused on the MCP <b>1032</b> and amplified thereby. The secondary electrons amplified by the MCP <b>1032</b> are converted to light by a scintillator coated on the lower surface of an FOP (fiber optical plate) <b>1033</b>, focused on a TDI detector <b>1035</b> by an optical lens <b>1034</b>, and converted to an electric signal.</div>
<div class="description-paragraph" id="p-0169" num="0181"> <figref idrefs="DRAWINGS">FIG. 15(A)</figref> is a diagram generally showing the configuration of a fourth embodiment of an electro-optical apparatus <b>70</b> for use in a testing apparatus according to the present invention, where the electro-optical apparatus <b>70</b> employs an electro-optical system of multi-optical axis multi-beam type. The electro-optical apparatus <b>70</b> comprises an electron gun <b>1061</b>, a multi-aperture plate <b>1062</b>, a condenser lens <b>1063</b>, an objective lens <b>1065</b>, an ExB separator <b>1064</b>, a secondary electron image magnification lens <b>14067</b>, an MCP <b>1068</b>, and a multi-anode <b>1069</b>, where these components are configured to be arranged on a line with respect to a wafer <b>1066</b> in a plurality of sets. As a result, the optical axis of a primary optical system in each set is set at the same position of a corresponding stripe of a different die.</div>
<div class="description-paragraph" id="p-0170" num="0182">Optical parts of the primary optical system represented by the objective lens <b>1065</b> and anodes <b>1061</b> <i>a </i>are such that, as shown in <figref idrefs="DRAWINGS">FIG. 15(B)</figref>, a plurality of holes, which later serve as optical axes, are pierced through a single ceramics substrate, which exhibits the coefficient of thermal expansion equal to substantially zero, and aligned with a knock hole <b>1071</b>, to provide a plurality of optical elements. The objective lens <b>1065</b> is selectively coated with a metal inside of electrode holes <b>1072</b> and near the optical axis to prevent charging, such that an independent voltage can be applied around each electrode hole <b>1072</b>.</div>
<div class="description-paragraph" id="p-0171" num="0183">As shown in <figref idrefs="DRAWINGS">FIG. 15(C)</figref>, for the anodes <b>1061</b> <i>a</i>, a metal coating is applied around each anode hole <b>1074</b>, such that they can be independently applied with voltages, so that an anode current can be adjusted for each anode hole. The interval of these anode holes <b>1074</b> is set to precisely match an integer multiple of the pitch of dies on the wafer <b>1066</b> in the X-axis direction, and therefore, an electron beam which passes through each anode hole can test the same position of corresponding stripes of different dies. In this regard, the anodes <b>1061</b> <i>a </i>can be rotated about an axis passing at the center of the wafer <b>1066</b> for adjustment in position. The level-<b>1</b> and -<b>2</b> corrections are made upon calculation of a position error caused by variations in moving speed of the stage and an error caused by positional deviation of dies as described above. In the level-<b>2</b> correction, a feed-forward correction is made for the deflector <b>1075</b> and an electrostatic deflector <b>1076</b> within the ExB separator <b>1064</b>. As a result, a two-dimensional image is generated at all times for a region in which the same patterns of different dies are formed. Even if a positional deviation occurs due to another factor which causes a beam position to drift, no problem will arise because captured image is compared in sequence with a total of 25 images which include 24 images in which previously captured images are deviated in position up to ±2 pixels in the X-axis direction and Y-axis direction and an image without positional deviation.</div>
<div class="description-paragraph" id="p-0172" num="0184"> <figref idrefs="DRAWINGS">FIG. 16</figref> generally shows the configuration of a fifth embodiment of an electro-optical apparatus <b>70</b> for use in a testing apparatus according to the present invention, where a sample under testing is a stencil mask which transmits electrons. In the following, the configuration of the testing apparatus in <figref idrefs="DRAWINGS">FIG. 16</figref> will be described in connection with a testing method which can be conducted in this apparatus.</div>
<div class="description-paragraph" id="p-0173" num="0185">In <figref idrefs="DRAWINGS">FIG. 16</figref>, an electron beam is emitted along an axis Z from electron gun <b>1084</b> which comprises a cathode <b>1081</b> made of LaB6, a Wehnelt <b>1082</b>, and an anode <b>1083</b>. The emitted electron beam is irradiated to a rectangular formation aperture <b>1085</b>, and is formed into a rectangular shape by this aperture <b>1085</b> on a cross section perpendicular to the axis Z. The electron beam passing through the formation aperture <b>1085</b> and formed into a rectangular shape is converged by a condenser lens <b>1086</b> to form a cross-over on an NA aperture <b>1087</b>. The electron beam passing through the NA aperture <b>1087</b> forms a rectangular image which is irradiated onto a stencil mask <b>1089</b>, which is a mask under testing, by irradiation lens <b>1088</b>.</div>
<div class="description-paragraph" id="p-0174" num="0186">In this regard, the stencil mask <b>1089</b> is fixed to a stage <b>1091</b> with its periphery chucked by an electrostatic chuck <b>1090</b>. For measuring the position of the stage <b>1091</b> at all times, a laser length measuring machine which comprises a fixed mirror <b>1092</b>, a movable mirror <b>1093</b>, a fixed half mirror <b>1094</b>, a laser oscillator <b>1095</b>, and a laser receiver <b>1096</b> is provided, and the movable mirror <b>1093</b> is moved together with movements of the stage <b>1091</b>. In this way, the laser length measuring machine finds the position of the stage <b>1091</b> based on a difference between a time taken by laser light emitted from the laser oscillator <b>1095</b> to return to the laser receiver <b>1096</b> after it is reflected by the fixed mirror <b>1092</b>, and a time taken by the laser light emitted from the laser oscillator <b>1095</b> to return to the laser receiver <b>1096</b> after it is reflected by the movable mirror <b>1093</b>. The position of the stage <b>1091</b> is accurately measured using this measurement result to register the stencil mask <b>1089</b>. This will be later described.</div>
<div class="description-paragraph" id="p-0175" num="0187">In this way, the electron beam emitted from the electron gun <b>1084</b> passes through the stencil mask <b>1089</b>, focuses on the main surface of an objective lens <b>1097</b> and is magnified thereby, and further is magnified by two magnification lenses <b>1098</b>, <b>1099</b> before it is incident on the scintillator <b>1100</b>. The scintillator <b>1100</b> converts the incident electron beam to a corresponding optical image, and the converted optical image is converted to an electric signal by a TDI detector <b>1102</b> after it is focused on an optical lens <b>1101</b>. By processing this electric signal, a two-dimensional image related to one region under testing of the stencil mask <b>1089</b> can be captured.</div>
<div class="description-paragraph" id="p-0176" num="0188">The foregoing processing is performed for a sequence of regions under testing on the stencil mask <b>1089</b> with the stage <b>1091</b> moved in one direction, while the electron beam is emitted from the electron gun <b>1084</b>. Next, the stage <b>1091</b> is moved, the electron beam is irradiated to the adjacent sequence of regions under testing to capture a two-dimensional image from the TDI detector <b>1102</b>. Subsequently, a similar procedure is repeated to capture two-dimensional images over the entire region under testing, and the thus captured two-dimensional images can be sequentially processed to test the stencil mask <b>1089</b>.</div>
<div class="description-paragraph" id="p-0177" num="0189">Here, the registration of the stencil mask <b>1089</b> will be described. For performing the registration, first, two patterns spaced by a definite interval on the stencil mask <b>1089</b> are included in a viewing field to capture a two-dimensional image thereof. After capturing the two-dimensional image in this way, a scaling factor when a region under testing of the stencil mask <b>1089</b> appears in the two-dimensional image is measured and stored. Using this stored scaling factor, the interval, and the number of pixels existing within the interval, the dimension α (nm/pixel) of one pixel in the stencil mask <b>1089</b> is calculated and also stored.</div>
<div class="description-paragraph" id="p-0178" num="0190">Next, the stage <b>1091</b> is moved to capture two-dimensional images of patterns at two different sites on the stencil mask <b>1089</b>, and the position of the stage <b>1091</b> at the time the respective two-dimensional image was captured is measured by the aforementioned laser length measuring machine and stored. As a result, the posture of the stencil mask <b>1089</b> and its reference position are precisely determined from the captured two-dimensional images, their respective positions on the stage, and the aforementioned dimension α. In this way, the registration is completed.</div>
<div class="description-paragraph" id="p-0179" num="0191">Based on the registration thus determined, the stage <b>1091</b> is successively moved in one direction along the patterns of the stencil mask <b>1089</b>, while image signals detected by the TDI detector <b>1102</b>, associated with movements of the stage <b>1091</b>, are integrated in the direction in which the stage <b>1091</b> is moved to capture a two-dimensional image with an improved S/N ratio. As a sequence of regions under testing has been completely scanned, a sequence adjacent thereto is similarly scanned to capture a two-dimensional image. By comparing the captured two-dimensional image with a reference pattern stored in a memory (not shown) of a computer, the TDI detector <b>1102</b> can test the stencil mask <b>1089</b> for defects which possibly exist in the patterns of the stencil mask <b>1089</b>.</div>
<div class="description-paragraph" id="p-0180" num="0192">As described above, in the fifth embodiment of the electro-optical system <b>70</b> of the present invention, the dimension α of one pixel calculated by the aforementioned procedure is used prior to the registration, so that precise registration can be accomplished even if the scaling factor varies. In this regard, if the scaling factor deviates beyond a tolerance, the scaling factor may be adjusted to the tolerance by zooming the magnification lenses <b>1098</b> and <b>1099</b>.</div>
<div class="description-paragraph" id="p-0181" num="0193"> <figref idrefs="DRAWINGS">FIG. 17</figref> is a diagram generally showing the configuration of a sixth embodiment of an electro-optical apparatus <b>70</b> for use in a testing apparatus according to the present invention. In <figref idrefs="DRAWINGS">FIG. 17</figref>, a non-transmissive wafer is under testing. In the following, the configuration of the sixth embodiment will be described in connection with a testing procedure implemented in this apparatus. In <figref idrefs="DRAWINGS">FIG. 17</figref>, an electron beam emitted from an electron gun <b>111</b>, in which a thermion emitting cathode is operated under a space charge limited condition, is formed into a rectangular shape by a condenser lens <b>113</b>, an irradiation lens <b>114</b>, a beam formation aperture (not shown), and an NA aperture (not shown) arranged along an optical axis <b>112</b> of a primary optical system, and enters an ExB separator <b>1115</b>. Here, the traveling direction of the electron beam is bent from the optical axis <b>1112</b> to a direction perpendicularly going toward a wafer <b>1116</b>, passes through an objective lens tablet comprised of a first objective lens <b>1117</b> and a second objective lens <b>1118</b>, and is irradiated to the wafer <b>1116</b>. Similar to <figref idrefs="DRAWINGS">FIG. 16</figref>, the wafer <b>1116</b> is fixed on a stage (not shown), and the position of the stage is observed by a laser interferometer (not shown).</div>
<div class="description-paragraph" id="p-0182" num="0194">Secondary electrons generated from the wafer <b>1116</b> with the irradiation of the electron beam are magnified by a projection optical system comprised of a first objective lens <b>1117</b>, a second objective lens <b>1118</b> and three magnification lenses <b>1119</b>, <b>1120</b> and <b>1121</b>. The thus magnified electron beam is detected by a TDI detector <b>1122</b> which is sensitive to electron beams for conversion to a corresponding electric signal. This electric signal is supplied to an image forming circuit <b>1123</b> which forms a two-dimensional image corresponding to the secondary electrons generated from the wafer <b>1116</b>. This two-dimensional image is stored in a pattern memory <b>1124</b>.</div>
<div class="description-paragraph" id="p-0183" num="0195">Here, the acquisition of two-dimensional images from the entire regions under testing of the wafer <b>1116</b> will be described. In <figref idrefs="DRAWINGS">FIG. 18</figref>, assuming a coordinate system which defines the z-axis along the optical axis <b>1125</b> of a secondary optical system, the x-axis perpendicular to the z-axis and parallel to the sheet surface of <figref idrefs="DRAWINGS">FIG. 17</figref>, and the y-axis perpendicular to these z-axis and x-axis, an electron beam emitted from the electron gun <b>1111</b> is formed into a rectangular shape as described above, and is irradiated to a rectangular region <b>1131</b> elongated in the y-axis direction (a portion indicated by shading in <figref idrefs="DRAWINGS">FIG. 18(A)</figref>) on the surface of the wafer <b>1116</b>. This region <b>1131</b> is moved in the x-axis direction by a distance corresponding to a stripe width <b>1132</b> of a pattern formed on the wafer <b>1116</b> in association with the electron beam deflected by deflectors <b>1126</b>, <b>1127</b>. In this way, an elongated section (called the “scanning field of view”) <b>1133</b> elongated in the x-axis direction is scanned on the surface of the wafer <b>1116</b>, and simultaneously, the wafer <b>1116</b> is successively moved in the y-direction together with the stage. In this way, one stripe of the wafer <b>1116</b> is scanned in the x- and y-directions, and associated with the scanning, an image of secondary electrons generated from the wafer <b>1116</b> is captured, followed by the completion of the scanning of the stripe. Next, the stage is moved in the x-direction by one stripe width, and the next stripe is scanned to capture an image.</div>
<div class="description-paragraph" id="p-0184" num="0196">Since the surface of the wafer <b>1116</b> is not always flat, a focusing condition is measured on the sample surface for storage, prior to the capturing of the image in the sixth embodiment of the present invention. For measuring this focusing condition, a concentration distribution, for example is observed on the surface of the wafer <b>1116</b>. For this purpose, as shown in <figref idrefs="DRAWINGS">FIG. 18(B)</figref>, the image of a scanning field of view <b>1135</b> including an appropriate pattern <b>1134</b> is captured within the surface of the wafer <b>1116</b> to measure a concentration distribution in the x-axis direction. Assume that as a result, a concentration distribution <b>1136</b> is measured as shown in <figref idrefs="DRAWINGS">FIG. 18(C)</figref>, by way of example. Now, a distance Δx is calculated in the scanning field of view <b>1135</b> for the concentration increasing from 12% to 88%. This distance Δx is calculated each time a voltage V<sub>48 </sub>applied to the objective lens <b>1118</b> is changed, a curve <b>1137</b> representative of the relationship between Δx and V<sub>48 </sub>is calculated, as shown in <figref idrefs="DRAWINGS">FIG. 18(D)</figref>, and the voltage value V<sub>48 </sub>(min) to the objective lens <b>1118</b> is found when the curve <b>1137</b> gives a minimum value. In this way, a voltage value is found corresponding to one scanning field of view. Such processing is performed over the entire regions under testing of the wafer <b>1116</b> to find each scanning field of view and the voltage value V<sub>48 </sub>(min) corresponding thereto.</div>
<div class="description-paragraph" id="p-0185" num="0197">Next, the wafer <b>1116</b> is registered in a procedure similar to that described in connection with <figref idrefs="DRAWINGS">FIG. 16</figref>. First, a two-dimensional image is captured with two patterns spaced by a definite interval on the sample included in a viewing field. After capturing the two-dimensional image in this way, a scaling factor when a region under testing of the wafer <b>1116</b> appears in the two-dimensional image is measured and stored. Using this stored scaling factor, the interval, and the number of pixels existing within the interval, the dimension α (nm/pixel) of one pixel in the wafer <b>1116</b> is calculated and also stored.</div>
<div class="description-paragraph" id="p-0186" num="0198">Next, two-dimensional images of patterns are captured at two different sites on the wafer <b>1116</b> while the stage is moved, and the position of the stage at the time the respective two-dimensional image was captured is measured by the aforementioned laser length measuring machine and stored. As a result, the posture of the wafer <b>1116</b> and its reference position are precisely determined from the captured two-dimensional images, their respective positions on the stage, and the aforementioned dimension α. In this way, the registration is completed.</div>
<div class="description-paragraph" id="p-0187" num="0199">Since the dimension α of one pixel calculated in the aforementioned procedure is used to perform the registration, precise registration can be achieved even if the scaling factor varies. In this regard, if the scaling factor deviates beyond a tolerance, the scaling factor may be adjusted to the tolerance by zooming the magnification lenses <b>1120</b> and <b>1121</b>.</div>
<div class="description-paragraph" id="p-0188" num="0200">Based on the registration thus determined, the stage is successively moved in one direction along the patterns of the wafer <b>1116</b>, while image signals detected by the TDI detector <b>1122</b>, associated with movements of the stage, are integrated in the direction in which the stage is moved to capture a two-dimensional image with an improved S/N ratio. As a sequence of regions under testing has been completely scanned, a sequence adjacent thereto is similarly scanned to capture a two-dimensional image. By comparing the captured two-dimensional image with a reference pattern stored in a memory (not shown) of a computer, the TDI detector <b>1122</b> can test the wafer <b>1116</b> for defects which possibly exist in the patterns of the wafer <b>1116</b>. When the two-dimensional image of the wafer <b>1116</b> is captured in this way, an excitation voltage for the objective lens <b>1118</b> is set in each scanning field of view, i.e., at each position of the stage, to the voltage value V<b>48</b> (min) previously found for the position. In this way, the condition for the lenses in the projection optical system can be matched with a focusing condition to capture the two-dimensional image.</div>
<div class="description-paragraph" id="p-0189" num="0201">It should be understood that the fifth and sixth embodiments of the present invention are not limited to those so far described. For example, while a procedure has been described in connection with the electro-optical apparatus of the configuration shown in <figref idrefs="DRAWINGS">FIG. 17</figref> for setting lenses to match with a focusing condition when a two-dimensional image is captured from a non-transmissive sample such as a wafer, a similar procedure can be executed using the electro-optical apparatus of the configuration shown in <figref idrefs="DRAWINGS">FIG. 16</figref> to set lenses to match with a focusing condition, even when the sample is a transmissive one such as a stencil mask.</div>
<div class="description-paragraph" id="p-0190" num="0202">Turning now to <figref idrefs="DRAWINGS">FIG. 19</figref>, a procedure in an inspection process of a wafer will be explained. For the reason that a defect inspection apparatus using an electron beam is typically expensive and its throughput is relatively low as compared to other processing apparatuses, in the current circumstances, it is used after the essential processes considered to need the inspection most (e.g., the etching, the film deposition or the CMP (Chemical Mechanical Polishing) flattening processes), or in the wiring process especially in the fine pitch wiring process, or the first and second wiring processes and a gate wiring process prior thereto.</div>
<div class="description-paragraph" id="p-0191" num="0203">The wafer to be inspected is, after having been aligned on an ultra-precision X-Y stage via an atmospheric transfer system and a vacuum transfer system, fixed by an electrostatic chuck mechanism or the like, to which the defect inspection or the like may be applied in accordance with a procedure shown in <figref idrefs="DRAWINGS">FIG. 19</figref>. Firstly, an optical microscope is used to perform a position recognition of each die and/or a detection of height of each location, as desired, which are then stored (Step <b>1141</b>). The optical microscope additionally takes any other optical microscopic images of desired locations, such as defects which may be also used in the comparison with an electron beam image. Secondly, information on recipe in association with the type of wafer (e.g., after which process?, wafer size 200 mm? or 300 mm? and so on) is input to the apparatus (Step <b>1142</b>), and then, after completing the steps of specifying an inspection site (<b>1143</b>), setting an electron optical system (Step <b>1143</b>) and setting an inspection condition (Step <b>1144</b>) and so on, a defect inspection is performed while executing the image taking, typically in real time. The cell-to-cell comparison, die-to-die comparison and the like may be executed for inspection by a high-speed information processing system containing an algorithm, and the result may be output to a CRT or the like and/or stored in a memory appropriately as desired.</div>
<div class="description-paragraph" id="p-0192" num="0204">The defect may include a particle defect, an abnormal shape (a pattern defect), an electrical defect (including disconnection in a wiring or a via and bad conduction) and so on, and those defects can be distinguished and/or the classification of the size of the defect and the identification of a killer defect (a serious defect making the chip no longer usable) can be carried out at real time. The detection of the electrical defect may be achieved by detecting an abnormal contrast. For example, the location of bad conduction can be distinguished from the location of normal conduction from the fact that the former is typically charged to be positive by the irradiation of an electron beam (at about 500 eV) and thereby the contrast is deteriorated. As an electron beam irradiation means for applying the charge, a low potential (low energy) electron beam generating means (for emitting thermion, UV/photoelectron) may be installed for emphasizing the contrast owing to a potential difference, in addition to an electron beam irradiating means used for a typical inspection. Prior to the irradiation of the electron beam for the inspection onto a region subject to the inspection, this low potential (energy) electron beam is generated and irradiated thereto. In the case of the image projection method, which can charge the wafer to be positive by irradiating the electron beam for the inspection onto the wafer, depending on the specification thereof, the electron beam generating means of low potential need not be installed additionally. Further, the defect can be detected from a difference in contrast (resultant from a difference in flow-ability depending on the forward or backward direction of the device) caused by applying a positive or negative potential relative to a reference potential to a sample such as a wafer. This is applicable to a line width measuring apparatus and an overlay accuracy measuring, as well.</div>
<div class="description-paragraph" id="p-0193" num="0205">The inspection of a sample, such as a wafer, by using an electron beam can be performed in accordance with a basic procedure as shown in <figref idrefs="DRAWINGS">FIG. 20</figref>. Firstly, in Step <b>1151</b>, the wafer is introduced onto a stage by a transfer mechanism. Typically, a plurality (e.g., 25 pieces) of wafers to be inspected are accommodated in a cassette holder and one or more of them are simultaneously taken out of it and mounted on the stage of a defect inspection apparatus, wherein, since the defect inspection apparatus is installed in a housing kept in a vacuum condition, a device for interfacing between the atmosphere and the vacuum is necessary in order to carrying out the operation for taking the wafer subject to the inspection out of the cassette holder and mounting it on the stage and the operation for taking the wafer having finished with the inspection out of the housing. To this end, when the wafer is to be introduced, the wafer that has been taken out of the cassette holder is firstly cleaned in a mini-environment unit and then transferred into a loading chamber. Since the loading chamber is coupled with the housing via a shutter, once the wafer is transferred into the loading chamber, the loading chamber is evacuated into vacuum. After the loading chamber is evacuated to vacuum, the shutter is opened so as to allow a communication between the loading chamber and the housing, wherein the wafer finished with the inspection is removed from the stage and taken out of the housing, while at the same time, another wafer to be inspected is transferred from the loading chamber to the housing and then loaded on the stage.</div>
<div class="description-paragraph" id="p-0194" num="0206">Next, in step <b>1152</b>, an aligning operation is performed so as to make the wafer aligned. When the wafer is loaded on the stage from the loading chamber, usually, the X- and the Y-axes of a die on the wafer are not in conformity with the moving direction of the stage or the scanning direction of the electron beam. In this condition, in order to perform an accurate inspection for the die on the wafer, firstly the wafer is rotated on the stage to compensate for an angular misalignment of the die so that the axes defining the die on the wafer are matched with the moving direction of the stage or the scanning direction of the electron beam. This operation is referred to as an alignment operation.</div>
<div class="description-paragraph" id="p-0195" num="0207">After the alignment operation of Step <b>1152</b>, Step <b>1153</b> for creating the recipe to set a condition or the like on the inspection is performed. At least one type of recipe is necessary for the wafer subject to the inspection, while in order to satisfy a plurality of conditions on the inspection, occasionally a plurality of recipe may be prepared for a single wafer subject to the inspection. Further, if there is a plurality of wafers subject to the inspection, which have identical patterns, only one recipe may be used for the inspection of said plurality of wafers. In the case of the inspection using the previously created recipe, it is not necessary to create a new recipe before the inspection operation.</div>
<div class="description-paragraph" id="p-0196" num="0208">Next, in Step <b>1154</b>, the inspection operation is carried out in accordance with the condition and sequence defined in the recipe, and thus the wafer is inspected. The defect extraction is executed immediately upon each discovery of the defect during the inspection operation, and the extracted defect is classified in Step <b>1155</b>, in which the data on the location and others of the extracted defect is accumulated together with the classification data and the image of the defect, while the defect information, such as the location of the defect, on the extracted defect may be displayed on the operating screen (Step <b>1156</b>). In this way, when the inspection of the wafer is completed, the wafer is ejected (Step <b>1157</b>), and the next wafer is transferred in position, on which a series of above steps are repeated. It is to be noted that the path <b>1158</b> indicates that if the previously prepared recipe is used in the inspection, the creation of a new recipe is not necessary prior to the inspection operation.</div>
<div class="description-paragraph" id="p-0197" num="0209">In <figref idrefs="DRAWINGS">FIG. 20</figref>, the inspection operation (Step <b>1154</b>) executes the inspection of the wafer in accordance with the condition and sequence described in the recipe. The defect extraction is executed immediately at each time when the defect is found during the inspection operation, and the following operations from a) to c) are performed substantially in parallel.</div>
<div class="description-paragraph" id="p-0198" num="0210">a) The defect classification (Step <b>1155</b>) is executed, and the data on the extracted defect and the data on the defect classification are added to a file for outputting the result.</div>
<div class="description-paragraph" id="p-0199" num="0211">b) An image of the extracted defect is added to a file for outputting the result exclusively for the image or the file for outputting the result specified in said a) (Step <b>1156</b>).</div>
<div class="description-paragraph" id="p-0200" num="0212">c) The defect data such as the location of the extracted defect is indicated on the operating screen.</div>
<div class="description-paragraph" id="p-0201" num="0213">Once the inspection has been completed as per each wafer subject to the inspection, then the following operations from a) to c) are performed substantially in parallel.</div>
<div class="description-paragraph" id="p-0202" num="0214">a) The file for outputting the result is closed and saved.</div>
<div class="description-paragraph" id="p-0203" num="0215">b) When the external communication requests the inspection result, in response thereto the inspection result is sent.</div>
<div class="description-paragraph" id="p-0204" num="0216">c) The wafer is ejected.</div>
<div class="description-paragraph" id="p-0205" num="0217">In the case where the serial inspection of the wafers is set, the next wafer to be inspected is transferred and the above operations are repeated.</div>
<div class="description-paragraph" id="p-0206" num="0218">The flow in <figref idrefs="DRAWINGS">FIG. 20</figref> will be described further in detail.</div>
<div class="description-paragraph" id="h-0011" num="0000">(1) Making of Recipe (Step <b>1153</b>)</div>
<div class="description-paragraph" id="p-0207" num="0219">The recipe is a file for setting a condition or the like involved in the inspection and also can be saved. The recipe is used during or before the inspection so as to make a setting for the apparatus, and the condition on the inspection defined in the recipe includes:</div>
<div class="description-paragraph" id="p-0208" num="0220">a) The die subject to the inspection;</div>
<div class="description-paragraph" id="p-0209" num="0221">b) The region subject to the inspection within the die;</div>
<div class="description-paragraph" id="p-0210" num="0222">c) The inspection algorithm;</div>
<div class="description-paragraph" id="p-0211" num="0223">d) The condition for detection (conditions required in the defect extraction, including the inspection sensibility and the like); and</div>
<div class="description-paragraph" id="p-0212" num="0224">e) The condition for observation (conditions required in the observation, including the magnification, the lens voltage, the stage speed, the sequence of inspection and so on). The inspection algorithm of c) will be described later more specifically.</div>
<div class="description-paragraph" id="p-0213" num="0225">Among those items listed above, the setting of the die subject to the inspection may be performed by an operator who designates the die to be inspected on a die map diagram displayed in the operating screen, as shown in <figref idrefs="DRAWINGS">FIG. 21</figref>. In the example illustrated in <figref idrefs="DRAWINGS">FIG. 21</figref>, the die “a” located in an edge area of the wafer and the die “b” that has been determined to be defective beyond any doubt in the previous step are grayed out to preclude them from the inspection, and the rest of the dies are subject to the inspection. The apparatus further includes a function for designating the die subject to inspection automatically based on the distance from the edge of the wafer and/or the information on whether the die is good or bad, which has been detected in the previous step.</div>
<div class="description-paragraph" id="p-0214" num="0226">Further, to set the region subject to the inspection within the die, the operator may designate the region subject to the inspection on a diagram for setting a region to be inspected within the die displayed in the operating screen as shown in <figref idrefs="DRAWINGS">FIG. 22</figref>, by using an input device, such as a mouse, based on the image obtained by the optical microscope or the EB microscope. In the example illustrated in <figref idrefs="DRAWINGS">FIG. 22</figref>, the region <b>1161</b> indicated by the solid line and the region <b>1162</b> indicated by the broken line have been set as the regions subject to the inspection.</div>
<div class="description-paragraph" id="p-0215" num="0227">The region <b>1161</b> includes substantially entire area of the die that has been set as the region subject to the inspection. The inspection algorithm specifies the adjacent die comparison method (i.e., the die-to-die inspection), in which the details of the condition on the detection and the condition on the observation applied to this region may be separately established. As for the region <b>1162</b>, the inspection algorithm specifies the array inspection (i.e., cell-to-cell inspection), in which the details of the condition on the detection and the condition on the observation applied to this region may be separately established. This means that it is possible to set a plurality of regions subject to the inspection, and for each of those regions subject to the inspection, the individual conditions on the inspection algorithm and/or on the inspection sensibility can be set respectively. Further, the regions subject to the inspection can be placed on one another, and in this case, different sets of inspection algorithm may be applied to the same region simultaneously.</div>
<div class="description-paragraph" id="h-0012" num="0000">(2) Inspection Operation (Step <b>1154</b>)</div>
<div class="description-paragraph" id="p-0216" num="0228">In the inspection operation, the wafer subject to the inspection is divided into segments each defined by a certain scanning width as shown in <figref idrefs="DRAWINGS">FIG. 23</figref> and scanned. The scanning width is determined substantially based on a length of the line sensor, and the line sensor is arranged such that the end portions of the line sensor are slightly overlapped with each other. This is intended to provide a correct judgment on the continuity between lines when the detected defects are to be processed integrally in a final stage and to ensure an extra margin for the image alignment when the comparative inspection is carried out. The amount of overlapping may be about 16 dots for the 2048 dots of line sensor.</div>
<div class="description-paragraph" id="p-0217" num="0229"> <figref idrefs="DRAWINGS">FIG. 24</figref> (A) and <figref idrefs="DRAWINGS">FIG. 24(B)</figref> schematically show the direction and sequence of the scanning operation, respectively. The operator may select either one of a bi-directional operation “A” aiming for reducing the inspection time or a unidirectional operation B due to the mechanical constraint. Further, the apparatus has a function for automatically calculating an operation for reducing the scanning amount based on the setting in the recipe for the die subject to the inspection and for carrying out this operation. <figref idrefs="DRAWINGS">FIG. 25</figref> illustrates an example of scanning operation for a case where there is a single die <b>1171</b> subject to the inspection, wherein an unnecessary scanning operation is not performed.</div>
<div class="description-paragraph" id="p-0218" num="0230">The algorithm to be implemented in the present apparatus may be categorized principally into two types: an array inspection (Cell inspection); and a random inspection (Die inspection). The random inspection may be further classified depending on the object to be compared as follows;
</div> <ul> <li id="ul0007-0001" num="0231">a) An adjacent die comparison method (Die-Die inspection);</li> <li id="ul0007-0002" num="0232">b) A reference die comparison method (Die-Any die inspection); and</li> <li id="ul0007-0003" num="0233">c) A CAD data comparison method (Cad Data-Any Die inspection).</li> </ul>
<div class="description-paragraph" id="p-0219" num="0234">A method generally referred to as a golden template method includes b) the reference die comparison method and c) the CAD data comparison method, wherein in the reference die comparison method, the reference die is used as the golden template, and in the CAD data comparison method, the CAD data is used as the golden template. An operation in accordance with each algorithm will be described below.</div>
<div class="description-paragraph" id="h-0013" num="0000">(1) Array Inspection (Cell Inspection)</div>
<div class="description-paragraph" id="p-0220" num="0235">The array inspection may be applied to the inspection of a cyclic structure. One example thereof may be represented by a DRAM cell. In this inspection, an image to be inspected is compared with a reference image and a difference therebetween is extracted as a defect. The reference image and the image subject to the inspection may be either one of a two-valued image or a multi-valued image for improving the detection precision. The difference between the reference image and the image subject to the inspection may be in itself treated as the detected defect, and a secondary determination for avoiding a detection error may be further performed based on the difference data, including a differential amount of the detected difference and a total area of the pixels containing the difference.</div>
<div class="description-paragraph" id="p-0221" num="0236">In the array inspection, the comparison between the reference image and the image subject to the inspection may be carried out on a structural cycle basis. That is, the comparison may be performed by every structural cycle while reading out the images that have been obtained at once by a CCD, or otherwise if the reference image is defined by n structural cycles, the comparison may be performed by every n structural cycle.</div>
<div class="description-paragraph" id="p-0222" num="0237">One example of a method for generating the reference image is shown in <figref idrefs="DRAWINGS">FIG. 26</figref>, in which an example for making the comparison by every structural cycle is illustrated so as to represent single structural cycle generation. The same method may be employed to make the number of cycles to n. On the assumption, the direction of the inspection in <figref idrefs="DRAWINGS">FIG. 26</figref> is indicated by an arrow A. Besides, the cycle indicated by t<sub>4 </sub>denotes a cycle subject to the inspection. Since the operator can input a size representing the cycle while watching the screen, therefore the cycles t<sub>1 </sub>to t<sub>6 </sub>can be easily identified in <figref idrefs="DRAWINGS">FIG. 26</figref>.</div>
<div class="description-paragraph" id="p-0223" num="0238">A reference cycle image may be generated by adding the data in the cycles t<sub>1 </sub>to t<sub>3 </sub>just before the cycle subject to the inspection in each pixel and averaging the result. Even if a defect is contained in either one of the t<sub>1 </sub>to t<sub>3 </sub>cycle images, they are averaged and consequently less affective to the outcome. Thus formed reference cycle image and the image of the cycle t<sub>4 </sub>to be inspected are compared to each other to extract the defect.</div>
<div class="description-paragraph" id="p-0224" num="0239">In the next step, when the image of the cycle t<sub>5 </sub>subject to the inspection is to be inspected, the data in the cycles t<sub>2 </sub>to t<sub>4 </sub>are added and averaged to thereby generate the reference cycle image. In the following steps of inspection, the reference cycle image may be generated successively in a similar manner from the images obtained before the image of the cycle to be inspected having been taken so as to continue the inspection operation.</div>
<div class="description-paragraph" id="h-0014" num="0000">(2) Random Inspection (Die Inspection)</div>
<div class="description-paragraph" id="p-0225" num="0240">The random inspection may be applied without restriction of the structure of a die. In the inspection, an image subject to the inspection is compared with a reference image as an image to be referred to and a difference therebetween is extracted as a defect. The reference image and the image subject to the inspection may be either one of a two-valued image or a multi-valued image for improving the detection precision. The difference between the reference image and the image subject to the inspection may be in itself treated as the detected defect, and a secondary determination for avoiding a detection error may be further performed based on the difference data, including a differential amount of the detected difference and a total area of the pixels containing the difference.</div>
<div class="description-paragraph" id="p-0226" num="0241">The random inspection may be classified based on how to determine the reference image. An operation specific to the method for determining the reference image will now be described.</div>
<div class="description-paragraph" id="h-0015" num="0000">A. An Adjacent Die Comparison Method (Die-Die Inspection)</div>
<div class="description-paragraph" id="p-0227" num="0242">The reference image is an image of a die adjacent to another die whose image is to be inspected. The image of a die subject to the inspection is compared with two reference images of dies located adjacent to said die subject to the inspection to thereby determine a defect. This method is illustrated in <figref idrefs="DRAWINGS">FIG. 28</figref>, wherein under a condition where a switch <b>1185</b> and a switch <b>1186</b> are set such that a memory <b>1181</b> and a memory <b>1182</b> of an image processor are connected to a path <b>1184</b> from a camera <b>1183</b>, the following steps a) through i) are executed.</div>
<div class="description-paragraph" id="p-0228" num="0243">a) A step of storing a die image <b>1</b> (<figref idrefs="DRAWINGS">FIG. 27</figref>) from the path <b>1184</b> into the memory <b>1181</b> in accordance with a scanning direction “S”.</div>
<div class="description-paragraph" id="p-0229" num="0244">b) A step of storing a die image <b>2</b> from the path <b>1184</b> into the memory <b>1182</b>.</div>
<div class="description-paragraph" id="p-0230" num="0245">c) A step of obtaining the die image <b>2</b> from the path <b>1187</b> in synchronization with said step b), and comparing the thus obtained die image <b>2</b> with the image data stored in the memory <b>1181</b>, which represent the data in the same relative position in the die, to thereby determine a difference between them.</div>
<div class="description-paragraph" id="p-0231" num="0246">d) A step of saving the difference from Step c).</div>
<div class="description-paragraph" id="p-0232" num="0247">e) A step of storing a die image <b>3</b> from the path <b>1184</b> into the memory <b>1181</b>.</div>
<div class="description-paragraph" id="p-0233" num="0248">f) A step of obtaining the die image <b>3</b> from the path <b>1187</b> in synchronization with Step e), and comparing the thus obtained die image <b>3</b> with the image data stored in the memory <b>1182</b>, which represent the data in the same relative position in the die, to thereby determine a difference between them.</div>
<div class="description-paragraph" id="p-0234" num="0249">g) A step of saving the difference from Step f).</div>
<div class="description-paragraph" id="p-0235" num="0250">h) A step of determining a defect in the die image <b>2</b> from the results stored in Steps d) and g).</div>
<div class="description-paragraph" id="p-0236" num="0251">i) A step of sequentially repeating Steps a) through h) on a series of dies.</div>
<div class="description-paragraph" id="p-0237" num="0252">Depending on the specific setting, prior to the step of determining the differences in Steps c) and f), the compensation may be applied so as to cancel the positional difference between two images to be compared (position alignment). Alternatively, the compensation may be applied so as to cancel the density difference therebetween (density alignment). Otherwise, both of the alignments may be applied.</div>
<div class="description-paragraph" id="h-0016" num="0000">B. A Reference Die Comparison Method (Die-any Die Inspection)</div>
<div class="description-paragraph" id="p-0238" num="0253">The operator designates a reference die. The reference die may be a die existing on the wafer or another die whose image has been stored prior to the inspection, and first of all, the reference die is scanned or the image having stored in advance is transferred so that the image may be stored in a memory as a reference image. Steps a) through h) to be carried out in this method will be described below with reference to <figref idrefs="DRAWINGS">FIGS. 28 and 29</figref>.</div>
<div class="description-paragraph" id="p-0239" num="0254">a) A step of selecting by the operator the reference die from the dies on the wafer subject to the inspection or from the die images having been stored prior to the inspection.</div>
<div class="description-paragraph" id="p-0240" num="0255">b) In the case of the reference die existing on the wafer subject to the inspection, a step of setting the switch <b>1185</b> and the switch <b>1186</b> such that at least either one of the memory <b>1181</b> or the memory <b>1182</b> of the image processor is connected to the path <b>1184</b> from the camera <b>1183</b>.</div>
<div class="description-paragraph" id="p-0241" num="0256">c) In the case of the reference image being represented by the die image having been stored prior to the inspection, a step of setting the switch <b>1185</b> and the switch <b>1186</b> such that at least either one of the memory <b>1181</b> or the memory <b>1182</b> of the image processor is connected to the path <b>1189</b> from a memory <b>1188</b> storing the reference image representing the die image.</div>
<div class="description-paragraph" id="p-0242" num="0257">d) In the case of the reference die existing on the wafer subject to the inspection, a step of scanning the reference die and transferring the reference image representing the reference die image into a memory of the image processor.</div>
<div class="description-paragraph" id="p-0243" num="0258">e) In the case of the reference image being represented by the die image having been stored prior to the inspection, a step of transferring the reference image representing the reference die image into the memory of the image processor without any necessity for the step of scanning.</div>
<div class="description-paragraph" id="p-0244" num="0259">f) A step of comparing the images obtained by scanning the dies subject to the inspection in sequence with the image in the memory formed by the transferred reference image which is the reference die image and/or the image in which the data in the same relative position in the die is the same, and thereby determining a difference therebetween.</div>
<div class="description-paragraph" id="p-0245" num="0260">g) A step of determining a defect from the difference obtained in Step f).</div>
<div class="description-paragraph" id="p-0246" num="0261">h) A step of repeating said procedure as defined in the above Steps d) through g) by inspecting the scanning position of the reference and the portion on the die to be inspected, which corresponds to the scanning position on the reference die, across the entire area of the wafer continuously, as shown in <figref idrefs="DRAWINGS">FIG. 30</figref>, while changing the scanning position on the reference die until the die to be inspected is entirely inspected.</div>
<div class="description-paragraph" id="p-0247" num="0262">Depending on the specific setting, prior to the step of determining the differences in Step f), the compensation may be applied so as to cancel the positional difference between two images to be compared (position alignment). Alternatively, the compensation may be applied so as to cancel the density difference therebetween (density alignment). Otherwise, both of the alignments may be applied.</div>
<div class="description-paragraph" id="p-0248" num="0263">In Step d) or e), the reference die image stored in the memory of the image processor may be an entire image of the reference die or a partial image thereof, and if the partial image of the reference die is taken as the reference die image, then the partial image of the reference die shall be renewed continuously during the inspection.</div>
<div class="description-paragraph" id="h-0017" num="0000">C. A CAD Data Comparison Method (CadData-AnyDie Inspection)</div>
<div class="description-paragraph" id="p-0249" num="0264">In the semiconductor manufacturing process shown in <figref idrefs="DRAWINGS">FIG. 31</figref>, a reference image is made from the CAD data representing an output from the semiconductor pattern designing step by the CAD, as an image to be referred to. The reference image may an entire image of the die or a partial image thereof containing the area to be inspected.</div>
<div class="description-paragraph" id="p-0250" num="0265">Since the CAD data is typically represented by the vector data, it cannot be used directly as the data for the reference image, unless it is converted to the raster data corresponding to the image data obtained by the scanning operation. Accordingly the vector data representing the CAD data should be converted into the raster data, and this conversion may be executed for each unit defined by the scanning width of the image obtained by scanning the die subject to the inspection during the inspection. At that time, the conversion may be applied to the image data representing the same relative position on the die as of an image expected to be obtained by scanning the die subject to the inspection. The inspection scanning and the conversion task may be performed as they are overlapped.</div>
<div class="description-paragraph" id="p-0251" num="0266">The above conversion task from the vector data to the raster data may be added with at least one of the following functions:</div>
<div class="description-paragraph" id="p-0252" num="0267">a) A function of making the raster data multi-valued;</div>
<div class="description-paragraph" id="p-0253" num="0268">b) A function of, in conjunction with said a), setting a gradient weighting and/or an offsetting in making the data multi-valued, by taking the sensibility of the inspection apparatus into account; and</div>
<div class="description-paragraph" id="p-0254" num="0269">c) A function of, after the vector data is converted into the raster data, performing an image processing for processing pixels, including expanding and contracting of the pixels.</div>
<div class="description-paragraph" id="p-0255" num="0270">In <figref idrefs="DRAWINGS">FIG. 28</figref>, the inspection steps by way of the CAD data comparison method include the following Steps a) through f):</div>
<div class="description-paragraph" id="p-0256" num="0271">a) A step of converting the CAD data into the raster data by a calculator <b>1190</b>, and making a reference image with said additional function and storing it in the memory <b>1188</b>;</div>
<div class="description-paragraph" id="p-0257" num="0272">b) A step of setting the switch <b>1185</b> and the switch <b>1186</b> such that at least either one of the memory <b>1181</b> or the memory <b>1182</b> of the image processor is connected to the path <b>1184</b> from the memory <b>1188</b>;</div>
<div class="description-paragraph" id="p-0258" num="0273">c) A step of transferring the reference image in the memory <b>1188</b> to a memory in the image processor;</div>
<div class="description-paragraph" id="p-0259" num="0274">d) A step of comparing the images obtained by scanning the image subject to the inspection in sequence with the image in the memory formed by the transferred reference image and/or the image in which the data in the same relative position in the die is the same, and thereby determining a difference therebetween;</div>
<div class="description-paragraph" id="p-0260" num="0275">e) A step of determining a defect from the difference obtained in Step d); and</div>
<div class="description-paragraph" id="p-0261" num="0276">f) A step of repeating said procedure as defined in the above Steps a) through e) by inspecting the scanning position of the reference die and the portion on the die to be inspected, corresponds to the scanning position on the reference die, across the entire area of the wafer continuously, as shown in <figref idrefs="DRAWINGS">FIG. 30</figref>, while changing the scanning position on the reference die until the die to be inspected is entirely inspected.</div>
<div class="description-paragraph" id="p-0262" num="0277">Depending on the specific setting, prior to the step of determining the differences in said d), the compensation may be applied so as to cancel the positional difference between two images to be compared (position alignment). Alternatively, the compensation may be applied so as to cancel the density difference therebetween (density alignment). Otherwise, both of said alignments may be applied.</div>
<div class="description-paragraph" id="p-0263" num="0278">In Step c), the reference die image stored in the memory of the image processor may be an entire image of the reference die or a partial image thereof, and if the partial image of the reference die is taken as the reference die image, then the partial image of the reference die shall be renewed continuously during the inspection.</div>
<div class="description-paragraph" id="h-0018" num="0000">(3) Focus Mapping</div>
<div class="description-paragraph" id="p-0264" num="0279"> <figref idrefs="DRAWINGS">FIG. 32</figref> shows a basic flow of the focusing function. Firstly, after a wafer transfer (Step <b>1201</b>) including an alignment operation (Step <b>1202</b>), a recipe is made, which specifies a condition and the like on involving the inspection. One of the recipes is a focus map recipe (Step <b>1203</b>), and according to the focusing information specified in this recipe, an inspection operation and a reviewing operation are executed in the automatic-focusing mode (Step <b>1204</b>). After this, the wafer is ejected (Step <b>1205</b>).</div>
<div class="description-paragraph" id="p-0265" num="0280">A procedure for making the focus map recipe along with a procedure for operating the automatic-focusing will be described below.</div>
<div class="description-paragraph" id="h-0019" num="0000">1. Procedure for Making the Focus Map Recipe</div>
<div class="description-paragraph" id="p-0266" num="0281">The focus map recipe has its independent input screen, and the operator can make the recipe by executing the following steps a) through c).</div>
<div class="description-paragraph" id="p-0267" num="0282">a) A step of inputting a focus map coordinate, such as a position of die and/or a pattern in a die, to which the focus value is to be input by means of a position selecting switch <b>1211</b> of <figref idrefs="DRAWINGS">FIG. 33</figref>;</div>
<div class="description-paragraph" id="p-0268" num="0283">b) A step of setting a die pattern, which is required in automatic measuring of the focus value (it is to be noted that this step may be skipped if the focus value is not measured automatically); and</div>
<div class="description-paragraph" id="p-0269" num="0284">c) A step of setting a best focus value on the focus map coordinate determined in Step a).</div>
<div class="description-paragraph" id="p-0270" num="0285">It is to be noted that in Step a), the operator can designate any desired die, and alternatively it is possible to make a setting such that the operator may select all of the dies or every n pieces of dies. Further, the operator can select as an input screen a diagram schematically representing an array of dies within the wafer or an image using an actual image.</div>
<div class="description-paragraph" id="p-0271" num="0286">In Step c), the operator can set the best focus value on manual by using a manual switch <b>1213</b> in <figref idrefs="DRAWINGS">FIG. 33</figref>, or can select and set it automatically by using a focus switch <b>1212</b> operative in association with the voltage value of a focusing electrode or by using an auto-switch <b>1214</b>.</div>
<div class="description-paragraph" id="h-0020" num="0000">2. Procedure for Measuring the Focus Value</div>
<div class="description-paragraph" id="p-0272" num="0287">An exemplary procedure for automatically determining a focus value in the above Step c) includes:</div>
<div class="description-paragraph" id="p-0273" num="0288">a) A step of obtaining an image with the focus position Z=1 and calculating its contrast, as shown in <figref idrefs="DRAWINGS">FIG. 34</figref>;</div>
<div class="description-paragraph" id="p-0274" num="0289">b) A step of performing Step a) with respect to Z=2, 3 and 4, respectively;</div>
<div class="description-paragraph" id="p-0275" num="0290">c) A step of determining a contrast function through a regression from the contrast values obtained in Steps a) and b), and</div>
<div class="description-paragraph" id="p-0276" num="0291">d) A step of determining by an arithmetic operation the Z that can give a maximum value of the contrast function, and setting this value as the best focus value.</div>
<div class="description-paragraph" id="p-0277" num="0292">For example, if such a line and a space as shown in <figref idrefs="DRAWINGS">FIG. 35</figref> are chosen as the die pattern necessary for automatically measuring the focus value, a good result will be obtained. The contrast is measurable, if it includes a black and white pattern, regardless of its shape.</div>
<div class="description-paragraph" id="p-0278" num="0293">By executing the above Steps a) through d), the best focus value on one point can be determined. A data format at this time is represented by (X, Y, Z), or a set of the coordinate XY used in the determination of the focus with the best focus value Z, meaning that the focus map coordinate number (X, Y, Z) determined in the focus map recipe is existing. This is a part of the focus map recipe, and is referred to as a focus map file.</div>
<div class="description-paragraph" id="h-0021" num="0000">3. Procedure for Operating the Automatic-Focusing</div>
<div class="description-paragraph" id="p-0279" num="0294">A method for setting the best focus based on the focus map recipe, during the inspection operation for obtaining an image and the reviewing operation, may be performed in a following manner.</div>
<div class="description-paragraph" id="p-0280" num="0295">Firstly, the position data is further subdivided based on the focus map file <b>1</b> made at the time of making the focus map recipe, and the best focus at that time is determined by the calculation to thereby make a subdivided focus map file <b>2</b>. This calculation is executed by using an interpolation function, which may be specified by the operator during making the focus map recipe, for example, as a linear interpolation, a spline interpolation or the like. Secondly, the XY position of the stage is monitored, and a voltage to be applied to the focusing electrode is changed to the focus value specified in the focus map file <b>2</b>.</div>
<div class="description-paragraph" id="p-0281" num="0296">To explain more specifically, in <figref idrefs="DRAWINGS">FIGS. 36(A)</figref> through (C), assuming that a black dot indicates the focus value in the focus map file <b>1</b> and a white dot indicates the focus value in the focus map file <b>2</b>, then the focus values in the focus map file is used to interpolate the focus values in the focus map file, and the Z coordinate of the focusing position is changed in association with the scanning so as to maintain the best focusing. At that time, in the space between the specified points (indicated by the white dots) in the focus map file, a current value is used until the next changing point is encountered.</div>
<div class="description-paragraph" id="p-0282" num="0297"> <figref idrefs="DRAWINGS">FIG. 37</figref> shows an example of the manufacturing line using a defect inspection apparatus according to the present invention. It is designed such that the information, including a lot number of a wafer subject to the inspection with the inspection apparatus <b>1221</b> and a history indicating specific manufacturing apparatuses used to manufacture said wafer, can be read out of the memory arranged in the SMIF or FOUP <b>1222</b>, or otherwise its lot number can be identified by reading the ID number of the SMIF, FOUP or the wafer cassette.</div>
<div class="description-paragraph" id="p-0283" num="0298">The defect inspection apparatus <b>1221</b> is adapted to be connected with a network system of a production line, and via this network system <b>1223</b>, it can send the information such as a lot number of a wafer representing an object to be inspected and a result from inspection on the wafer to a production line controlling computer <b>1224</b> that controls the production line, respective manufacturing apparatuses <b>1225</b>, and other inspection apparatuses. The manufacturing apparatus may include lithography-related apparatuses, such as an exposure, a coater, a curing device, and a developer, or a film deposition apparatus, such as an etching device, a sputtering device and a CVD device, a CMP apparatus, a variety of types of measuring apparatuses and other inspection apparatuses.</div>
<div class="description-paragraph" id="p-0284" num="0299">In the inspection of the wafer, it is preferred from the viewpoint of the resolution that an image of a surface of the wafer can be obtained by controlling the electron beam to impinge upon the wafer and detecting the secondary electrons emanated from the wafer. Based on this understanding, the description has been so far centered mainly to the secondary electrons, the reflected electrons or the back-scattered electrons. However, the electrons to be detected may be any types of electrons in so far as the information on the surface of the substrate can be obtained therefrom, including, for example, mirror electrons (in a broad sense, referred to as reflected electrons) that do not directly impinge upon the substrate but are reflected in the vicinity of the substrate owing to the negative electric field formed in that region, or transmission electrons that are transmittable through the substrate. Especially, for the case of using the mirror electrons, in which the electrons do not directly impinge upon the sample, the effect of the charge-up can advantageously be made extremely low.</div>
<div class="description-paragraph" id="p-0285" num="0300">For the case of using the mirror electrons, a negative potential lower than the accelerating voltage is applied to the wafer, so that the negative electric field can be formed in the vicinity of the wafer. This negative potential should be favorably set to such a value sufficient to cause almost all of the electrons to be returned in the vicinity of the surface of the wafer. Specifically, the potential should be set to a value lower than the accelerating electrons by 0.5 to 1.0V or more. For example, in the present invention, for the case of accelerating voltage of −4 kV, preferably, the voltage to be applied to the sample should be in a range of −4.0005 kV to −40050 kV. More preferably, it should be in a range of −4.0005 kV to −40020 kV, and most preferably in a range of −4.0005 kV to −4.010 kV.</div>
<div class="description-paragraph" id="p-0286" num="0301">Further, for the case of using the transmission electrons, when the accelerating voltage is set at −4 kV, the voltage to be applied to the wafer should be in a range of 0 to −4 kV, preferably in a range of 0 to −3.9 kV, and more preferably in a range of 0 to −3.5 kV. Further, a light ray or an X-ray may be used. These rays are satisfactorily applicable to the alignment, the secondary system and the die comparison in the defect inspection apparatus according to the present invention.</div>
<div class="description-paragraph" id="p-0287" num="0302">Further, the electrons or the secondary beam to be detected in the defect inspection apparatus according to the present invention may be of any types in so far as the information on the sample surface is contained therein, including, not only the secondary electrons, the reflected electrons (also referred to as the mirror electrons) and the back-scattered electrons, but also those reflected electrons that are reflected in the vicinity of the sample without making the primary beam impinge upon the sample with the aid of the negative electric field formed in the vicinity of the sample. Further, the primary beam is not limited to the electrons but may be a light ray. In the case of the primary beam represented by the light ray, the secondary beam is also the light ray, and in the case of the UV ray to be used, the secondary beam may be formed by the electrons.</div>
<div class="description-paragraph" id="p-0288" num="0303">The present invention has been described with reference some embodiments, and it is understandable that an electron beam apparatus according to the invention is capable of reducing problems which are caused by stage guide distortion, orthogonal errors of the stage guide and so on, and inspecting with a high accurate and high throughput even if a stage is not located at a predetermined position, dies on a wafer are not located in line with theoretical ideal coordinate and/or a moving speed is not constant.</div>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">52</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM86810998">
<claim-statement>The invention claimed is:</claim-statement>
<div class="claim"> <div class="claim" id="CLM-00001" num="00001">
<div class="claim-text">1. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, and an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating the measured XY coordinates (x, y) on the basis of the calculated orthogonal error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the orthogonal error of the XY coordinates comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2); and
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>.</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00002" num="00002">
<div class="claim-text">2. The electron beam apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a micro-channel plate (MCP) for magnifying the secondary electrons, scibtillator coated on the lower surface of a fiber optical plate (FPO), for converting the magnified secondary electron beams to an optical signal, and a TDI detector for detecting the optical signal to provide an electrical signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00003" num="00003">
<div class="claim-text">3. The electron beam apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a TDI detector for detecting secondary electrons emitted from the sample surface to provide an electrical signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00004" num="00004">
<div class="claim-text">4. The electron beam apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the apparatus is of a multi-axis multi-beam type comprising:
<div class="claim-text">a plurality of primary electro-optical systems for irradiating multiple primary electron beams on a surface of the sample;</div>
<div class="claim-text">a plurality of secondary electro-optical systems associated with the primary electro-optical systems, respectively, for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beams; and</div>
<div class="claim-text">a plurality of detectors associated with the secondary electro-optical systems, respectively, for detecting the secondary electrons and generating electric signals corresponding to the detected electrons.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00005" num="00005">
<div class="claim-text">5. The electron beam apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise electron guns comprising an anode substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the anode substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00006" num="00006">
<div class="claim-text">6. The electron beam apparatus of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the respective primary electro-optical system have axes parallel to each other and perpendicular to the sample surface, and comprise objective lenses comprising a substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical system, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00007" num="00007">
<div class="claim-text">7. The electron beam apparatus of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the primary electro-optical systems are adapted to rotate around an axis passing through the center of the sample, so that when the sample has a plurality of dies aligned on the sample surface, the same positions of the dies can be irradiated by the primary electron beams from the electron guns, respectively.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00008" num="00008">
<div class="claim-text">8. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy, and an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating deflection of secondary electrons emitted from the sample surface on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y) comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinate as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>; and</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, d<sub>2</sub>, e<sub>1 </sub>and e<sub>2 </sub>into the following Equations (3) and (4),
<div class="claim-text"> <br/>Δ<i>x=d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
</div>
<div class="claim-text"> <br/>Δ<i>y=d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4).
</div>
</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00009" num="00009">
<div class="claim-text">9. The electron beam apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing the secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a micro-channel plate (MCP) for magnifying the secondary electrons, scibtillator coated on the lower surface of a fiber optical plate (FPO), for converting the magnified secondary electron beams to an optical signal, and a TDI detector for detecting the optical signal to provide an electrical signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00010" num="00010">
<div class="claim-text">10. The electron beam apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing the secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a TDI detector for detecting secondary electrons emitted from the sample surface to provide an electrical signal.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00011" num="00011">
<div class="claim-text">11. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy, and an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating deflection of a primary electron beam to be irradiated to the sample surface on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y) comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinate as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>; and</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, d<sub>2</sub>, e<sub>1 </sub>and e<sub>2 </sub>into the following Equations (3) and (4),
<div class="claim-text"> <br/>Δ<i>x=d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
</div>
<div class="claim-text"> <br/>Δ<i>y=d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4).
</div>
</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00012" num="00012">
<div class="claim-text">12. The electron beam apparatus of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the apparatus is of a multi-axis multi-beam type comprising:
<div class="claim-text">a plurality of primary electro-optical systems for irradiating multiple primary electron beams on the sample surface, each primary electro-optical system including the compensation means which comprises a deflector for deflecting the primary electron beam;</div>
<div class="claim-text">a plurality of secondary electro-optical systems associated with the primary electro-optical systems, respectively, for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beams; and</div>
<div class="claim-text">a plurality of detectors associated with the secondary electro-optical systems, respectively, for detecting the secondary electrons and generating electric signals corresponding to the detected electrons.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00013" num="00013">
<div class="claim-text">13. The electron beam apparatus of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise electron guns comprising an anode substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the anode substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00014" num="00014">
<div class="claim-text">14. The electron beam apparatus of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise objective lenses comprising a substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00015" num="00015">
<div class="claim-text">15. The electron beam apparatus of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the primary electro-optical systems are adapted to rotate around an axis passing through the center of the sample, so that when the sample has a plurality of dies aligned on the sample surface, the same positions of the dies can be irradiated by the primary electron beams from the electron guns, respectively.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00016" num="00016">
<div class="claim-text">16. A method of compensating an error regarding a stage position in an electron beam apparatus for inspecting a pattern on a sample using an electron beam, comprising:
<div class="claim-text">calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample from a calculated ideal position XY coordinate of the reference point, and an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">compensating the measured XY coordinates (x, y) on the basis of the calculated orthogonal error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the orthogonal error of the XY coordinates comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2); and
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinate as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>.</div>
</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00017" num="00017">
<div class="claim-text">17. A method of compensating an error regarding a stage position in an electron beam apparatus for inspecting a pattern on a sample using an electron beam, comprising:
<div class="claim-text">calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample from a calculated ideal position XY coordinate of the reference point;</div>
<div class="claim-text">calculating an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy;</div>
<div class="claim-text">calculating an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">compensating deflection by a beam deflector disposed in a secondary electro-optical system on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y) comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinate as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>; and</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, d<sub>2</sub>, e<sub>1 </sub>and e<sub>2 </sub>into the following Equations (3) and (4),
<div class="claim-text"> <br/>Δ<i>x=d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
</div>
<div class="claim-text"> <br/>Δ<i>y=d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4).
</div>
</div>
</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00018" num="00018">
<div class="claim-text">18. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, and an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating the measured XY coordinates (x, y) on the basis of the calculated orthogonal error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the orthogonal error of the XY coordinates comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜c<sub>1 </sub>and a<sub>2</sub>˜c<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (2); and
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>.</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00019" num="00019">
<div class="claim-text">19. The electron beam apparatus of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a micro-channel plate (MCP) for magnifying the secondary electrons, scibtillator coated on the lower surface of a fiber optical plate (FPO), for converting the magnified secondary electron beams to an optical signal, and a TDI detector for detecting the optical signal to provide an electrical signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00020" num="00020">
<div class="claim-text">20. The electron beam apparatus of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a TDI detector for detecting secondary electrons emitted from the sample surface to provide an electrical signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00021" num="00021">
<div class="claim-text">21. The electron beam apparatus of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the apparatus is of a multi-axis multi-beam type comprising:
<div class="claim-text">a plurality of primary electro-optical systems for irradiating multiple primary electron beams on a surface of the sample;</div>
<div class="claim-text">a plurality of secondary electro-optical systems associated with the primary electro-optical systems, respectively, for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beams; and</div>
<div class="claim-text">a plurality of detectors associated with the secondary electro-optical systems, respectively, for detecting the secondary electrons and generating electric signals corresponding to the detected electrons.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00022" num="00022">
<div class="claim-text">22. The electron beam apparatus of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise electron guns comprising an anode substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the anode substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00023" num="00023">
<div class="claim-text">23. The electron beam apparatus of <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise objective lenses comprising a substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00024" num="00024">
<div class="claim-text">24. The electron beam apparatus of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the primary electro-optical systems are adapted to rotate around an axis passing through the center of the sample, so that when the sample has a plurality of dies aligned on the sample surface, the same positions of the dies can be irradiated by the primary electron beams from the electron guns, respectively.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00025" num="00025">
<div class="claim-text">25. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy, and an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating deflection of secondary electrons emitted from the sample surface on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y) comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>;</div>
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy Equations (1) and (2) through recursive processing, on the basis of the coordinate error (Δx, Δy) after the orthogonal error has been corrected; and</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2</sub>.</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00026" num="00026">
<div class="claim-text">26. The electron beam apparatus of <claim-ref idref="CLM-00025">claim 25</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing the secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a micro-channel plate (MCP) for magnifying the secondary electrons, scibtillator coated on the lower surface of a fiber optical plate (FPO), for converting the magnified secondary electron beams to an optical signal, and a TDI detector for detecting the optical signal to provide an electrical signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00027" num="00027">
<div class="claim-text">27. The electron beam apparatus of <claim-ref idref="CLM-00025">claim 25</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing the secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a TDI detector for detecting secondary electrons emitted from the sample surface to provide an electrical signal.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00028" num="00028">
<div class="claim-text">28. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy, and an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating deflection of a primary electron beam to be irradiated to the sample surface on the basis of the calculated mirror distortion error upon inspecting the sample;</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y) comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>;</div>
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy Equations (1) and (2) through recursive processing, on the basis of the coordinate error (Δx, Δy) after the orthogonal error has been corrected; and</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients a<sub>1 </sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2</sub>.</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00029" num="00029">
<div class="claim-text">29. The electron beam apparatus of <claim-ref idref="CLM-00028">claim 28</claim-ref>, wherein the apparatus is of a multi-axis multi-beam type comprising:
<div class="claim-text">a plurality of primary electro-optical systems for irradiating multiple primary electron beams on the sample surface, each primary electro-optical system including the compensation means which comprises a deflector for deflecting the primary electron beam;</div>
<div class="claim-text">a plurality of secondary electro-optical systems associated with the primary electro-optical systems, respectively, for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beams; and</div>
<div class="claim-text">a plurality of detectors associated with the secondary electro-optical systems, respectively, for detecting the secondary electrons and generating electric signals corresponding to the detected electrons.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00030" num="00030">
<div class="claim-text">30. The electron beam apparatus of <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise electron guns comprising an anode substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the anode substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00031" num="00031">
<div class="claim-text">31. The electron beam apparatus of <claim-ref idref="CLM-00030">claim 30</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise objective lenses comprising a substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00032" num="00032">
<div class="claim-text">32. The electron beam apparatus of <claim-ref idref="CLM-00031">claim 31</claim-ref>, wherein the primary electro-optical systems are adapted to rotate around an axis passing through the center of the sample, so that when the sample has a plurality of dies aligned on the sample surface, the same positions of the dies can be irradiated by the primary electron beams from the electron guns, respectively.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00033" num="00033">
<div class="claim-text">33. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy, and an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating deflection of secondary electrons emitted from the sample surface on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y) comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>;</div>
<div class="claim-text">recursive processing for obtaining coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>which satisfy the following Equations (3) and (4), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
</div>
<div class="claim-text"> <br/>Δ<i>y=d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4); and
</div>
</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>into Equations (3) and (4).</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00034" num="00034">
<div class="claim-text">34. The electron beam apparatus of <claim-ref idref="CLM-00033">claim 33</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing the secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a micro-channel plate (MCP) for magnifying the secondary electrons, scibtillator coated on the lower surface of a fiber optical plate (FPO), for converting the magnified secondary electron beams to an optical signal, and a TDI detector for detecting the optical signal to provide an electrical signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00035" num="00035">
<div class="claim-text">35. The electron beam apparatus of <claim-ref idref="CLM-00033">claim 33</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing the secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a TDI detector for detecting secondary electrons emitted from the sample surface to provide an electrical signal.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00036" num="00036">
<div class="claim-text">36. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy, and an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating deflection of a primary electron beam to be irradiated to the sample surface on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y) comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>;</div>
<div class="claim-text">recursive processing for obtaining coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>which satisfy the following Equations (3) and (4), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
</div>
<div class="claim-text"> <br/>Δ<i>y=d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4); and
</div>
</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>into Equations (3) and (4).</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00037" num="00037">
<div class="claim-text">37. The electron beam apparatus of <claim-ref idref="CLM-00036">claim 36</claim-ref>, wherein the apparatus is of a multi-axis multi-beam type comprising:
<div class="claim-text">a plurality of primary electro-optical systems for irradiating multiple primary electron beams on the sample surface, each primary electro-optical system including the compensation means which comprises a deflector for deflecting the primary electron beam;</div>
<div class="claim-text">a plurality of secondary electro-optical systems associated with the primary electro-optical systems, respectively, for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beams; and</div>
<div class="claim-text">a plurality of detectors associated with the secondary electro-optical systems, respectively, for detecting the secondary electrons and generating electric signals corresponding to the detected electrons.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00038" num="00038">
<div class="claim-text">38. The electron beam apparatus of <claim-ref idref="CLM-00037">claim 37</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise electron guns comprising an anode substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the anode substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00039" num="00039">
<div class="claim-text">39. The electron beam apparatus of <claim-ref idref="CLM-00038">claim 38</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise objective lenses comprising a substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00040" num="00040">
<div class="claim-text">40. The electron beam apparatus of <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein the primary electro-optical systems are adapted to rotate around an axis passing through the center of the sample, so that when the sample has a plurality of dies aligned on the sample surface, the same positions of the dies can be irradiated by the primary electron beams from the electron guns, respectively.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00041" num="00041">
<div class="claim-text">41. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy, and an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating deflection of secondary electrons emitted from the sample surface on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y) comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1</sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>;</div>
<div class="claim-text">recursive processing for obtaining coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>which satisfy the following Equations (3) and (4), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4); and
</div>
</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>into Equations (3) and (4).</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00042" num="00042">
<div class="claim-text">42. The electron beam apparatus of <claim-ref idref="CLM-00041">claim 41</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing the secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a micro-channel plate (MCP) for magnifying the secondary electrons, scibtillator coated on the lower surface of a fiber optical plate (FPO), for converting the magnified secondary electron beams to an optical signal, and a TDI detector for detecting the optical signal to provide an electrical signal.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00043" num="00043">
<div class="claim-text">43. The electron beam apparatus of <claim-ref idref="CLM-00041">claim 41</claim-ref>, wherein the apparatus is of an image projection type and comprises a primary electro-optical system for irradiating a primary electron beam on the sample surface and a secondary electro-optical system for inducing the secondary electrons emitted from the sample surface by irradiation of the primary electron beam, and wherein the secondary electro-optical system has an axis substantially perpendicular to the sample surface and comprises a TDI detector for detecting secondary electrons emitted from the sample surface to provide an electrical signal.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00044" num="00044">
<div class="claim-text">44. An electron beam apparatus for inspecting a surface of a sample using an electron beam, comprising:
<div class="claim-text">a processor for calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample surface from a calculated ideal position XY coordinate of the reference point, an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy, and an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">means for compensating deflection of a primary electron beam to be irradiated to the sample surface on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y) comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>;</div>
<div class="claim-text">recursive processing for obtaining coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>which satisfy the following Equations (3) and (4), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4); and
</div>
</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>into Equations (3) and (4).</div>
</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00045" num="00045">
<div class="claim-text">45. The electron beam apparatus of <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the apparatus is of a multi-axis multi-beam type comprising:
<div class="claim-text">a plurality of primary electro-optical systems for irradiating multiple primary electron beams on the sample surface, each primary electro-optical system including the compensation means which comprises a deflector for deflecting the primary electron beam;</div>
<div class="claim-text">a plurality of secondary electro-optical systems associated with the primary electro-optical systems, respectively, for inducing secondary electrons emitted from the sample surface by irradiation of the primary electron beams; and</div>
<div class="claim-text">a plurality of detectors associated with the secondary electro-optical systems, respectively, for detecting the secondary electrons and generating electric signals corresponding to the detected electrons.</div>
</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00046" num="00046">
<div class="claim-text">46. The electron beam apparatus of <claim-ref idref="CLM-00045">claim 45</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise electron guns comprising an anode substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the anode substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00047" num="00047">
<div class="claim-text">47. The electron beam apparatus of <claim-ref idref="CLM-00046">claim 46</claim-ref>, wherein the respective primary electro-optical systems have axes parallel to each other and perpendicular to the sample surface, and comprise objective lenses comprising a substrate in common having multiple through-holes located correspondingly to the axes of the respective primary electro-optical systems, and wherein inner surfaces of the through-holes and vicinities of the through-holes on the substrate are coated with a metal, to apply voltages to the metal-coated through-holes independently.</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" id="CLM-00048" num="00048">
<div class="claim-text">48. The electron beam apparatus of <claim-ref idref="CLM-00047">claim 47</claim-ref>, wherein the primary electro-optical systems are adapted to rotate around an axis passing through the center of the sample, so that when the sample has a plurality of dies aligned on the sample surface, the same positions of the dies can be irradiated by the primary electron beams from the electron guns, respectively.</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00049" num="00049">
<div class="claim-text">49. A method of compensating an error regarding a stage position in an electron beam apparatus for inspecting a pattern on a sample using an electron beam, comprising:
<div class="claim-text">calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample from a calculated ideal position XY coordinate of the reference point, and an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">compensating the measured XY coordinates (x, y) on the basis of the calculated orthogonal error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the orthogonal error of the XY coordinates comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜c<sub>1 </sub>and a<sub>2</sub>˜c<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (2); and
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>.</div>
</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00050" num="00050">
<div class="claim-text">50. A method of compensating an error regarding a stage position in an electron beam apparatus for inspecting a pattern on a sample using an electron beam, comprising:
<div class="claim-text">calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample from a calculated ideal position XY coordinate of the reference point;</div>
<div class="claim-text">calculating an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy;</div>
<div class="claim-text">calculating an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">compensating deflection by a beam deflector disposed in a secondary electro-optical system on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinates (x, y)comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>;</div>
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy Equations (1) and (2) through recursive processing, on the basis of the coordinate error (Δx, Δy) after the orthogonal error has been corrected; and</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2</sub>.</div>
</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00051" num="00051">
<div class="claim-text">51. A method of compensating an error regarding a stage position in an electron beam apparatus for inspecting a pattern on a sample using an electron beam, comprising:
<div class="claim-text">calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample from a calculated ideal position XY coordinate of the reference point;</div>
<div class="claim-text">calculating an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy;</div>
<div class="claim-text">calculating an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">compensating deflection by a beam deflector disposed in a secondary electro-optical system on the basis of the calculated mirror distortion error upon inspecting the sample;</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y)comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>;</div>
<div class="claim-text">recursive processing for obtaining coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>which satisfy the following Equations (3) and (4), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
</div>
<div class="claim-text"> <br/>Δ<i>y=d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4); and
</div>
</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>into Equations (3) and (4).</div>
</div>
</div>
</div>
</div> <div class="claim"> <div class="claim" id="CLM-00052" num="00052">
<div class="claim-text">52. A method of compensating an error regarding a stage position in an electron beam apparatus for inspecting a pattern on a sample using an electron beam, comprising:
<div class="claim-text">calculating coordinate errors Δx and Δy of a measured XY coordinate (x, y) of each of arbitrary reference points on the sample from a calculated ideal position XY coordinate of the reference point;</div>
<div class="claim-text">calculating an orthogonal error of the XY coordinates based on the calculated coordinate errors Δx and Δy;</div>
<div class="claim-text">calculating an error due to mirror distortion of an interferometer of the electron beam apparatus on the basis of the calculated coordinate errors Δx and Δy; and</div>
<div class="claim-text">compensating deflection by a beam deflector disposed in a secondary electro-optical system on the basis of the calculated mirror distortion error upon inspecting the sample,</div>
<div class="claim-text">wherein the calculation of the coordinate errors Δx and Δy and the orthogonal error of the measured XY coordinate (x, y)coordinates comprises:
<div class="claim-text">recursive processing for obtaining coefficients a<sub>1</sub>˜e<sub>1 </sub>and a<sub>2</sub>˜e<sub>2 </sub>which satisfy the following Equations (1) and (2), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y</i>  (1)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y</i>  (2);
</div>
</div>
<div class="claim-text">calculating the orthogonal error of the XY coordinates as a difference between the obtained coefficients c<sub>1 </sub>and b<sub>2</sub>;</div>
<div class="claim-text">recursive processing for obtaining coefficients d<sub>1</sub>, e<sub>1</sub>, d<sub>2 </sub>and e<sub>2 </sub>which satisfy the following Equations (3) and (4), through recursive processing,
<div class="claim-text"> <br/>Δ<i>x=a</i> <sub>1</sub> <i>+b</i> <sub>1</sub> <i>x+c</i> <sub>1</sub> <i>y+d</i> <sub>1</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>1</sub> <i>y</i> <sup>2</sup>  (3)
</div>
<div class="claim-text"> <br/>Δ<i>y=a</i> <sub>2</sub> <i>+b</i> <sub>2</sub> <i>x+c</i> <sub>2</sub> <i>y+d</i> <sub>2</sub> <i>x</i> <sup>2</sup> <i>+e</i> <sub>2</sub> <i>y</i> <sup>2</sup>  (4); and
</div>
</div>
<div class="claim-text">calculating the coordinate error (Δx, Δy) as the mirror distortion error, by substituting an XY coordinate (x, y) provided from the interferometer upon driving the electron beam apparatus, into equations which are derived by substituting the obtained coefficients d<sub>1</sub>, e<sub>l</sub>, d<sub>2 </sub>and e<sub>2 </sub>into Equations (3) and (4).</div>
</div>
</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    