
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">CN107866058A - 一种基于多层映射解析定位的乒乓球运动系统 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="ZH" load-source="patent-office" mxw-id="PA319034508">
<div class="abstract" num="0001">本发明公开了一种基于多层映射解析定位的乒乓球运动系统。其由垂直多层映射传感器组、平行多层映射传感器组、焦距调节控制器、配备压力传感器的乒乓球拍以及根据多层映射解析计算位置的服务器组成。其中，配备压力传感器的乒乓球拍属于可选项。垂直多层映射传感器组和平行多层映射传感器组分别拍摄灰度图像，然后将灰度图像发送至根据映射解析计算位置的服务器；焦距调节控制器根据服务器发送的切换指令切换垂直多层映射传感器组和平行多层映射传感器组中灰度相机的焦距；配备压力传感器的乒乓球拍获取压力传感数据，然后将压力传感数据发送至服务器。本发明解决了现有基于物联网的乒乓球运动系统缺乏实时计算乒乓球位置功能的问题。</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="ZH" load-source="patent-office" mxw-id="PDES132763648">
<div class="description-paragraph">一种基于多层映射解析定位的乒乓球运动系统</div>
<technical-field>
<div class="description-paragraph">技术领域</div>
<div class="description-paragraph">[0001]本发明属于智能兵兵球运动技术领域，特别是涉及一种基于多层映射解析定位的 兵兵球运动系统。</div>
</technical-field>
<background-art>
<div class="description-paragraph">背景技术</div>
<div class="description-paragraph">[0002]目前对乒乓球运动进行监测的技术主要有两类，一种是计算机视觉分析方法，一 种是信号触发判断方法。</div>
<div class="description-paragraph">[0003]计算机视觉分析方法主要通过多台高速高清摄像机实时采集兵兵球运动时的录 像，对录像中的每个图像进行目标识别和空间定位后形成数据，再通过滤波和跟踪计算出 乒乓球轨迹，该方法的缺点是计算复杂度高，对设备的性能要求高。</div>
<div class="description-paragraph">[0004] 信号触发判断方法是通过安装在乒乓球台和球网的压电传感器获取因受到乒乓 球的撞击而产生的信号，比较多个信号的强度和产生时间，计算乒乓球的撞击位置和大致 的运动轨迹，该方案的缺点是不能定位乒乓球在空中的位置，定位准确度低。</div>
</background-art>
<disclosure>
<div class="description-paragraph">发明内容</div>
<div class="description-paragraph">[0005] 本发明所要解决的技术问题是现有基于物联网的乒乓球运动系统缺乏实时计算 乒乓球位置的功能，提出一种基于多层映射解析定位的乒乓球运动系统。</div>
<div class="description-paragraph">[0006] 多层映射解析定位是指用不同焦距的灰度相机以纯色幕布为背景拍照获取不同 范围的映射图像，准确识别物体在不同范围背景上的映射位置，根据多组相机的位置及物 体的映射位置实现物体定位。</div>
<div class="description-paragraph">[0007]本发明的基于多层映射解析定位的乒乓球运动系统由垂直多层映射传感器组、平 行多层映射传感器组、焦距调节控制器、配备压力传感器的乒乓球拍以及根据多层映射解 析计算位置的服务器组成。其中，配备压力传感器的乒乓球拍属于可选项。</div>
<div class="description-paragraph">[0008]垂直多层映射传感器组:垂直多层映射传感器组包括一个部署于乒乓球桌正上方 的可调节焦距的灰度相机和一个由乒乓球桌面及周围地面构成的近乎纯色的背景，其中可 调节焦距的灰度相机固定在乒乓球桌正上方一定高度处，其镜头垂直朝向乒乓球桌面;可 调节焦距的灰度相机包含多个不同焦距的相机镜头，不同焦距镜头的映射范围不同，最大 的映射范围为乒乓球桌面及周围地面的区域;灰度相机拍摄灰度图像，然后将灰度图像发 送至根据多层映射解析计算位置的服务器。</div>
<div class="description-paragraph">[0009]平行多层映射传感器组:平行映射传感器组包括一个部署于乒乓球桌侧方的可调 节焦距的灰度相机和一个悬挂在乒兵球桌侧方的纯色幕布，其中可调节焦距的灰度相机固 定在乒乓球网所在平面上，与乒乓球桌有一定水平距离且略高于乒乓球桌的侧方位置，其 镜头朝向乒乓球桌，纯色幕布悬挂在与乒乓球网所在平面垂直且与乒乓球桌有一定距离的 另一侧位置，幕布悬挂后的高度和宽度均大于乒乓球被球拍击打范围和飞行范围；可调节 焦距的灰度相机包含多个不同焦距的相机镜头，不同焦距镜头的映射范围不同，最大的映 射范围是整个纯色幕布的区域;灰度相机拍摄灰度图像，然后将灰度图像发送至根据多层 映射解析计算位置的服务器；</div>
<div class="description-paragraph">[0010]焦距调节控制器:焦距调节控制器通过切换指令实现相机不同焦距转换功能;相 机焦距切换条件为:灰度相机为较大焦距镜头时，若设定的时间T内拍摄的图像中均未出现 与乒乓球匹配的物体，则切换至较小焦距的镜头;灰度相机为较小焦距镜头时，若时间T内 所拍摄的图像中均出现与乒乓球匹配的物体，则切换至较大焦距的镜头。</div>
<div class="description-paragraph">[0011]配备压力传感器的乒乓球拍:乒乓球拍包括手柄、基板以及贴在基板上左右对称 的胶皮，其中左、右胶皮与基板之间缝隙处部署压力传感器，压力传感器获取压力传感数 据，然后将压力传感数据发送至根据多层映射解析计算位置的服务器。</div>
<div class="description-paragraph">[0012]根据多层映射解析计算位置的服务器:获取垂直多层映射传感器组和平行多层映 射传感器组发送的图像，识别图像中是否存在乒乓球图形，判断是否需要切换焦距;发出焦 距切换指令;根据垂直和水平多层映射传感器组中灰度相机的位置与乒乓球在映射图像中 的位置计算乒乓球的空间位置;获取乒乓球拍中压力传感器检测的压力传感数据，计算乒 乓球拍撞击乒乓球的位置和力度。</div>
<div class="description-paragraph">[0013]本发明的基于多层映射解析定位的乒乓球运动系统，如图1所示，根据多层映射解 析计算位置的服务器简称为服务器，黑色实心圆点表示兵兵球在两个灰度图像中的映射 点，带箭头的虚线表示信号传送给服务器，不带箭头的虚直线表示映射。垂直多层映射传感 器组和平行多层映射传感器组分别拍摄灰度图像，然后将灰度图像发送至根据映射解析计 算位置的服务器;焦距调节控制器根据服务器发送的切换指令实现垂直多层映射传感器组 和平行多层映射传感器组中灰度相机的焦距转换功能;配备压力传感器的乒乓球拍获取压 力传感数据，然后将压力传感数据发送至根据多层映射解析计算位置的服务器。</div>
<div class="description-paragraph">[0014]本发明的方法及系统具有的优点是：</div>
<div class="description-paragraph">[0015] (1)提出一种包含乒乓球、球拍、球网和球台的基于多层映射解析定位的完整乒兵 球运动系统。</div>
<div class="description-paragraph">[0016] (2)采用可调节焦距的灰度相机实现多层映射解析定位，可以更准确、更快捷地进 行乒乓球的实时定位。</div>
</disclosure>
<description-of-drawings>
<div class="description-paragraph">附图说明</div>
<div class="description-paragraph">[0017]图1是本发明的基于多层映射解析定位的兵兵球运动系统的结构示意图；</div>
<div class="description-paragraph">[0018] 图2是本发明实施例的垂直和平行多层映射传感器组、焦距调节控制器及乒乓球 桌的三视图；</div>
<div class="description-paragraph">[0019] 图3是本发明实施例的安装物联网装置的乒乓球拍的三视图。</div>
</description-of-drawings>
<mode-for-invention>
<div class="description-paragraph">具体实施方式</div>
<div class="description-paragraph">[0020] 下面对本发明优选实施例作详细说明。</div>
<div class="description-paragraph">[0021]多层映射解析定位是指用不同焦距的灰度相机以纯色幕布为背景拍照获取不同 范围的映射图像，准确识别物体在不同范围背景上的映射位置，根据多组相机的位置及物 体的映射位置实现物体定位。</div>
<div class="description-paragraph">[0022]本发明的基于多层映射解析定位的乒乓球运动系统由垂直多层映射传感器组、平 行多层映射传感器组、焦距调节控制器、配备压力传感器的乒乓球拍以及根据多层映射解 析计算位置的服务器组成。其中，配备压力传感器的乒乓球拍属于可选项。</div>
<div class="description-paragraph">[0023]垂直多层映射传感器组:垂直多层映射传感器组包括一个部署于乒乓球桌正上方 的可调节焦距的灰度相机和一个由乒乓球桌面及周围地面构成的近乎纯色的背景，其中可 调节焦距的灰度相机固定在乒乓球桌正上方一定高度处，其镜头垂直朝向乒乓球桌面;可 调节焦距的灰度相机包含多个不同焦距的相机镜头，不同焦距镜头的映射范围不同，最大 的映射范围为乒乓球桌面及周围地面的区域;灰度相机拍摄灰度图像，然后将灰度图像发 送至根据多层映射解析计算位置的服务器。本实施例中，垂直多层映射传感器组的可调焦 距的灰度相机的镜头规格为1/2〃，CS型接口，镜头焦距为3 • 6毫米(mm)和2 • 6毫米(mm)两种， 记为灰度相机1;垂直多层映射传感器组的灰度相机与乒乓球桌面的最佳距离为3米，如图2 所示，标号11为乒乓球桌面，标号I2为球网，标号13为球桌支撑，标号14为乒乓球桌连接固 定结构，标号21为灰度相机1，标号22为灰度相机2,标号23为纯色幕布。灰度相机1的焦距为 3.6mm的镜头覆盖乒乓球桌面区域，灰度相机1的2.8mtn焦距的镜头覆盖乒乓球桌面及周围 地面的区域;灰度相机1拍摄灰度图像，然后将灰度图像通过已有的物联网通信装置发送至 根据多层映射解析计算位置的服务器。</div>
<div class="description-paragraph">[0024]平行多层映射传感器组:平行映射传感器组包括一个部署于乒乓球桌侧方的可调 节焦距的灰度相机和一个悬挂在乒乓球桌侧方的纯色幕布，其中可调节焦距的灰度相机固 定在乒乓球网所在平面上，与乒乓球桌有一定水平距离且略高于乒乓球桌的侧方位置，其 镜头朝向乒乓球桌，纯色幕布悬挂在与乒乓球网所在平面垂直且与乒乓球桌有一定距离的 另一侧位置，幕布悬挂后的高度和宽度均大于乒乓球被球拍击打范围和飞行范围；可调节 焦距的灰度相机包含多个不同焦距的相机镜头，不同焦距镜头的映射范围不同，最大的映 射范围是整个纯色幕布的区域;灰度相机拍摄灰度图像，然后将灰度图像发送至根据多层 映射解析计算位置的服务器;本实施例中，平行多层映射传感器组的可调焦距的灰度相机 的镜头规格为1/2〃，CS型接口，镜头焦距为3 • 6mm和2.6mm两种，记为灰度相机2，平行多层映 射传感器组的灰度相机与乒乓球桌的最佳水平距离为2米、垂直距离为1米;平行多层映射 传感器组的纯色幕布悬挂在与乒乓球网所在平面垂直且距离乒乓球桌另一侧1米的侧方位 置，幕布尺寸为5000mm X 5000mm (毫米），如图2所示，标号11为兵兵球桌面，标号12为球网， 标号13为球桌支撑，标号14为乒乓球桌连接固定结构，标号21为灰度相机1，标号22为灰度 相机2,标号23为纯色幕布。灰度相机2的焦距为3.6mm的镜头覆盖幕布中心区域，灰度相机2 的2.8毫米焦距的镜头覆盖完整的幕布区域;灰度相机2拍摄灰度图像，然后将灰度图像通 过已有的物联网通信装置发送至根据多层映射解析计算位置的服务器。</div>
<div class="description-paragraph">[0025]焦距调节控制器:焦距调节控制器通过切换指令实现相机不同焦距转换功能；相 机焦距切换条件为:灰度相机为较大焦距镜头时，若设定的时间T内拍摄的图像中均未出现 与乒乓球匹配的物体，则切换至较小焦距的镜头;灰度相机为较小焦距镜头时，若时间丁内 所拍摄的图像中均出现与乒乓球匹配的物体，则切换至较大焦距的镜头。本实施例中，当焦 距调节控制器接收到根据多层映射解析计算位置的服务器发送的相机焦距切换指令后，通 过电子或机械方式控制相机完成镜头转换，如图2所示，标号24为焦距调节控制器。设置切 换时间阈值T二15毫秒(ms)，灰度相机为3.6mm焦距时，若在15ms内拍摄的图像中均未出现 与乒乓球匹配的物体，则将相机焦距调节为2.8mm;灰度相机为2 • 8mm焦距时，若在15ms内拍 摄的图像中均出现与乒乓球匹配的物体，则将相机焦距调节为3.6mm。</div>
<div class="description-paragraph">[0026]配备压力传感器的乒乓球拍:乒乓球拍包括手柄、基板以及贴在基板上左右对称 的胶皮，其中左、右胶皮与基板之间缝隙处部署压力传感器，压力传感器获取压力传感数 据，然后将压力传感数据发送至根据多层映射解析计算位置的服务器。本实施例中，配备压 力传感器的乒乓球拍如图3的三视图所示，标号1表示球拍面，标号11表示基板，标号12表示 压电薄膜传感器，标号13表示左右胶皮，标号2表示球拍柄，其中压电薄膜传感器部署在左、 右胶皮与基板之间并按照顺序编号，压电薄膜传感器检测压力传感数据，然后将压力传感 数据发送至根据多层映射解析计算位置的服务器。</div>
<div class="description-paragraph">[0027] 根据多层映射解析计算位置的服务器:获取垂直多层映射传感器组和平行多层映 射传感器组发送的图像，识别图像中是否存在乒乓球图形，判断是否需要切换焦距;发出焦 距切换指令;根据垂直和水平多层映射传感器组中灰度相机的位置与乒乓球在映射图像中 的位置计算乒乓球的空间位置;获取乒乓球拍中压力传感器检测的压力传感数据，计算乒 乓球拍撞击乒乓球的位置和力度。本实施例中，乒乓球定位过程:首先构建基于乒乓球桌的 三轴坐标系，获取灰度相机1和灰度相机2按照初始焦距镜头拍摄的灰度图像，根据已有的 灰度图像匹配算法判断判断是否切换相机焦距，发出焦距切换指令;根据已有的图像匹配 算法计算乒乓球在映射图像中的位置坐标，根据灰度相机1和灰度相机2的已知坐标以及两 个映射图像中乒乓球的位置坐标计算乒乓球的空间坐标值。另外，根据乒乓球拍部署的多 个压电薄膜传感器把球拍面划分为多个区域并编号，压电薄膜传感器位于各区域的中心； 获取球拍面中压电薄膜传感器检测的电压数据，根据电压数据及对应的区域编号判断乒乓 球拍撞击乒乓球的力度和位置。</div>
<div class="description-paragraph">[0028]当然，本技术领域中的普通技术人员应当认识到，以上实施例仅是用来说明本发 明的，而并非作为对本发明的限定，只要在本发明的范围内，对以上实施例的变化、变型都 将落入本发明的保护范围。</div>
</mode-for-invention>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">10</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="ZH" load-source="patent-office" mxw-id="PCLM126156725">
<div class="claim"> <div class="claim" num="1">
<div class="claim-text">1.一种基于多层映射解析定位的乒乓球运动系统，其特征在于由垂直多层映射传感器 组、平行多层映射传感器组、焦距调节控制器以及根据多层映射解析计算位置的服务器组 成。</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" num="2">
<div class="claim-text">2. 根据权利要求1所述的基于多层映射解析定位的兵兵球运动系统，其垂直多层映射 传感器组的特征在于：垂直多层映射传感器组包括一个部署于兵兵球桌正上方的可调节焦 距的灰度相机和一个由兵兵球桌面及周围地面构成的近乎纯色的背景，其中可调节焦距的 灰度相机固定在乒乓球桌正上方一定高度处，其镜头垂直朝向乒乓球桌面;可调节焦距的 灰度相机包含多个不同焦距的相机镜头，不同焦距镜头的映射范围不同，最大的映射范围 为乒乓球桌面及周围地面的区域;灰度相机拍摄灰度图像，然后将灰度图像发送至根据多 层映射解析计算位置的服务器。</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" num="3">
<div class="claim-text">3. 根据权利要求1所述的基于多层映射解析定位的兵兵球运动系统，其平行多层映射 传感器组的特征在于:平行映射传感器组包括一个部署于乒乓球桌侧方的可调节焦距的灰 度相机和一个悬挂在乒乓球桌侧方的纯色幕布，其中可调节焦距的灰度相机固定在乒乓球 网所在平面上，与乒乓球桌有一定水平距离且略高于乒乓球桌的侧方位置，其镜头朝向乒 乓球桌，纯色幕布悬挂在与乒乓球网所在平面垂直且与乒乓球桌有一定距离的另一侧位 置，幕布悬挂后的高度和宽度均大于乒乓球被球拍击打范围和飞行范围；可调节焦距的灰 度相机包含多个不同焦距的相机镜头，不同焦距镜头的映射范围不同，最大的映射范围是 整个纯色幕布的区域;灰度相机拍摄灰度图像，然后将灰度图像发送至根据多层映射解析 计算位置的服务器。</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" num="4">
<div class="claim-text">4.根据权利要求1所述的基于多层映射解析定位的乒乓球运动系统，其焦距调节控制 器的特征在于:焦距调节控制器通过切换指令实现相机不同焦距转换功能；相机焦距切换 条件为:灰度相机为较大焦距镜头时，若设定的时间T内拍摄的图像中均未出现与乒乓球匹 配的物体，则切换至较小焦距的镜头;灰度相机为较小焦距镜头时，若时间T内所拍摄的图 像中均出现与乒乓球匹配的物体，则切换至较大焦距的镜头。</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" num="5">
<div class="claim-text">5. 根据权利要求1所述的基于多层映射解析定位的兵兵球运动系统，其根据多层映射 解析计算位置的服务器的特征在于:获取垂直多层映射传感器组和平行多层映射传感器组 发送的图像，识别图像中是否存在乒乓球图形，判断是否需要切换焦距；发出焦距切换指 令;根据垂直和水平多层映射传感器组中灰度相机的位置与乒乓球在映射图像中的位置计 算乒乓球的空间位置。</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" num="6">
<div class="claim-text">6. 根据权利要求1所述的基于多层映射解析定位的乒乓球运动系统，其特征还包括配 备压力传感器的乒乓球拍。</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" num="7">
<div class="claim-text">7. 根据权利要求6所述的基于多层映射解析定位的乒乓球运动系统，其配备压力传感 器的乒乓球拍的特征在于:乒乓球拍包括手柄、基板以及贴在基板上左右对称的胶皮，其中 左、右胶皮与基板之间缝隙处部署压力传感器，压力传感器获取压力传感数据，然后将压力 传感数据发送至根据多层映射解析计算位置的服务器。</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" num="8">
<div class="claim-text">8. 根据权利要求6所述的基于多层映射解析定位的乒乓球运动系统，其根据多层映射 解析计算位置的服务器的特征在于：获取乒乓球拍中压力传感器检测的压力传感数据，计 算乒乓球拍撞击乒乓球的位置和力度。</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" num="9">
<div class="claim-text">9. 根据权利要求2所述的基于多层映射解析定位的乒乓球运动系统，其垂直多层映射 传感器组的特征在于:垂直多层映射传感器组的灰度相机与乒乓球桌面的最佳距离为3米。</div>
</div>
</div> <div class="claim-dependent"> <div class="claim" num="10">
<div class="claim-text">10.根据权利要求3所述的基于多层映射解析定位的乒乓球运动系统，其平行多层映射 传感器组的特征在于:平行多层映射传感器组的灰度相机与乒乓球桌的最佳水平距离为2 米、垂直距离为1米;平行多层映射传感器组的纯色幕布悬挂在与乒乓球网所在平面垂直且 距离乒乓球桌另一侧1米的侧方位置。</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    