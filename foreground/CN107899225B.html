
    <html>
        <body>
            <search-app>
                <article class="result" itemscope="" itemtype="http://schema.org/ScholarlyArticle">
    <h1 itemprop="pageTitle">CN107899225B - Table tennis serving score identification method based on motion trail 
        - Google Patents</h1><section itemprop="abstract" itemscope="">
<h2>Abstract</h2>
<div html="" itemprop="content"><abstract lang="EN" load-source="patent-office" mxw-id="PA401803066">
<div class="abstract" num="0001">The invention discloses a table tennis serving score identification method based on a motion trail. The method comprises the following steps: step 1, establishing a three-dimensional space coordinate system and setting parameters; step 2, calculating real-time position coordinate values of the table tennis balls and judging whether the table tennis balls are sent or not; step 3, calculating the real-time position coordinate value and the calculation variable of the table tennis<span class="patent-image-not-available"></span>A value of (d); step 4, judging the collision point of the table tennis according to the motion trail and judging whether the service scores according to the collision point; step 4.1, judging whether the table tennis hits the table top or not according to the motion trail; step 4.2, judging whether the table tennis hits the ground or not according to the motion trail; step 4.3, judging whether the table tennis hits the net or not according to the motion trail; and 4.4, judging whether the table tennis is impacted by the racket according to the motion trail. The invention solves the problem that the table tennis sport system based on the Internet of things cannot simply and effectively identify the serve score.</div>
</abstract>
</div>
</section><section itemprop="description" itemscope="">
<h2>Description</h2>
<div html="" itemprop="content"><div class="description" lang="EN" load-source="patent-office" mxw-id="PDES268508562">
<invention-title id="en-title1" lang="EN">Table tennis serving score identification method based on motion trail</invention-title>
<technical-field>
<div class="description-paragraph" id="p0001" num="0001">Technical Field</div>
<div class="description-paragraph" id="p0002" num="0002">The invention belongs to the technical field of intelligent table tennis, and particularly relates to a table tennis serving score identification method based on a movement track.</div>
</technical-field>
<background-art>
<div class="description-paragraph" id="p0003" num="0003">Background</div>
<div class="description-paragraph" id="p0004" num="0004">The existing table tennis sport system based on the Internet of things needs to simply and effectively judge the serve score, but at present, no technical scheme for simply and effectively identifying the serve score exists. Therefore, a table tennis serving score identification method based on the movement track is provided.</div>
</background-art>
<disclosure>
<div class="description-paragraph" id="p0005" num="0005">Disclosure of Invention</div>
<div class="description-paragraph" id="p0006" num="0006">The invention aims to solve the technical problem that a table tennis sport system based on the Internet of things cannot simply and effectively identify serve scores, and provides a table tennis serve score identification method based on a sport track.</div>
<div class="description-paragraph" id="p0007" num="0007">The invention is based on a table tennis positioning technology, wherein the table tennis positioning technology refers to a technology for calculating the real-time position of a table tennis in the motion process through the existing Internet of things device and positioning method. As shown in fig. 1, an internet of things component (such as a signal strength positioning component) deployed in a table tennis system for realizing table tennis ball positioning acquires position data of a table tennis ball; the server judges the service moment according to the table tennis position data, monitors the motion trail and the collision condition of the table tennis after the service moment in real time according to the position data and judges whether the service scores.</div>
<div class="description-paragraph" id="p0008" num="0008">The table tennis serving score identification method based on the movement track comprises the following steps:</div>
<div class="description-paragraph" id="p0009" num="0009">step 1, establishing a three-dimensional space coordinate system and setting parameters.</div>
<div class="description-paragraph" id="p0010" num="0010">And establishing a three-dimensional space coordinate system, wherein the original point is the center of the table tennis table, the x axis and the y axis form a horizontal plane, the x axis is parallel to the narrow edge of the table tennis table, the y axis is parallel to the long edge of the table tennis table, and the z axis is vertical to the table top and faces upwards. The position of the ping-pong table is fixed in a coordinate system, and the Z-axis coordinate value of the ground is recorded as Z<sub>0</sub>(ii) a The X-axis coordinate value range of the spherical table surface is (-X)<sub>1</sub>,X<sub>1</sub>) The Y-axis coordinate value range is (-Y)<sub>1</sub>,Y<sub>1</sub>) The Z-axis coordinate value being Z<sub>1</sub>(ii) a The X-axis coordinate value range of the net is (-X)<sub>2</sub>,X<sub>2</sub>) The coordinate value of the Y-axis is Y<sub>2</sub>The Z-axis coordinate value range is (Z)<sub>1</sub>,Z<sub>2</sub>). The two parties of the game are respectively numbered A and B, and then the numbers of the table and the racket are the numbers of the corresponding parties. Setting a sampling time interval T, wherein the value of the sampling time interval T is smaller than the average time interval (obtained according to historical data statistics) between two times of batting of the game; setting a ping-pong acceleration threshold P for judging serving; an angle change threshold Q for identifying a table tennis ball impact is set. A collision deviation tolerance value M is set. Statement of angle variable of table tennis in unit time interval<span class="patent-image-not-available"></span>The declaration variable k is 1. A variable i representing the positioning time sequence is declared, i ‚ïê i +1 after each positioning.</div>
<div class="description-paragraph" id="p0011" num="0011">And 2, calculating the real-time position coordinate value of the table tennis and judging whether to serve the table tennis.</div>
<div class="description-paragraph" id="p0012" num="0012">Calculating the position coordinate value of the table tennis at each sampling moment by using the existing table tennis positioning technology and device; let i equal to i +1, and the coordinate value of the ping-pong ball position is (x)<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) The coordinate value (x) of the ping-pong ball position at the previous moment is called<sub>i-1</sub>,y<sub>i-1</sub>,z<sub>i-1</sub>) Calculating the acceleration of the table tennis<span class="patent-image-not-available"></span>When a is&gt;P, determining the ball serving time, and determining the value (x) of the table tennis coordinate<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Identifying the number of the ball serving party in the range, and entering the step 3 if the identified ball serving party is the own party; otherwise, returning to the step 2.</div>
<div class="description-paragraph" id="p0013" num="0013">Step 3, calculating the real-time position coordinate value and the calculation variable of the table tennis<span class="patent-image-not-available"></span>The value of (c).</div>
<div class="description-paragraph" id="p0014" num="0014">Calculating the position coordinate value of the table tennis at each sampling moment by using the existing table tennis positioning device; let i equal to i +1, and the coordinate value of the ping-pong ball position is (x)<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) The coordinate value (x) of the position of the table tennis ball at the first two moments is called<sub>i-1</sub>,y<sub>i-1</sub>,z<sub>i-1</sub>) And (x)<sub>i-2</sub>,y<sub>i-2</sub>,z<sub>i-2</sub>) Calculating<span class="patent-image-not-available"></span>Computing<span class="patent-image-not-available"></span> <span class="patent-image-not-available"></span>When in use<span class="patent-image-not-available"></span>If so, judging that the table tennis ball collides, and entering the step 4; otherwise, judging that the table tennis ball is not collided, and returning to the step 3.</div>
<div class="description-paragraph" id="p0015" num="0015">And 4, judging the collision point of the table tennis ball according to the motion trail and judging whether the service score is achieved according to the collision point.</div>
<div class="description-paragraph" id="p0016" num="0016">And 4.1, judging whether the table tennis hits the table top according to the motion trail.</div>
<div class="description-paragraph" id="p0017" num="0017">When full ofFoot<span class="patent-image-not-available"></span>If so, judging that the table tennis hits the table top; if k is 1, the coordinate value (x) of table tennis ball is determined<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the number of the hit table is consistent with the number of the ball serving party or not in the range, if so, making k equal to k +1, returning to the step 3, otherwise, judging that the ball serving is unsuccessful, and ending; if k is 2, the coordinate value (x) of table tennis ball is used<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the number of the hit table is consistent with the number of the ball serving party or not in the range, if so, judging that the ball serving is unsuccessful, ending, otherwise, judging that the ball serving is successful, and enabling k to be k +1, and returning to the step 3; if k is&gt;2, judging that the table tennis hits the table again, and finishing the process when the own party scores the serve; when it is not satisfied<span class="patent-image-not-available"></span>And if so, judging that the table tennis does not hit the table top, and entering the step 4.2.</div>
<div class="description-paragraph" id="p0018" num="0018">And 4.2, judging whether the table tennis hits the ground or not according to the motion trail.</div>
<div class="description-paragraph" id="p0019" num="0019">When Z is satisfied<sub>0</sub>‚â§z<sub>i</sub>&lt;(Z<sub>0</sub>+ M), judging that the table tennis ball impacts the ground; if k is less than or equal to 2, judging that the ball serving is unsuccessful at the moment, and ending; if k is&gt;2, judging the self serve score at the moment, and ending; when Z is not satisfied<sub>0</sub>‚â§z<sub>i</sub>&lt;(Z<sub>0</sub>+ M), the table tennis ball is judged not to impact the ground, and the step 4.3 is carried out.</div>
<div class="description-paragraph" id="p0020" num="0020">And 4.3, judging whether the table tennis hits the net or not according to the motion trail.</div>
<div class="description-paragraph" id="p0021" num="0021">When it is satisfied with<span class="patent-image-not-available"></span>If so, determining that the table tennis strikes the ball net; if k is 1, judging that the ball is not sent successfully, and ending; if k is 2, returning to the step 3; if k is&gt;2, judging the self serve score at the moment, and ending; when it is not satisfied<span class="patent-image-not-available"></span>Then, it is determinedThe table tennis ball does not hit the net and the process proceeds to step 4.4.</div>
<div class="description-paragraph" id="p0022" num="0022">And 4.4, judging whether the table tennis is impacted by the racket according to the motion trail.</div>
<div class="description-paragraph" id="p0023" num="0023">At the moment, the table tennis is judged to be impacted by the bat; if k is 1, judging that the ball is not sent successfully, and ending; if k is 2, the coordinate value (x) of table tennis ball is used<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the serial number of the racket is consistent with the serial number of the ball serving party or not in the range, if so, judging that the ball serving is unsuccessful, and ending, otherwise, judging that the ball serving of the own party is scored, and ending; if k is&gt;2, according to the coordinate value (x) of table tennis<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the serial number of the bat is consistent with the serial number of the ball serving party, if so, judging that the table tennis is impacted by the own bat, scoring the own bat and ending, otherwise, judging that the table tennis is impacted by the opposite bat, and ending when the own bat is not scored.</div>
<div class="description-paragraph" id="p0024" num="0024">A flow chart of a table tennis serving score identification method based on a movement track is shown in fig. 2.</div>
<div class="description-paragraph" id="p0025" num="0025">The method of the invention has the advantages that:</div>
<div class="description-paragraph" id="p0026" num="0026">(1) the change value of the table tennis motion angle is calculated through the table tennis continuous position data, and whether collision occurs can be simply and effectively judged.</div>
<div class="description-paragraph" id="p0027" num="0027">(2) According to the position of the table tennis relative to the table tennis table, the net and the ground when the collision occurs, the collision between the table tennis and the table tennis table, the net, the ground or the bat can be simply and effectively identified.</div>
<div class="description-paragraph" id="p0028" num="0028">(3) According to the motion track and collision of the table tennis after serving, whether the table tennis is scored or not can be effectively identified.</div>
</disclosure>
<description-of-drawings>
<div class="description-paragraph" id="p0029" num="0029">Drawings</div>
<div class="description-paragraph" id="p0030" num="0030">FIG. 1 is a schematic diagram of a table tennis system of the present invention based on signal strength location technology;</div>
<div class="description-paragraph" id="p0031" num="0031">FIG. 2 is a flow chart of a table tennis serving score identification method based on a movement trajectory according to the present invention;</div>
<div class="description-paragraph" id="p0032" num="0032">FIG. 3 is a schematic diagram of a table tennis ball positioning three-dimensional space coordinate system according to an embodiment of the invention;</div>
</description-of-drawings>
<mode-for-invention>
<div class="description-paragraph" id="p0033" num="0033">Detailed Description</div>
<div class="description-paragraph" id="p0034" num="0034">The following describes in detail preferred embodiments of the present invention.</div>
<div class="description-paragraph" id="p0035" num="0035">The invention is based on a table tennis positioning technology, wherein the table tennis positioning technology refers to a technology for calculating the real-time position of a table tennis in the motion process through the existing Internet of things device and positioning method. As shown in fig. 1, an internet of things component (such as a signal strength positioning component) deployed in a table tennis system for realizing table tennis ball positioning acquires position data of a table tennis ball; the server judges the service moment according to the table tennis position data, monitors the motion trail and the collision condition of the table tennis after the service moment in real time according to the position data and judges whether the service scores.</div>
<div class="description-paragraph" id="p0036" num="0036">The table tennis serving score identification method based on the movement track comprises the following steps:</div>
<div class="description-paragraph" id="p0037" num="0037">step 1, establishing a three-dimensional space coordinate system and setting parameters.</div>
<div class="description-paragraph" id="p0038" num="0038">And establishing a three-dimensional space coordinate system, wherein the original point is the center of the table tennis table, the x axis and the y axis form a horizontal plane, the x axis is parallel to the narrow edge of the table tennis table, the y axis is parallel to the long edge of the table tennis table, and the z axis is vertical to the table top and faces upwards. The position of the ping-pong table is fixed in a coordinate system, and the Z-axis coordinate value of the ground is recorded as Z<sub>0</sub>(ii) a The X-axis coordinate value range of the spherical table surface is (-X)<sub>1</sub>,X<sub>1</sub>) The Y-axis coordinate value range is (-Y)<sub>1</sub>,Y<sub>1</sub>) The Z-axis coordinate value being Z<sub>1</sub>(ii) a The X-axis coordinate value range of the net is (-X)<sub>2</sub>,X<sub>2</sub>) The coordinate value of the Y-axis is Y<sub>2</sub>The Z-axis coordinate value range is (Z)<sub>1</sub>,Z<sub>2</sub>). The two parties of the game are respectively numbered A and B, and then the numbers of the table and the racket are the numbers of the corresponding parties. Setting a sampling time interval T, wherein the value of the sampling time interval T is smaller than the average time interval (obtained according to historical data statistics) between two times of batting of the game; setting a ping-pong acceleration threshold P for judging serving; an angle change threshold Q for identifying a table tennis ball impact is set. A collision deviation tolerance value M is set. Statement of angle variable of table tennis in unit time interval<span class="patent-image-not-available"></span>The declaration variable k is 1. A variable i representing the positioning time sequence is declared, i ‚ïê i +1 after each positioning. In this exampleThe origin of the three-dimensional space coordinate system is established as the center of the table tennis table, the center of the table tennis table is the intersection point of the central axis of the table tennis net and the table tennis table, the x axis is parallel to the narrow side of the table tennis table, the y axis is parallel to the long side of the table tennis table, and the z axis is vertical to the table top and faces upwards. The position of the ping-pong table is fixed in a coordinate system, and the Z-axis coordinate value of the ground is recorded as Z<sub>0</sub>-0.76; the X-axis coordinate value range of the spherical table surface is (-X)<sub>1</sub>,X<sub>1</sub>) (-0.7625,0.7625), and the Y-axis coordinate value range is (-Y)<sub>1</sub>,Y<sub>1</sub>) (-1.37,1.37), Z-axis coordinate value is Z<sub>1</sub>0; the X-axis coordinate value range of the net is (-X)<sub>2</sub>,X<sub>2</sub>) (-0.915,0.915), and Y-axis coordinate value is Y<sub>2</sub>0, Z-axis coordinate value range (Z)<sub>1</sub>,Z<sub>2</sub>) (0, 0.15). The Z-axis coordinate value of the ball table top is Z<sub>1</sub>0. Note: all coordinate values of the invention are in meters. The numbers of the game parties are A and B (if the direction of the negative value of the y axis is taken as the A party, and the direction of the positive value of the y axis is taken as the B party), the numbers of the table and the racket are the numbers A or B of the corresponding game parties. Setting a sampling time interval T to be 100 milliseconds; setting a ping-pong acceleration threshold value P for judging serving as 20 meters per second of square (m/s)<sup>2</sup>) (ii) a The angle change threshold Q for identifying a table tennis ball impact is set to 120 ¬∞. The collision deviation tolerance value M is set to 0.25M. Statement of angle variable of table tennis in unit time interval<span class="patent-image-not-available"></span>The declaration variable k is 1. A variable i representing the positioning time sequence is declared, i ‚ïê i +1 after each positioning.</div>
<div class="description-paragraph" id="p0039" num="0039">And 2, calculating the real-time position coordinate value of the table tennis and judging whether to serve the table tennis.</div>
<div class="description-paragraph" id="p0040" num="0040">Calculating the position coordinate value of the table tennis at each sampling moment by using the existing table tennis positioning technology and device; let i equal to i +1, and the coordinate value of the ping-pong ball position is (x)<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) The coordinate value (x) of the ping-pong ball position at the previous moment is called<sub>i-1</sub>,y<sub>i-1</sub>,z<sub>i-1</sub>) Calculating the acceleration of the table tennis<span class="patent-image-not-available"></span>When a is&gt;P, determining the ball serving time, and determining the value (x) of the table tennis coordinate<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Identifying the number of the ball serving party in the range, and entering the step 3 if the identified ball serving party is the own party; otherwise, returning to the step 2. In this embodiment, the real-time position coordinate value of the table tennis ball is calculated by using the table tennis ball positioning device and method based on signal intensity positioning. Three signal receiving devices are distributed on the table tennis table, a signal sending device is carried on the table tennis, each signal receiving device receives a wireless signal sent by the table tennis, the signal intensity is obtained and sent to a server, and the server calculates the position coordinate value of the table tennis at the sampling moment according to the signal intensity and the position of the signal receiving device. When i is 3, the coordinate value of table tennis is (x)<sub>3</sub>,y<sub>3</sub>,z<sub>3</sub>) The coordinate value (x) of the table tennis ball at the previous moment is called as (0,1.8,0.5)<sub>2</sub>,y<sub>2</sub>,z<sub>2</sub>) (0,2, 0.6). Calculating the acceleration of the table tennis<span class="patent-image-not-available"></span>Then it is determined that the ball was delivered at that time, x<sub>3</sub>Ôºù0Ôºåy<sub>3</sub>Ôºù1.8&gt;0, the party to serve is judged as the party B (called the own party), and the process goes to step 3.</div>
<div class="description-paragraph" id="p0041" num="0041">Step 3, calculating the real-time position coordinate value and the calculation variable of the table tennis<span class="patent-image-not-available"></span>The value of (c).</div>
<div class="description-paragraph" id="p0042" num="0042">Calculating the position coordinate value of the table tennis at each sampling moment by using the existing table tennis positioning device; let i equal to i +1, and the coordinate value of the ping-pong ball position is (x)<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) The coordinate value (x) of the position of the table tennis ball at the first two moments is called<sub>i-1</sub>,y<sub>i-1</sub>,z<sub>i-1</sub>) And (x)<sub>i-2</sub>,y<sub>i-2</sub>,z<sub>i-2</sub>) Calculating<span class="patent-image-not-available"></span>Computing<span class="patent-image-not-available"></span> <span class="patent-image-not-available"></span>When in use<span class="patent-image-not-available"></span>If so, judging that the table tennis ball collides, and entering the step 4; otherwise, judging that the table tennis ball is not collided, and returning to the step 3. In this embodiment, the real-time position coordinate value of the table tennis ball is calculated by using the table tennis ball positioning device and method based on signal intensity positioning. i + 1-4, the coordinate value of table tennis is (x)<sub>4</sub>,y<sub>4</sub>,z<sub>4</sub>) The table tennis coordinate values of the last two moments are taken as (x) respectively (0.1,1.75 and 0.4)<sub>3</sub>,y<sub>3</sub>,z<sub>3</sub>) (0,1.8,0.5) and (x)<sub>2</sub>,y<sub>2</sub>,z<sub>2</sub>) (0,2,0.6), calculate<span class="patent-image-not-available"></span>Variables of<span class="patent-image-not-available"></span>Has a value of<span class="patent-image-not-available"></span> <span class="patent-image-not-available"></span>And (5) judging that the table tennis ball is not collided, and returning to the step 3. i + 1-5, the coordinate value of table tennis is (x)<sub>5</sub>,y<sub>5</sub>,z<sub>5</sub>) (0.4,1.5,0.15), calculation<span class="patent-image-not-available"></span>Variables of<span class="patent-image-not-available"></span>Has a value of<span class="patent-image-not-available"></span> <span class="patent-image-not-available"></span>Determine that the table tennis ball is not bumpedAnd (5) returning to the step 3. i +1 is 6, and the coordinate value of table tennis is (x)<sub>6</sub>,y<sub>6</sub>,z<sub>6</sub>)Ôºù(0.4,1,0.2)Ôºå(x<sub>i-1</sub>-x<sub>i</sub>,y<sub>i-1</sub>-y<sub>i</sub>,z<sub>i-1</sub>-z<sub>i</sub>)Ôºù(0,0.5,-0.05)Ôºå(x<sub>i-1</sub>-x<sub>i-2</sub>,y<sub>i-1</sub>-y<sub>i-2</sub>,z<sub>i-1</sub>-z<sub>i-2</sub>) (0.3, -0.25, -0.25), calculation<span class="patent-image-not-available"></span>Computing<span class="patent-image-not-available"></span>Has a value of<span class="patent-image-not-available"></span>Judging that the table tennis ball collides, and entering step 4.</div>
<div class="description-paragraph" id="p0043" num="0043">And 4, judging the collision point of the table tennis ball according to the motion trail and judging whether the service score is achieved according to the collision point.</div>
<div class="description-paragraph" id="p0044" num="0044">And 4.1, judging whether the table tennis hits the table top according to the motion trail.</div>
<div class="description-paragraph" id="p0045" num="0045">When it is satisfied with<span class="patent-image-not-available"></span>If so, judging that the table tennis hits the table top; if k is 1, the coordinate value (x) of table tennis ball is determined<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the number of the hit table is consistent with the number of the ball serving party or not in the range, if so, making k equal to k +1, returning to the step 3, otherwise, judging that the ball serving is unsuccessful, and ending; if k is 2, the coordinate value (x) of table tennis ball is used<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the number of the hit table is consistent with the number of the ball serving party or not in the range, if so, judging that the ball serving is unsuccessful, ending, otherwise, judging that the ball serving is successful, and enabling k to be k +1, and returning to the step 3; if k is&gt;2, judging that the table tennis hits the table again, and finishing the process when the own party scores the serve; when it is not satisfied<span class="patent-image-not-available"></span>Then, it is determined that the table tennis ball does not hit the table top, and thenGo to step 4.2. In this embodiment, i is 6, k is 1, (x)<sub>6</sub>,y<sub>6</sub>,z<sub>6</sub>) (0.4,1,0.2) satisfying<span class="patent-image-not-available"></span>Then it is determined that the table tennis ball hits the table top, k is 1 and y<sub>6</sub>&gt;And 0, judging that the number of the hit table is B, namely the hit table number is consistent with the number of the ball serving party, and returning to the step 3 after k is equal to k +1 and equal to 2.</div>
<div class="description-paragraph" id="p0046" num="0046">When i +1 is 7, the variable is calculated<span class="patent-image-not-available"></span>If the value is more than 120 degrees, the table tennis ball is judged not to be collided, and the step 3 is returned.</div>
<div class="description-paragraph" id="p0047" num="0047">When i +1 is 8, the variable is calculated<span class="patent-image-not-available"></span>If the value is more than 120 degrees, the table tennis ball is judged not to be collided, and the step 3 is returned.</div>
<div class="description-paragraph" id="p0048" num="0048">When i +1 is 9, the variable is calculated<span class="patent-image-not-available"></span>If the value is more than 120 degrees, the table tennis ball is judged not to be collided, and the step 3 is returned.</div>
<div class="description-paragraph" id="p0049" num="0049">Calculated as variables when i +1 is 10<span class="patent-image-not-available"></span>Has a value of 110 ¬∞&lt;And if Q is 120 degrees, judging that the table tennis ball collides, and entering the step 4. When i is 10, (x)<sub>10</sub>,y<sub>10</sub>,z<sub>10</sub>) Not satisfying (0, -0.2,0.5)<span class="patent-image-not-available"></span>Then the table tennis ball is judged not to impact the table top and the step 4.2 is carried out.</div>
<div class="description-paragraph" id="p0050" num="0050">And 4.2, judging whether the table tennis hits the ground or not according to the motion trail.</div>
<div class="description-paragraph" id="p0051" num="0051">When Z is satisfied<sub>0</sub>‚â§z<sub>i</sub>&lt;(Z<sub>0</sub>+ M), judging that the table tennis ball impacts the ground; if k is less than or equal to 2, judging that the ball serving is unsuccessful at the moment, and ending; if it isk&gt;2, judging the self serve score at the moment, and ending; when Z is not satisfied<sub>0</sub>‚â§z<sub>i</sub>&lt;(Z<sub>0</sub>+ M), the table tennis ball is judged not to impact the ground, and the step 4.3 is carried out. In this embodiment, when i is 10, (x)<sub>10</sub>,y<sub>10</sub>,z<sub>10</sub>) (0, -0.2,0.5) does not satisfy Z<sub>0</sub>‚â§z<sub>i</sub>&lt;(Z<sub>0</sub>+ M), then the table tennis ball is judged not to impact the ground, and the step 4.3 is entered.</div>
<div class="description-paragraph" id="p0052" num="0052">And 4.3, judging whether the table tennis hits the net or not according to the motion trail.</div>
<div class="description-paragraph" id="p0053" num="0053">When it is satisfied with<span class="patent-image-not-available"></span>If so, determining that the table tennis strikes the ball net; if k is 1, judging that the ball is not sent successfully, and ending; if k is 2, returning to the step 3; if k is&gt;2, judging the self serve score at the moment, and ending; when it is not satisfied<span class="patent-image-not-available"></span>If so, the table tennis is judged not to hit the net, and the step 4.4 is carried out. In this embodiment, when i is 10, (x)<sub>10</sub>,y<sub>10</sub>,z<sub>10</sub>) Not satisfying (0, -0.2,0.5)<span class="patent-image-not-available"></span>It is determined that the table tennis ball does not hit the net and the process proceeds to step 4.4.</div>
<div class="description-paragraph" id="p0054" num="0054">And 4.4, judging whether the table tennis is impacted by the racket according to the motion trail.</div>
<div class="description-paragraph" id="p0055" num="0055">At the moment, the table tennis is judged to be impacted by the bat; if k is 1, judging that the ball is not sent successfully, and ending; if k is 2, the coordinate value (x) of table tennis ball is used<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the serial number of the racket is consistent with the serial number of the ball serving party or not in the range, if so, judging that the ball serving is unsuccessful, and ending, otherwise, judging that the ball serving of the own party is scored, and ending; if k is&gt;2, according to the coordinate value (x) of table tennis<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the serial number of the bat is consistent with the serial number of the ball serving party or not in the range of the position, if so, judging that the table tennis is impacted by the own bat, and at the moment, the own party serves for scoring, and endingOtherwise, judging that the table tennis is impacted by the opposite side bat, and ending when the own side does not score the serve. In this embodiment, i is 10, k is 2, (x)<sub>10</sub>,y<sub>10</sub>,z<sub>10</sub>) (0, -0.2,0.5), judging that the table tennis ball is impacted by the racket, y<sub>10</sub>Ôºù-0.2&lt;0, the racket is A, if the racket is not consistent with the ball serving party, the ball serving of the own party is judged to be scored, and the process is finished.</div>
<div class="description-paragraph" id="p0056" num="0056">Of course, those skilled in the art should realize that the above embodiments are only used for illustrating the present invention, and not as a limitation to the present invention, and that the changes and modifications of the above embodiments will fall within the protection scope of the present invention as long as they are within the scope of the present invention.</div>
</mode-for-invention>
</div>
</div>
</section><section itemprop="claims" itemscope="">
<h2>Claims (<span itemprop="count">1</span>)</h2>
<div html="" itemprop="content"><div class="claims" lang="EN" load-source="patent-office" mxw-id="PCLM263561302">
<div class="claim"> <div class="claim" id="en-cl0001" num="0001">
<div class="claim-text">1. A table tennis serving score identification method based on a motion trail is characterized in that:</div>
<div class="claim-text">step 1, establishing a three-dimensional space coordinate system and setting parameters;</div>
<div class="claim-text">establishing a three-dimensional space coordinate system, wherein the original point is the center of the table tennis table, the x axis and the y axis form a horizontal plane, the x axis is parallel to the narrow side of the table tennis table, the y axis is parallel to the long side of the table tennis table, and the z axis is vertical to the table top and faces upwards; recording the Z-axis coordinate value of the ground as Z<sub>0</sub>(ii) a The X-axis coordinate value range of the spherical table surface is (-X)<sub>1</sub>,X<sub>1</sub>) The Y-axis coordinate value range is (-Y)<sub>1</sub>,Y<sub>1</sub>) The Z-axis coordinate value being Z<sub>1</sub>(ii) a The X-axis coordinate value range of the net is (-X)<sub>2</sub>,X<sub>2</sub>) The coordinate value of the Y-axis is Y<sub>2</sub>The Z-axis coordinate value range is (Z)<sub>1</sub>,Z<sub>2</sub>) (ii) a Numbering the game parties A and B respectively, and numbering the table and the racket as the numbers of the corresponding game parties; setting a sampling time interval T; setting a ping-pong acceleration threshold P for judging serving; setting an angle change threshold Q for identifying table tennis ball collision; setting a collision deviation tolerance value M; statement of angle variable of table tennis in unit time interval<span class="patent-image-not-available"></span>Declaring a variable k equal to 1; declaring a variable i representing a positioning time sequence;</div>
<div class="claim-text">step 2, calculating real-time position coordinate values of the table tennis balls and judging whether the table tennis balls are sent or not;</div>
<div class="claim-text">calculating the position coordinate value of the table tennis at each sampling moment by utilizing a table tennis positioning technology and a table tennis positioning device; let i equal to i +1, and the coordinate value of the ping-pong ball position is (x)<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) The coordinate value (x) of the ping-pong ball position at the previous moment is called<sub>i-1</sub>,y<sub>i-1</sub>,z<sub>i-1</sub>) Calculating the acceleration of the table tennis<span class="patent-image-not-available"></span>When a is&gt;P, determining the ball serving time, and determining the value (x) of the table tennis coordinate<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Identifying the number of the ball serving party in the range, and entering the step 3 if the identified ball serving party is the own party; otherwise, returning to the step 2;</div>
<div class="claim-text">step 3, calculating the real-time position coordinate value and the calculation variable of the table tennis<span class="patent-image-not-available"></span>A value of (d);</div>
<div class="claim-text">calculating the position coordinate value of the table tennis at each sampling moment by utilizing a table tennis positioning technology and a table tennis positioning device; let i equal to i +1, and the coordinate value of the ping-pong ball position is (x)<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) The coordinate value (x) of the position of the table tennis ball at the first two moments is called<sub>i-1</sub>,y<sub>i-1</sub>,z<sub>i-1</sub>) And (x)<sub>i-2</sub>,y<sub>i-2</sub>,z<sub>i-2</sub>) Calculating<span class="patent-image-not-available"></span>Computing<span class="patent-image-not-available"></span> <span class="patent-image-not-available"></span>When in use<span class="patent-image-not-available"></span>If so, judging that the table tennis ball collides, and entering the step 4; otherwise, determining the ping-pongReturning to the step 3 if the ball is not collided;</div>
<div class="claim-text">step 4, judging the collision point of the table tennis according to the motion trail and judging whether the service scores according to the collision point;</div>
<div class="claim-text">step 4.1, judging whether the table tennis hits the table top or not according to the motion trail;</div>
<div class="claim-text">when it is satisfied with<span class="patent-image-not-available"></span>If so, judging that the table tennis hits the table top; if k is 1, the coordinate value (x) of table tennis ball is determined<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the number of the hit table is consistent with the number of the ball serving party or not in the range, if so, making k equal to k +1, returning to the step 3, otherwise, judging that the ball serving is unsuccessful, and ending; if k is 2, the coordinate value (x) of table tennis ball is used<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the number of the hit table is consistent with the number of the ball serving party or not in the range, if so, judging that the ball serving is unsuccessful, ending, otherwise, judging that the ball serving is successful, and enabling k to be k +1, and returning to the step 3; if k is&gt;2, judging that the table tennis hits the table again, and finishing the process when the own party scores the serve; when it is not satisfied<span class="patent-image-not-available"></span>If so, judging that the table tennis does not hit the table top, and entering the step 4.2;</div>
<div class="claim-text">step 4.2, judging whether the table tennis hits the ground or not according to the motion trail;</div>
<div class="claim-text">when Z is satisfied<sub>0</sub>‚â§z<sub>i</sub>&lt;(Z<sub>0</sub>+ M), judging that the table tennis ball impacts the ground; if k is less than or equal to 2, judging that the ball serving is unsuccessful at the moment, and ending; if k is&gt;2, judging the self serve score at the moment, and ending; when Z is not satisfied<sub>0</sub>‚â§z<sub>i</sub>&lt;(Z<sub>0</sub>+ M), judging that the table tennis does not impact the ground, and entering step 4.3;</div>
<div class="claim-text">step 4.3, judging whether the table tennis hits the net or not according to the motion trail;</div>
<div class="claim-text">when it is satisfied with<span class="patent-image-not-available"></span>If so, determining that the table tennis strikes the ball net; if k is 1, judging that the ball is not sent successfully, and ending; if k is 2, returning to the step 3; if k is&gt;2, judging the self serve score at the moment, and ending; when it is not satisfied<span class="patent-image-not-available"></span>If so, judging that the table tennis does not hit the net, and entering the step 4.4;</div>
<div class="claim-text">step 4.4, judging whether the table tennis is impacted by the racket according to the motion trail;</div>
<div class="claim-text">at the moment, the table tennis is judged to be impacted by the bat; if k is 1, judging that the ball is not sent successfully, and ending; if k is 2, the coordinate value (x) of table tennis ball is used<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the serial number of the racket is consistent with the serial number of the ball serving party or not in the range, if so, judging that the ball serving is unsuccessful, and ending, otherwise, judging that the ball serving of the own party is scored, and ending; if k is&gt;2, according to the coordinate value (x) of table tennis<sub>i</sub>,y<sub>i</sub>,z<sub>i</sub>) Judging whether the serial number of the bat is consistent with the serial number of the ball serving party, if so, judging that the table tennis is impacted by the own bat, scoring the own bat and ending, otherwise, judging that the table tennis is impacted by the opposite bat, and ending when the own bat is not scored.</div>
</div>
</div> </div>
</div>
</section>
                </article>
            </search-app>
        </body>
    </html>
    